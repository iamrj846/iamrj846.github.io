
    
            <!DOCTYPE html>
        <html lang="en">

        <head>
            <!-- Google tag (gtag.js) -->
            <script async src="https://www.googletagmanager.com/gtag/js?id=G-TFCQEJR7TD"></script>
            <script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
            gtag('config', 'G-TFCQEJR7TD');
            </script>
            <meta charset="utf-8">
            <meta http-equiv="X-UA-Compatible" content="IE=edge">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            
            <meta property="og:title" content="What Are the Differences Between Pipelining and Batching in StackExchange.Redis?" />
            <meta property="og:description" content="Discover the key differences between pipelining and batching in StackExchange.Redis to optimize your data operations effectively." />
            <meta property="og:url" content="https://www.bestonlinetutorial.com/redis/what-are-the-differences-between-pipelining-and-batching-in-stackexchange-redis.html" />
            <link rel="canonical" href="https://www.bestonlinetutorial.com/redis/what-are-the-differences-between-pipelining-and-batching-in-stackexchange-redis.html">
            <meta property="og:type" content="article" />
            <meta property="og:site_name" content=“BestOnlineTutorial” />
            <meta name="twitter:title" content="What Are the Differences Between Pipelining and Batching in StackExchange.Redis?" />
            <meta name="twitter:description" content="Discover the key differences between pipelining and batching in StackExchange.Redis to optimize your data operations effectively." />
            <meta name="pinterest-rich-pin" content="true" />

            <script type="application/ld+json">
                {
                "@context": "https://schema.org",
                "@type": "WebSite",
                "name": "BestOnlineTutorial",
                "url": "https://www.bestonlinetutorial.com/"
                }
            </script>
            <!-- Common CSS & Icons -->
            <link rel="icon" href="/favicon.ico" type="image/x-icon">
            <link rel="stylesheet" href="/assets/plugins/highlight/styles/monokai-sublime.css">
            <link id="theme-style" rel="stylesheet" href="/assets/css/theme-8.css">
            <link rel="stylesheet" href="/assets/css/post.css">
            <title>What Are the Differences Between Pipelining and Batching in StackExchange.Redis?</title>
            <meta name="description" content="Discover the key differences between pipelining and batching in StackExchange.Redis to optimize your data operations effectively.">
            <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
	        <script src="/assets/js/blog.js"></script>
        </head>

        <body>

            <div id="header-placeholder"></div>

            <div class="main-wrapper">

                <article class="blog-post px-3 py-5 p-md-5">
                    <div class="container single-col-max-width">
                        <header class="blog-post-header">
                            <h1 class="title mb-2">What Are the Differences Between Pipelining and Batching in StackExchange.Redis?</h1>
                        </header>

                        <div class="blog-post-body">
                            <p>To understand the differences between pipelining and batching in
StackExchange.Redis, we need to see that both methods help improve
performance. They do this by decreasing the number of trips to the Redis
server. But they work in different ways. Pipelining lets us send many
commands in one network call. We do not have to wait for a response.
Batching, on the other hand, puts several commands together and
processes them all at once. This basic difference can really change how
well we interact with Redis, especially in fast applications.</p>
<p>In this article, we will look into pipelining and batching in
StackExchange.Redis. We will explain what each one is and when to use
them. We will also point out the main differences, check how they affect
performance, and say when to use each method for the best Redis
performance. Plus, we will answer some common questions about this topic
to make things clearer.</p>
<ul>
<li>Understanding Pipelining in StackExchange.Redis</li>
<li>Understanding Batching in StackExchange.Redis</li>
<li>Key Differences Between Pipelining and Batching in
StackExchange.Redis</li>
<li>Performance Implications of Pipelining and Batching in
StackExchange.Redis</li>
<li>When to Use Pipelining or Batching in StackExchange.Redis</li>
<li>Frequently Asked Questions</li>
</ul>
<h2 id="understanding-pipelining-in-stackexchange.redis">Understanding
Pipelining in StackExchange.Redis</h2>
<p>Pipelining in StackExchange.Redis helps us send many commands to the
Redis server in one go. This way, we do not have to wait for a response
for each command. It makes our work faster.</p>
<h3 id="how-pipelining-works">How Pipelining Works</h3>
<p>When we use pipelining, we put commands in a queue on our side. Then,
we send all these commands to the server at once. The server then
processes them and sends back the answers in one batch. This method is
very helpful when we need to run many commands one after another.</p>
<h3 id="example-of-pipelining">Example of Pipelining</h3>
<p>Here is a simple example that shows how to use pipelining in C# with
StackExchange.Redis:</p>
<div class="sourceCode" id="cb1"><pre
class="sourceCode csharp"><code class="sourceCode cs"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> StackExchange<span class="op">.</span><span class="fu">Redis</span><span class="op">;</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>ConnectionMultiplexer redis <span class="op">=</span> ConnectionMultiplexer<span class="op">.</span><span class="fu">Connect</span><span class="op">(</span><span class="st">&quot;localhost&quot;</span><span class="op">);</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>IDatabase db <span class="op">=</span> redis<span class="op">.</span><span class="fu">GetDatabase</span><span class="op">();</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="dt">var</span> batch <span class="op">=</span> db<span class="op">.</span><span class="fu">CreateBatch</span><span class="op">();</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="dt">var</span> task1 <span class="op">=</span> batch<span class="op">.</span><span class="fu">StringSetAsync</span><span class="op">(</span><span class="st">&quot;key1&quot;</span><span class="op">,</span> <span class="st">&quot;value1&quot;</span><span class="op">);</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="dt">var</span> task2 <span class="op">=</span> batch<span class="op">.</span><span class="fu">StringSetAsync</span><span class="op">(</span><span class="st">&quot;key2&quot;</span><span class="op">,</span> <span class="st">&quot;value2&quot;</span><span class="op">);</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="dt">var</span> task3 <span class="op">=</span> batch<span class="op">.</span><span class="fu">StringGetAsync</span><span class="op">(</span><span class="st">&quot;key1&quot;</span><span class="op">);</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>batch<span class="op">.</span><span class="fu">Execute</span><span class="op">();</span> <span class="co">// Send all commands at once</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>await Task<span class="op">.</span><span class="fu">WhenAll</span><span class="op">(</span>task1<span class="op">,</span> task2<span class="op">,</span> task3<span class="op">);</span> <span class="co">// Await the tasks</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="dt">var</span> result <span class="op">=</span> task3<span class="op">.</span><span class="fu">Result</span><span class="op">;</span> <span class="co">// Access the result of the last command</span></span></code></pre></div>
<h3 id="benefits-of-pipelining">Benefits of Pipelining</h3>
<ul>
<li><strong>Reduced Latency</strong>: By sending many commands together,
we cut down the time for each command.</li>
<li><strong>Improved Performance</strong>: Pipelining is great for bulk
operations. It can really speed up applications that work with
Redis.</li>
<li><strong>Simplicity</strong>: Our code stays simple. We can queue
many commands without waiting for answers.</li>
</ul>
<h3 id="use-cases-for-pipelining">Use Cases for Pipelining</h3>
<ul>
<li>Batch adding or updating data in Redis.</li>
<li>Getting many keys at the same time.</li>
<li>Situations where speed is very important, like real-time apps.</li>
</ul>
<p>Pipelining is a key feature in StackExchange.Redis. It makes our work
with Redis better and helps us build high-performance applications. For
more details on Redis and what it can do, take a look at <a
href="https://bestonlinetutorial.com/redis/what-is-redis.html">this
guide on Redis</a>.</p>
<h2 id="understanding-batching-in-stackexchange.redis">Understanding
Batching in StackExchange.Redis</h2>
<p>Batching in StackExchange.Redis means we send many commands to the
Redis server at the same time. This helps us cut down on the extra time
we spend waiting for each command to go back and forth. It is very
useful when we want to run a set of commands quickly.</p>
<h3 id="key-features-of-batching">Key Features of Batching</h3>
<ul>
<li><strong>Single Network Call:</strong> Batching lets us send many
commands in one go. This makes the network wait time smaller.</li>
<li><strong>Atomicity:</strong> Batching makes sure that either all
commands run or none do. This is different from pipelining.</li>
<li><strong>Response Handling:</strong> We get a response for each
command after the server runs them.</li>
</ul>
<h3 id="how-to-implement-batching">How to Implement Batching</h3>
<p>To use batching in StackExchange.Redis, we can use the
<code>IDatabase.CreateBatch</code> method. Here is a simple example:</p>
<div class="sourceCode" id="cb2"><pre
class="sourceCode csharp"><code class="sourceCode cs"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> StackExchange<span class="op">.</span><span class="fu">Redis</span><span class="op">;</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>ConnectionMultiplexer redis <span class="op">=</span> ConnectionMultiplexer<span class="op">.</span><span class="fu">Connect</span><span class="op">(</span><span class="st">&quot;localhost&quot;</span><span class="op">);</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>IDatabase db <span class="op">=</span> redis<span class="op">.</span><span class="fu">GetDatabase</span><span class="op">();</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>IBatch batch <span class="op">=</span> db<span class="op">.</span><span class="fu">CreateBatch</span><span class="op">();</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>Task<span class="op">&lt;</span><span class="dt">string</span><span class="op">&gt;</span> task1 <span class="op">=</span> batch<span class="op">.</span><span class="fu">StringSetAsync</span><span class="op">(</span><span class="st">&quot;key1&quot;</span><span class="op">,</span> <span class="st">&quot;value1&quot;</span><span class="op">);</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>Task<span class="op">&lt;</span><span class="dt">string</span><span class="op">&gt;</span> task2 <span class="op">=</span> batch<span class="op">.</span><span class="fu">StringSetAsync</span><span class="op">(</span><span class="st">&quot;key2&quot;</span><span class="op">,</span> <span class="st">&quot;value2&quot;</span><span class="op">);</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>batch<span class="op">.</span><span class="fu">Execute</span><span class="op">();</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>await Task<span class="op">.</span><span class="fu">WhenAll</span><span class="op">(</span>task1<span class="op">,</span> task2<span class="op">);</span></span></code></pre></div>
<p>In this example, we put two commands (<code>StringSetAsync</code>)
into a batch. Then we run them in one network trip.</p>
<h3 id="use-cases-for-batching">Use Cases for Batching</h3>
<ul>
<li><strong>Initialization of Data:</strong> We can set many keys at
once when starting the application.</li>
<li><strong>Transactional Operations:</strong> We can group operations
together to make sure they run as one.</li>
<li><strong>Reducing Latency:</strong> When we have many commands to run
one after the other, batching helps us save time waiting for
answers.</li>
</ul>
<p>Batching is a strong tool in StackExchange.Redis. It can make our
work faster and keep our data safe when we run commands. For more
details, please check <a
href="https://bestonlinetutorial.com/redis/what-are-redis-data-types.html">this
article on Redis data types</a>.</p>
<h2
id="key-differences-between-pipelining-and-batching-in-stackexchange.redis">Key
Differences Between Pipelining and Batching in StackExchange.Redis</h2>
<p>Pipelining and batching are two methods we use in StackExchange.Redis
to make Redis operations faster. They are different in important
ways.</p>
<h3 id="pipelining">Pipelining</h3>
<p>Pipelining lets us send many commands to the Redis server at once. We
do not have to wait for the server to reply to each command. This helps
us reduce the time it takes for messages to go back and forth between
the client and the server. It is best when we need to run many commands
quickly.</p>
<p><strong>Example of Pipelining</strong>:</p>
<div class="sourceCode" id="cb3"><pre
class="sourceCode csharp"><code class="sourceCode cs"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="dt">var</span> db <span class="op">=</span> redis<span class="op">.</span><span class="fu">GetDatabase</span><span class="op">();</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="dt">var</span> batch <span class="op">=</span> db<span class="op">.</span><span class="fu">CreateBatch</span><span class="op">();</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="dt">var</span> task1 <span class="op">=</span> batch<span class="op">.</span><span class="fu">StringSetAsync</span><span class="op">(</span><span class="st">&quot;key1&quot;</span><span class="op">,</span> <span class="st">&quot;value1&quot;</span><span class="op">);</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="dt">var</span> task2 <span class="op">=</span> batch<span class="op">.</span><span class="fu">StringSetAsync</span><span class="op">(</span><span class="st">&quot;key2&quot;</span><span class="op">,</span> <span class="st">&quot;value2&quot;</span><span class="op">);</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="dt">var</span> task3 <span class="op">=</span> batch<span class="op">.</span><span class="fu">StringGetAsync</span><span class="op">(</span><span class="st">&quot;key1&quot;</span><span class="op">);</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>batch<span class="op">.</span><span class="fu">Execute</span><span class="op">();</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>await Task<span class="op">.</span><span class="fu">WhenAll</span><span class="op">(</span>task1<span class="op">,</span> task2<span class="op">,</span> task3<span class="op">);</span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a><span class="dt">var</span> value <span class="op">=</span> await task3<span class="op">;</span> <span class="co">// Retrieves the value for &quot;key1&quot;</span></span></code></pre></div>
<h3 id="batching">Batching</h3>
<p>Batching means we group several commands together to run in one
single call. Unlike pipelining, batching waits for each command to
finish before moving to the next one. This is useful when we need the
result of one command to do the next command.</p>
<p><strong>Example of Batching</strong>:</p>
<div class="sourceCode" id="cb4"><pre
class="sourceCode csharp"><code class="sourceCode cs"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="dt">var</span> db <span class="op">=</span> redis<span class="op">.</span><span class="fu">GetDatabase</span><span class="op">();</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="dt">var</span> batch <span class="op">=</span> db<span class="op">.</span><span class="fu">CreateBatch</span><span class="op">();</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="dt">var</span> setTask <span class="op">=</span> batch<span class="op">.</span><span class="fu">StringSetAsync</span><span class="op">(</span><span class="st">&quot;key1&quot;</span><span class="op">,</span> <span class="st">&quot;value1&quot;</span><span class="op">);</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="dt">var</span> getTask <span class="op">=</span> batch<span class="op">.</span><span class="fu">StringGetAsync</span><span class="op">(</span><span class="st">&quot;key1&quot;</span><span class="op">);</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>batch<span class="op">.</span><span class="fu">Execute</span><span class="op">();</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>await setTask<span class="op">;</span> <span class="co">// Wait for the set operation to complete</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a><span class="dt">var</span> value <span class="op">=</span> await getTask<span class="op">;</span> <span class="co">// Now get the value for &quot;key1&quot;</span></span></code></pre></div>
<h3 id="key-differences">Key Differences</h3>
<ol type="1">
<li><strong>Execution Style</strong>:
<ul>
<li><strong>Pipelining</strong>: We send commands to the server in one
go. The client does not wait for results before sending more
commands.</li>
<li><strong>Batching</strong>: Commands run in order. We wait for each
command to finish before starting the next.</li>
</ul></li>
<li><strong>Use Case</strong>:
<ul>
<li><strong>Pipelining</strong>: Good for when commands do not depend on
each other. The result of one does not change the others.</li>
<li><strong>Batching</strong>: Works well when we need the result of one
command to do the next one.</li>
</ul></li>
<li><strong>Performance</strong>:
<ul>
<li><strong>Pipelining</strong>: Usually gives better performance
because it cuts down on waiting time.</li>
<li><strong>Batching</strong>: Can be slower since it waits for each
command’s result.</li>
</ul></li>
<li><strong>Error Handling</strong>:
<ul>
<li><strong>Pipelining</strong>: We do not see errors right away. We
find them out after getting the responses.</li>
<li><strong>Batching</strong>: We can handle errors right away since
commands run one by one.</li>
</ul></li>
</ol>
<p>Understanding these differences between pipelining and batching in
StackExchange.Redis is very important for making Redis operations work
better. For more information on Redis and what it can do, we can check
<a href="https://bestonlinetutorial.com/redis/what-is-redis.html">what
is Redis</a>.</p>
<h2
id="performance-implications-of-pipelining-and-batching-in-stackexchange.redis">Performance
Implications of Pipelining and Batching in StackExchange.Redis</h2>
<p>When we work with StackExchange.Redis, it is important to understand
how pipelining and batching affect performance. Both methods try to
lower the number of trips between the client and the server. But they do
this in different ways.</p>
<h3 id="pipelining-1">Pipelining</h3>
<ul>
<li><p><strong>Description</strong>: Pipelining helps a client send many
commands to the server without waiting for responses from earlier
commands. This helps to lower the delay caused by network
trips.</p></li>
<li><p><strong>Implementation</strong>: ```csharp var db =
redis.GetDatabase(); var batch = db.CreateBatch();</p>
<p>var task1 = batch.StringSetAsync(“key1”, “value1”); var task2 =
batch.StringSetAsync(“key2”, “value2”); batch.Execute();</p>
<p>await Task.WhenAll(task1, task2); ```</p></li>
<li><p><strong>Performance</strong>: Pipelining can really boost
throughput because it lessens the time we wait for response packets. But
it can use more memory on the client side since we need to store
responses until we process them.</p></li>
</ul>
<h3 id="batching-1">Batching</h3>
<ul>
<li><p><strong>Description</strong>: Batching means putting several
commands together as one operation. We usually do this with transactions
where commands run in a single step.</p></li>
<li><p><strong>Implementation</strong>: ```csharp var db =
redis.GetDatabase(); var tran = db.CreateTransaction();</p>
<p>tran.StringSetAsync(“key1”, “value1”); tran.StringSetAsync(“key2”,
“value2”); bool committed = await tran.ExecuteAsync(); ```</p></li>
<li><p><strong>Performance</strong>: Batching can make performance
better by cutting down the number of network calls. But it might not be
as quick as pipelining for commands that do not need to be atomic since
it ensures atomicity.</p></li>
</ul>
<h3 id="key-considerations">Key Considerations</h3>
<ul>
<li><strong>Throughput</strong>: Pipelining usually has higher
throughput than batching because it does not wait for responses.</li>
<li><strong>Latency</strong>: Pipelining cuts down latency by sending
many commands at the same time. Batching can add some latency because of
the need for atomic execution.</li>
<li><strong>Error Handling</strong>: With pipelining, it can be tougher
to handle errors since commands do not run right away. Batching makes
error handling clearer because of its atomic way.</li>
</ul>
<p>In cases where we need high throughput, we often choose pipelining.
But when we care more about data safety and atomic actions, batching is
better. Knowing these performance effects helps us make good choices
when using StackExchange.Redis in our projects.</p>
<h2 id="when-to-use-pipelining-or-batching-in-stackexchange.redis">When
to Use Pipelining or Batching in StackExchange.Redis</h2>
<p>We choose between pipelining and batching in StackExchange.Redis
based on our specific needs and how we want the performance to be.</p>
<h3 id="when-to-use-pipelining">When to Use Pipelining</h3>
<ul>
<li><p><strong>High Throughput Scenarios</strong>: We should use
pipelining when we want to run many commands quickly without waiting for
each response. This works well for bulk data insertions or fetching lots
of data.</p></li>
<li><p><strong>Network Latency Reduction</strong>: Pipelining helps to
lower the time it takes for commands to go back and forth. This makes it
a good choice for applications where network delays matter.</p></li>
<li><p><strong>Real-Time Applications</strong>: In apps that need
real-time processing, like games or money transactions, pipelining can
help to speed up response times a lot.</p></li>
</ul>
<p><strong>Example of Pipelining in StackExchange.Redis</strong>:</p>
<div class="sourceCode" id="cb5"><pre
class="sourceCode csharp"><code class="sourceCode cs"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="dt">var</span> db <span class="op">=</span> redisConnection<span class="op">.</span><span class="fu">GetDatabase</span><span class="op">();</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="dt">var</span> batch <span class="op">=</span> db<span class="op">.</span><span class="fu">CreateBatch</span><span class="op">();</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="dt">var</span> task1 <span class="op">=</span> batch<span class="op">.</span><span class="fu">StringSetAsync</span><span class="op">(</span><span class="st">&quot;key1&quot;</span><span class="op">,</span> <span class="st">&quot;value1&quot;</span><span class="op">);</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="dt">var</span> task2 <span class="op">=</span> batch<span class="op">.</span><span class="fu">StringSetAsync</span><span class="op">(</span><span class="st">&quot;key2&quot;</span><span class="op">,</span> <span class="st">&quot;value2&quot;</span><span class="op">);</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="dt">var</span> task3 <span class="op">=</span> batch<span class="op">.</span><span class="fu">StringGetAsync</span><span class="op">(</span><span class="st">&quot;key1&quot;</span><span class="op">);</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>batch<span class="op">.</span><span class="fu">Execute</span><span class="op">();</span> <span class="co">// Execute all commands in the pipeline</span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a><span class="dt">var</span> value1 <span class="op">=</span> await task1<span class="op">;</span> <span class="co">// Get results of the commands</span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a><span class="dt">var</span> value2 <span class="op">=</span> await task2<span class="op">;</span></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a><span class="dt">var</span> result <span class="op">=</span> await task3<span class="op">;</span></span></code></pre></div>
<h3 id="when-to-use-batching">When to Use Batching</h3>
<ul>
<li><p><strong>Logical Grouping of Commands</strong>: Batching is best
when we want to group several commands that should run together. This is
good for a transaction or related commands.</p></li>
<li><p><strong>Error Handling</strong>: If we need to make sure a set of
actions either all succeed or all fail, batching is better. This is
called atomic behavior.</p></li>
<li><p><strong>Simplicity</strong>: For easier cases where performance
is not the most important, batching can be simpler to use and
understand.</p></li>
</ul>
<p><strong>Example of Batching in StackExchange.Redis</strong>:</p>
<div class="sourceCode" id="cb6"><pre
class="sourceCode csharp"><code class="sourceCode cs"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="dt">var</span> db <span class="op">=</span> redisConnection<span class="op">.</span><span class="fu">GetDatabase</span><span class="op">();</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="dt">var</span> batch <span class="op">=</span> db<span class="op">.</span><span class="fu">CreateBatch</span><span class="op">();</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="dt">var</span> task1 <span class="op">=</span> batch<span class="op">.</span><span class="fu">StringSetAsync</span><span class="op">(</span><span class="st">&quot;key1&quot;</span><span class="op">,</span> <span class="st">&quot;value1&quot;</span><span class="op">);</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="dt">var</span> task2 <span class="op">=</span> batch<span class="op">.</span><span class="fu">StringSetAsync</span><span class="op">(</span><span class="st">&quot;key2&quot;</span><span class="op">,</span> <span class="st">&quot;value2&quot;</span><span class="op">);</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>batch<span class="op">.</span><span class="fu">Execute</span><span class="op">();</span> <span class="co">// Execute all batched commands</span></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>await Task<span class="op">.</span><span class="fu">WhenAll</span><span class="op">(</span>task1<span class="op">,</span> task2<span class="op">);</span> <span class="co">// Wait for all tasks to finish</span></span></code></pre></div>
<p>By knowing when to use pipelining or batching in StackExchange.Redis,
we can make our Redis interactions better based on what our application
needs. For more information on Redis data handling, we can check <a
href="https://bestonlinetutorial.com/redis/what-are-redis-data-types.html">what
are Redis data types</a>.</p>
<h2 id="frequently-asked-questions">Frequently Asked Questions</h2>
<h3
id="what-is-the-difference-between-pipelining-and-batching-in-stackexchange.redis">What
is the difference between pipelining and batching in
StackExchange.Redis?</h3>
<p>Pipelining and batching are two ways to make Redis commands work
better in StackExchange.Redis. Pipelining lets us send many commands to
the server at the same time. We do not wait for each answer, which helps
reduce waiting time. Batching groups commands together. It sends them at
once for execution but may still wait for answers. Knowing these
differences helps us choose the right method for our needs.</p>
<h3 id="when-should-i-use-pipelining-in-stackexchange.redis">When should
I use pipelining in StackExchange.Redis?</h3>
<p>We should use pipelining in StackExchange.Redis when we want to send
a lot of commands fast without waiting for answers. It helps us save
time, making it good for things like adding many data items or getting
multiple keys. By using pipelining, we can make our Redis tasks work
better, especially in situations where there is high waiting time.</p>
<h3
id="can-i-use-both-pipelining-and-batching-in-stackexchange.redis">Can I
use both pipelining and batching in StackExchange.Redis?</h3>
<p>Yes, we can use both pipelining and batching in StackExchange.Redis
according to what our application needs. They have different goals, but
using them together can make performance better. We can use pipelining
for high-speed tasks and batching for commands that are grouped
together. This choice helps us make our Redis use more efficient.</p>
<h3
id="what-are-the-performance-implications-of-using-pipelining-and-batching-in-stackexchange.redis">What
are the performance implications of using pipelining and batching in
StackExchange.Redis?</h3>
<p>Using pipelining in StackExchange.Redis can greatly help performance.
It cuts down the time we wait for server answers. Batching can also help
by lowering the number of network calls. But the exact benefits depend
on our specific work and network situation. Testing both methods in our
own application can show us which one works better.</p>
<h3
id="how-do-i-implement-pipelining-and-batching-in-stackexchange.redis">How
do I implement pipelining and batching in StackExchange.Redis?</h3>
<p>Setting up pipelining and batching in StackExchange.Redis is easy.
For pipelining, we create a <code>RedisBatch</code> object and add
commands without waiting for answers. For batching, we can group
commands together and send them at once. We can check the official
documentation for more detailed examples on how to use these features to
make our Redis work better.</p>
<p>For more information on Redis concepts, we can explore <a
href="https://bestonlinetutorial.com/redis/what-is-redis.html">what is
Redis</a> or learn about <a
href="https://bestonlinetutorial.com/redis/what-are-redis-data-types.html">Redis
data types</a> to understand better.</p>

                        </div>

                    </div>
                    <!--//container-->
                </article>

            </div>
            <!--//main-wrapper-->

            <div id="footer-placeholder"></div>

            <!-- Javascript -->
            <script src="/assets/plugins/popper.min.js" defer></script>
            <script src="/assets/plugins/bootstrap/js/bootstrap.min.js" defer></script>
            <script src="/assets/fontawesome/js/all.min.js" defer></script>
        </body>

        </html>
            
            