
    
            <!DOCTYPE html>
        <html lang="en">

        <head>
            <!-- Google tag (gtag.js) -->
            <script async src="https://www.googletagmanager.com/gtag/js?id=G-TFCQEJR7TD"></script>
            <script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
            gtag('config', 'G-TFCQEJR7TD');
            </script>
            
            <title>[Dynamic Programming] Longest Subsequence with Alternating Parity - Medium</title>
            <meta name="description" content="Discover how to solve the Longest Subsequence with Alternating Parity using Dynamic Programming. Boost your coding skills today!">
            <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
	        <script src="/assets/js/blog.js"></script>
        </head>

        <body>

            <div id="header-placeholder"></div>

            <div class="main-wrapper">

                <article class="blog-post px-3 py-5 p-md-5">
                    <div class="container single-col-max-width">
                        <header class="blog-post-header">
                            <h1 class="title mb-2">[Dynamic Programming] Longest Subsequence with Alternating Parity - Medium</h1>
                        </header>

                        <div class="blog-post-body">
                            <p>The <strong>Longest Subsequence with Alternating Parity</strong>
problem is a classic challenge in dynamic programming. It wants us to
find the longest subsequence from a list of numbers where the numbers
switch between even and odd. To solve this, we will use two dynamic
programming arrays. One array will keep track of the lengths of the
longest subsequences ending with even numbers. The other will do the
same for odd numbers. By going through the input list and updating these
lengths based on whether the number is even or odd, we will find the
longest subsequence that meets the alternating parity rule.</p>
<p>In this article, we will look closely at the dynamic programming
method for the Longest Subsequence with Alternating Parity problem.
First, we will explain the problem statement. After that, we will show
the dynamic programming solution in Java, Python, and C++. We will also
talk about ways to improve the solution, other methods we can use,
analyze the complexity, point out common mistakes, and answer frequently
asked questions about this topic.</p>
<ul>
<li>Dynamic Programming Longest Subsequence with Alternating Parity -
Medium Overview</li>
<li>Understanding the Problem Statement for Longest Subsequence with
Alternating Parity</li>
<li>Dynamic Programming Approach for Longest Subsequence with
Alternating Parity in Java</li>
<li>Dynamic Programming Approach for Longest Subsequence with
Alternating Parity in Python</li>
<li>Dynamic Programming Approach for Longest Subsequence with
Alternating Parity in C++</li>
<li>Optimizing the Dynamic Programming Solution for Longest Subsequence
with Alternating Parity</li>
<li>Alternative Approaches to Longest Subsequence with Alternating
Parity</li>
<li>Complexity Analysis of the Dynamic Programming Solution</li>
<li>Common Mistakes to Avoid in Longest Subsequence with Alternating
Parity</li>
<li>Frequently Asked Questions</li>
</ul>
<p>If we want to read more about dynamic programming, we can find these
resources helpful: <a
href="https://bestonlinetutorial.com/dynamic_programming/dynamic-programming-fibonacci-number-easy.html">Dynamic
Programming: Fibonacci Number</a>, <a
href="https://bestonlinetutorial.com/dynamic_programming/dynamic-programming-longest-increasing-subsequence-medium.html">Dynamic
Programming: Longest Increasing Subsequence</a>, and <a
href="https://bestonlinetutorial.com/dynamic_programming/dynamic-programming-maximum-subarray-kadanes-algorithm-easy.html">Dynamic
Programming: Maximum Subarray (Kadane’s Algorithm)</a>.</p>
<h2
id="understanding-the-problem-statement-for-longest-subsequence-with-alternating-parity">Understanding
the Problem Statement for Longest Subsequence with Alternating
Parity</h2>
<p>We want to find the longest subsequence with alternating parity. This
means we look for a part of a sequence of numbers where the numbers
switch between even and odd. Our goal is to make this subsequence as
long as possible.</p>
<h3 id="problem-definition">Problem Definition</h3>
<p>We have an array of integers called <code>nums</code>. We need to
find out the length of the longest subsequence that follows these
rules:</p>
<ul>
<li>The numbers in the subsequence must alternate in parity. This means
they can be even, odd, even, odd, or odd, even, odd, even.</li>
<li>A subsequence comes from deleting some or no numbers from the array.
We must keep the order of the remaining numbers the same.</li>
</ul>
<h3 id="example">Example</h3>
<p>If we have <code>nums = [1, 3, 2, 4, 5]</code>, one possible longest
subsequence with alternating parity is <code>[1, 2, 3, 4]</code>. This
subsequence has a length of 4.</p>
<h3 id="input-and-output">Input and Output</h3>
<ul>
<li><strong>Input</strong>: An integer array <code>nums</code> that has
size <code>n</code> (1 ≤ n ≤ 1000).</li>
<li><strong>Output</strong>: An integer that shows the length of the
longest subsequence with alternating parity.</li>
</ul>
<h3 id="constraints">Constraints</h3>
<ul>
<li>The numbers in the array can be positive, negative, or zero.</li>
<li>The size of the array can change but it will always be between 1 and
1000.</li>
</ul>
<p>This gives us a way to use dynamic programming to solve the problem.
We will keep track of the longest subsequences that end with an even
number or an odd number. This way, we can find the best answer
quickly.</p>
<h2
id="dynamic-programming-approach-for-longest-subsequence-with-alternating-parity-in-java">Dynamic
Programming Approach for Longest Subsequence with Alternating Parity in
Java</h2>
<p>To solve the problem of finding the longest subsequence with
alternating parity using dynamic programming in Java, we can follow
these steps:</p>
<ol type="1">
<li><p><strong>Define the Problem</strong>: We need to find the longest
subsequence where each element switches between even and odd.</p></li>
<li><p><strong>Dynamic Programming Arrays</strong>: We create two arrays
to keep the lengths of the longest subsequences that end with an even
and an odd number.</p></li>
<li><p><strong>Initialization</strong>: We start both arrays with 1
because the smallest length of any subsequence is 1 (the element
itself).</p></li>
<li><p><strong>Iterate Through the Array</strong>: For every element in
the array, we check all previous elements. If the current element has a
different parity than the previous element, we update the DP
arrays.</p></li>
<li><p><strong>Result Calculation</strong>: The result will be the
biggest value from both arrays.</p></li>
</ol>
<h3 id="java-code-implementation">Java Code Implementation</h3>
<div class="sourceCode" id="cb1"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="kw">class</span> LongestAlternatingSubsequence <span class="op">{</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">static</span> <span class="dt">int</span> <span class="fu">longestAlternatingSubsequence</span><span class="op">(</span><span class="dt">int</span><span class="op">[]</span> nums<span class="op">)</span> <span class="op">{</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="op">(</span>nums<span class="op">.</span><span class="fu">length</span> <span class="op">==</span> <span class="dv">0</span><span class="op">)</span> <span class="cf">return</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>        <span class="dt">int</span> n <span class="op">=</span> nums<span class="op">.</span><span class="fu">length</span><span class="op">;</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>        <span class="dt">int</span><span class="op">[]</span> even <span class="op">=</span> <span class="kw">new</span> <span class="dt">int</span><span class="op">[</span>n<span class="op">];</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>        <span class="dt">int</span><span class="op">[]</span> odd <span class="op">=</span> <span class="kw">new</span> <span class="dt">int</span><span class="op">[</span>n<span class="op">];</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>        <span class="co">// Initialization</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&lt;</span> n<span class="op">;</span> i<span class="op">++)</span> <span class="op">{</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>            even<span class="op">[</span>i<span class="op">]</span> <span class="op">=</span> <span class="dv">1</span><span class="op">;</span> <span class="co">// Length of subsequence ending with an even number</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>            odd<span class="op">[</span>i<span class="op">]</span> <span class="op">=</span> <span class="dv">1</span><span class="op">;</span>  <span class="co">// Length of subsequence ending with an odd number</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">1</span><span class="op">;</span> i <span class="op">&lt;</span> n<span class="op">;</span> i<span class="op">++)</span> <span class="op">{</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>            <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> j <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> j <span class="op">&lt;</span> i<span class="op">;</span> j<span class="op">++)</span> <span class="op">{</span></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>                <span class="cf">if</span> <span class="op">(</span>nums<span class="op">[</span>i<span class="op">]</span> <span class="op">%</span> <span class="dv">2</span> <span class="op">==</span> <span class="dv">0</span> <span class="op">&amp;&amp;</span> nums<span class="op">[</span>j<span class="op">]</span> <span class="op">%</span> <span class="dv">2</span> <span class="op">!=</span> <span class="dv">0</span><span class="op">)</span> <span class="op">{</span> <span class="co">// Even follows Odd</span></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>                    even<span class="op">[</span>i<span class="op">]</span> <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">max</span><span class="op">(</span>even<span class="op">[</span>i<span class="op">],</span> odd<span class="op">[</span>j<span class="op">]</span> <span class="op">+</span> <span class="dv">1</span><span class="op">);</span></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>                <span class="op">}</span> <span class="cf">else</span> <span class="cf">if</span> <span class="op">(</span>nums<span class="op">[</span>i<span class="op">]</span> <span class="op">%</span> <span class="dv">2</span> <span class="op">!=</span> <span class="dv">0</span> <span class="op">&amp;&amp;</span> nums<span class="op">[</span>j<span class="op">]</span> <span class="op">%</span> <span class="dv">2</span> <span class="op">==</span> <span class="dv">0</span><span class="op">)</span> <span class="op">{</span> <span class="co">// Odd follows Even</span></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>                    odd<span class="op">[</span>i<span class="op">]</span> <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">max</span><span class="op">(</span>odd<span class="op">[</span>i<span class="op">],</span> even<span class="op">[</span>j<span class="op">]</span> <span class="op">+</span> <span class="dv">1</span><span class="op">);</span></span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>                <span class="op">}</span></span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a>        <span class="co">// The result is the maximum of both even and odd arrays</span></span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a>        <span class="dt">int</span> maxLength <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">max</span><span class="op">(</span>even<span class="op">[</span>n <span class="op">-</span> <span class="dv">1</span><span class="op">],</span> odd<span class="op">[</span>n <span class="op">-</span> <span class="dv">1</span><span class="op">]);</span></span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> maxLength<span class="op">;</span></span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">static</span> <span class="dt">void</span> <span class="fu">main</span><span class="op">(</span><span class="bu">String</span><span class="op">[]</span> args<span class="op">)</span> <span class="op">{</span></span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a>        <span class="dt">int</span><span class="op">[]</span> nums <span class="op">=</span> <span class="op">{</span><span class="dv">1</span><span class="op">,</span> <span class="dv">3</span><span class="op">,</span> <span class="dv">2</span><span class="op">,</span> <span class="dv">4</span><span class="op">,</span> <span class="dv">5</span><span class="op">};</span></span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a>        <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span><span class="st">&quot;Length of Longest Alternating Subsequence: &quot;</span> <span class="op">+</span> <span class="fu">longestAlternatingSubsequence</span><span class="op">(</span>nums<span class="op">));</span></span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb1-34"><a href="#cb1-34" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h3 id="explanation-of-the-code">Explanation of the Code</h3>
<ul>
<li><strong>Input</strong>: The function takes an array of integers as
input.</li>
<li><strong>DP Arrays</strong>: We have two arrays <code>even</code> and
<code>odd</code> to track the lengths of subsequences.</li>
<li><strong>Nested Loop</strong>: The outer loop goes through the array,
while the inner loop checks previous elements for parity changes.</li>
<li><strong>Updating Lengths</strong>: Based on whether the current and
previous elements are even or odd, we update the lengths in
<code>even</code> and <code>odd</code> arrays.</li>
<li><strong>Final Result</strong>: The largest value from both arrays
gives the length of the longest subsequence with alternating
parity.</li>
</ul>
<p>This dynamic programming method quickly finds the length of the
longest subsequence with alternating parity in O(n^2) time complexity.
It works well for moderate-sized input arrays. For more practice with
dynamic programming problems, you can check related articles like <a
href="https://bestonlinetutorial.com/dynamic_programming/dynamic-programming-longest-increasing-subsequence-medium.html">Dynamic
Programming - Longest Increasing Subsequence</a>.</p>
<h2
id="dynamic-programming-approach-for-longest-subsequence-with-alternating-parity-in-python">Dynamic
Programming Approach for Longest Subsequence with Alternating Parity in
Python</h2>
<p>We can solve the problem of finding the longest subsequence with
alternating parity using dynamic programming in Python. It is a simple
approach. We will use two arrays to keep the lengths of the longest
subsequences ending at each index. One array will be for odd numbers and
the other for even numbers.</p>
<h3 id="steps">Steps:</h3>
<ol type="1">
<li><p><strong>Initialization</strong>: We create two lists called
<code>odd_dp</code> and <code>even_dp</code>. Both lists start with 1.
This is because each number alone can be a subsequence of length
1.</p></li>
<li><p><strong>Dynamic Programming Iteration</strong>: For each number
in the input list, we compare it with all previous numbers. If the
current number is odd and the previous number is even, we update the
<code>odd_dp</code> list. If the current number is even and the previous
number is odd, we update the <code>even_dp</code> list.</p></li>
<li><p><strong>Result Calculation</strong>: The result will be the
highest value we find in both <code>odd_dp</code> and
<code>even_dp</code>.</p></li>
</ol>
<h3 id="python-code">Python Code:</h3>
<div class="sourceCode" id="cb2"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> longestAlternatingSubsequence(arr):</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="kw">not</span> arr:</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="dv">0</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>    n <span class="op">=</span> <span class="bu">len</span>(arr)</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>    odd_dp <span class="op">=</span> [<span class="dv">1</span>] <span class="op">*</span> n  <span class="co"># Length of longest subsequence ending with an odd number</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>    even_dp <span class="op">=</span> [<span class="dv">1</span>] <span class="op">*</span> n  <span class="co"># Length of longest subsequence ending with an even number</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1</span>, n):</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> j <span class="kw">in</span> <span class="bu">range</span>(i):</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> arr[i] <span class="op">%</span> <span class="dv">2</span> <span class="op">==</span> <span class="dv">0</span>:  <span class="co"># Current is even</span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>                <span class="cf">if</span> arr[j] <span class="op">%</span> <span class="dv">2</span> <span class="op">!=</span> <span class="dv">0</span>:  <span class="co"># Previous is odd</span></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>                    even_dp[i] <span class="op">=</span> <span class="bu">max</span>(even_dp[i], odd_dp[j] <span class="op">+</span> <span class="dv">1</span>)</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>            <span class="cf">else</span>:  <span class="co"># Current is odd</span></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>                <span class="cf">if</span> arr[j] <span class="op">%</span> <span class="dv">2</span> <span class="op">==</span> <span class="dv">0</span>:  <span class="co"># Previous is even</span></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>                    odd_dp[i] <span class="op">=</span> <span class="bu">max</span>(odd_dp[i], even_dp[j] <span class="op">+</span> <span class="dv">1</span>)</span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="bu">max</span>(<span class="bu">max</span>(odd_dp), <span class="bu">max</span>(even_dp))</span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Example usage:</span></span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a>arr <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">5</span>]</span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a>result <span class="op">=</span> longestAlternatingSubsequence(arr)</span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&quot;The length of the longest subsequence with alternating parity is:&quot;</span>, result)</span></code></pre></div>
<h3 id="explanation-of-code">Explanation of Code:</h3>
<ul>
<li><strong>Input</strong>: The function
<code>longestAlternatingSubsequence</code> takes an array
<code>arr</code> as input.</li>
<li><strong>Dynamic Arrays</strong>: <code>odd_dp</code> and
<code>even_dp</code> keep track of the longest lengths of subsequences
that end with odd and even numbers.</li>
<li><strong>Looping</strong>: The loops check all pairs of previous
numbers to update the current number’s longest subsequence based on
parity.</li>
<li><strong>Output</strong>: Finally, it returns the highest length of
subsequences found.</li>
</ul>
<p>This Python approach works well to find the longest subsequence with
alternating parity using dynamic programming. For more related problems,
we can check articles like <a
href="https://bestonlinetutorial.com/dynamic_programming/dynamic-programming-longest-increasing-subsequence-medium.html">Dynamic
Programming - Longest Increasing Subsequence</a>.</p>
<h2
id="dynamic-programming-approach-for-longest-subsequence-with-alternating-parity-in-c">Dynamic
Programming Approach for Longest Subsequence with Alternating Parity in
C++</h2>
<p>To find the longest subsequence with alternating parity using Dynamic
Programming in C++, we can use two arrays. These arrays will help us
track the lengths of the longest subsequences that end with even and odd
numbers. This method updates the lengths based on whether the numbers
are even or odd.</p>
<h3 id="algorithm">Algorithm</h3>
<ol type="1">
<li><p><strong>Create Two Arrays</strong>: We will create two arrays,
<code>even</code> and <code>odd</code>. The <code>even[i]</code> shows
the length of the longest subsequence that ends with an even number at
index <code>i</code>. The <code>odd[i]</code> shows the length of the
longest subsequence that ends with an odd number.</p></li>
<li><p><strong>Go Through the Array</strong>: For each number in the
input array, we will check if it is even or odd:</p>
<ul>
<li>If the number is even, we update <code>even[i]</code> using the
maximum value of <code>odd[j] + 1</code> for all <code>j</code> less
than <code>i</code>.</li>
<li>If the number is odd, we update <code>odd[i]</code> using the
maximum value of <code>even[j] + 1</code> for all <code>j</code> less
than <code>i</code>.</li>
</ul></li>
<li><p><strong>Find the Maximum Length</strong>: At the end, the length
of the longest subsequence will be the highest value in both
<code>even</code> and <code>odd</code> arrays.</p></li>
</ol>
<h3 id="c-code-implementation">C++ Code Implementation</h3>
<div class="sourceCode" id="cb3"><pre
class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;iostream&gt;</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;vector&gt;</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;algorithm&gt;</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> <span class="kw">namespace</span> std<span class="op">;</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> longestAlternatingParitySubsequence<span class="op">(</span>vector<span class="op">&lt;</span><span class="dt">int</span><span class="op">&gt;&amp;</span> nums<span class="op">)</span> <span class="op">{</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> n <span class="op">=</span> nums<span class="op">.</span>size<span class="op">();</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="op">(</span>n <span class="op">==</span> <span class="dv">0</span><span class="op">)</span> <span class="cf">return</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>    vector<span class="op">&lt;</span><span class="dt">int</span><span class="op">&gt;</span> even<span class="op">(</span>n<span class="op">,</span> <span class="dv">1</span><span class="op">);</span> <span class="co">// Length of subsequence ending with even</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>    vector<span class="op">&lt;</span><span class="dt">int</span><span class="op">&gt;</span> odd<span class="op">(</span>n<span class="op">,</span> <span class="dv">1</span><span class="op">);</span>  <span class="co">// Length of subsequence ending with odd</span></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">1</span><span class="op">;</span> i <span class="op">&lt;</span> n<span class="op">;</span> i<span class="op">++)</span> <span class="op">{</span></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> j <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> j <span class="op">&lt;</span> i<span class="op">;</span> j<span class="op">++)</span> <span class="op">{</span></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> <span class="op">(</span>nums<span class="op">[</span>i<span class="op">]</span> <span class="op">%</span> <span class="dv">2</span> <span class="op">==</span> <span class="dv">0</span><span class="op">)</span> <span class="op">{</span> <span class="co">// nums[i] is even</span></span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>                <span class="cf">if</span> <span class="op">(</span>nums<span class="op">[</span>j<span class="op">]</span> <span class="op">%</span> <span class="dv">2</span> <span class="op">!=</span> <span class="dv">0</span><span class="op">)</span> <span class="op">{</span> <span class="co">// nums[j] is odd</span></span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>                    even<span class="op">[</span>i<span class="op">]</span> <span class="op">=</span> max<span class="op">(</span>even<span class="op">[</span>i<span class="op">],</span> odd<span class="op">[</span>j<span class="op">]</span> <span class="op">+</span> <span class="dv">1</span><span class="op">);</span></span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>                <span class="op">}</span></span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span> <span class="cf">else</span> <span class="op">{</span> <span class="co">// nums[i] is odd</span></span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>                <span class="cf">if</span> <span class="op">(</span>nums<span class="op">[</span>j<span class="op">]</span> <span class="op">%</span> <span class="dv">2</span> <span class="op">==</span> <span class="dv">0</span><span class="op">)</span> <span class="op">{</span> <span class="co">// nums[j] is even</span></span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a>                    odd<span class="op">[</span>i<span class="op">]</span> <span class="op">=</span> max<span class="op">(</span>odd<span class="op">[</span>i<span class="op">],</span> even<span class="op">[</span>j<span class="op">]</span> <span class="op">+</span> <span class="dv">1</span><span class="op">);</span></span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a>                <span class="op">}</span></span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> max<span class="op">(*</span>max_element<span class="op">(</span>even<span class="op">.</span>begin<span class="op">(),</span> even<span class="op">.</span>end<span class="op">()),</span> <span class="op">*</span>max_element<span class="op">(</span>odd<span class="op">.</span>begin<span class="op">(),</span> odd<span class="op">.</span>end<span class="op">()));</span></span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> main<span class="op">()</span> <span class="op">{</span></span>
<span id="cb3-32"><a href="#cb3-32" aria-hidden="true" tabindex="-1"></a>    vector<span class="op">&lt;</span><span class="dt">int</span><span class="op">&gt;</span> nums <span class="op">=</span> <span class="op">{</span><span class="dv">1</span><span class="op">,</span> <span class="dv">2</span><span class="op">,</span> <span class="dv">3</span><span class="op">,</span> <span class="dv">4</span><span class="op">,</span> <span class="dv">5</span><span class="op">};</span></span>
<span id="cb3-33"><a href="#cb3-33" aria-hidden="true" tabindex="-1"></a>    cout <span class="op">&lt;&lt;</span> <span class="st">&quot;Length of Longest Subsequence with Alternating Parity: &quot;</span> </span>
<span id="cb3-34"><a href="#cb3-34" aria-hidden="true" tabindex="-1"></a>         <span class="op">&lt;&lt;</span> longestAlternatingParitySubsequence<span class="op">(</span>nums<span class="op">)</span> <span class="op">&lt;&lt;</span> endl<span class="op">;</span></span>
<span id="cb3-35"><a href="#cb3-35" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb3-36"><a href="#cb3-36" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h3 id="explanation-of-the-code-1">Explanation of the Code</h3>
<ul>
<li><strong>Input Handling</strong>: The function
<code>longestAlternatingParitySubsequence</code> takes a vector of
numbers as input.</li>
<li><strong>Dynamic Programming Arrays</strong>: The <code>even</code>
and <code>odd</code> vectors start with 1 because the shortest
subsequence can be just one number.</li>
<li><strong>Nested Loops</strong>: The first loop goes through each
number. The second loop looks at all earlier numbers to update the
lengths of subsequences based on their parities.</li>
<li><strong>Result Calculation</strong>: We find the maximum length of
subsequence by taking the highest values from both <code>even</code> and
<code>odd</code> arrays.</li>
</ul>
<p>This C++ code quickly finds the longest subsequence with alternating
parity in O(n^2) time. It works well for moderate input sizes.</p>
<h2
id="optimizing-the-dynamic-programming-solution-for-longest-subsequence-with-alternating-parity">Optimizing
the Dynamic Programming Solution for Longest Subsequence with
Alternating Parity</h2>
<p>We want to make the dynamic programming solution for finding the
longest subsequence with alternating parity better. We can use a way
that takes less space. Instead of using a big 2D DP table, we can use
just two arrays or even one array. This will help us keep track of the
longest lengths of subsequences that end in even and odd numbers.</p>
<h3 id="optimized-approach">Optimized Approach</h3>
<ol type="1">
<li><strong>Initialization</strong>:
<ul>
<li>We will use two variables, <code>evenLength</code> and
<code>oddLength</code>. They will hold the maximum lengths of
subsequences ending with an even number and an odd number.</li>
</ul></li>
<li><strong>Iterate through the array</strong>:
<ul>
<li>For each number in the array, we will check if it is even or odd:
<ul>
<li>If the number is even, we change <code>evenLength</code> to be
<code>max(evenLength, oddLength + 1)</code>.</li>
<li>If the number is odd, we change <code>oddLength</code> to be
<code>max(oddLength, evenLength + 1)</code>.</li>
</ul></li>
</ul></li>
<li><strong>Final Result</strong>:
<ul>
<li>The final answer will be the maximum of <code>evenLength</code> and
<code>oddLength</code>.</li>
</ul></li>
</ol>
<h3 id="complexity">Complexity</h3>
<ul>
<li><strong>Time Complexity</strong>: O(n). Here n is the length of the
input array.</li>
<li><strong>Space Complexity</strong>: O(1). We only use a small amount
of space.</li>
</ul>
<h3 id="example-implementation-in-python">Example Implementation in
Python</h3>
<div class="sourceCode" id="cb4"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> longestAlternatingSubsequence(arr):</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>    evenLength <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>    oddLength <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> num <span class="kw">in</span> arr:</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> num <span class="op">%</span> <span class="dv">2</span> <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>            evenLength <span class="op">=</span> <span class="bu">max</span>(evenLength, oddLength <span class="op">+</span> <span class="dv">1</span>)</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>        <span class="cf">else</span>:</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>            oddLength <span class="op">=</span> <span class="bu">max</span>(oddLength, evenLength <span class="op">+</span> <span class="dv">1</span>)</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="bu">max</span>(evenLength, oddLength)</span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Example usage</span></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>arr <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">5</span>]</span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>result <span class="op">=</span> longestAlternatingSubsequence(arr)</span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(result)  <span class="co"># Output: 5 (The longest subsequence is [1, 2, 3, 4, 5])</span></span></code></pre></div>
<h3 id="example-implementation-in-java">Example Implementation in
Java</h3>
<div class="sourceCode" id="cb5"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="kw">class</span> LongestAlternatingSubsequence <span class="op">{</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">static</span> <span class="dt">int</span> <span class="fu">longestAlternatingSubsequence</span><span class="op">(</span><span class="dt">int</span><span class="op">[]</span> arr<span class="op">)</span> <span class="op">{</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>        <span class="dt">int</span> evenLength <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>        <span class="dt">int</span> oddLength <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> num <span class="op">:</span> arr<span class="op">)</span> <span class="op">{</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> <span class="op">(</span>num <span class="op">%</span> <span class="dv">2</span> <span class="op">==</span> <span class="dv">0</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>                evenLength <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">max</span><span class="op">(</span>evenLength<span class="op">,</span> oddLength <span class="op">+</span> <span class="dv">1</span><span class="op">);</span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span> <span class="cf">else</span> <span class="op">{</span></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>                oddLength <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">max</span><span class="op">(</span>oddLength<span class="op">,</span> evenLength <span class="op">+</span> <span class="dv">1</span><span class="op">);</span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">max</span><span class="op">(</span>evenLength<span class="op">,</span> oddLength<span class="op">);</span></span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">static</span> <span class="dt">void</span> <span class="fu">main</span><span class="op">(</span><span class="bu">String</span><span class="op">[]</span> args<span class="op">)</span> <span class="op">{</span></span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>        <span class="dt">int</span><span class="op">[]</span> arr <span class="op">=</span> <span class="op">{</span><span class="dv">1</span><span class="op">,</span> <span class="dv">3</span><span class="op">,</span> <span class="dv">2</span><span class="op">,</span> <span class="dv">4</span><span class="op">,</span> <span class="dv">5</span><span class="op">};</span></span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>        <span class="dt">int</span> result <span class="op">=</span> <span class="fu">longestAlternatingSubsequence</span><span class="op">(</span>arr<span class="op">);</span></span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a>        <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span>result<span class="op">);</span>  <span class="co">// Output: 5</span></span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h3 id="example-implementation-in-c">Example Implementation in C++</h3>
<div class="sourceCode" id="cb6"><pre
class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;iostream&gt;</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;vector&gt;</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;algorithm&gt;</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> <span class="kw">namespace</span> std<span class="op">;</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> longestAlternatingSubsequence<span class="op">(</span>vector<span class="op">&lt;</span><span class="dt">int</span><span class="op">&gt;&amp;</span> arr<span class="op">)</span> <span class="op">{</span></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> evenLength <span class="op">=</span> <span class="dv">0</span><span class="op">,</span> oddLength <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> num <span class="op">:</span> arr<span class="op">)</span> <span class="op">{</span></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="op">(</span>num <span class="op">%</span> <span class="dv">2</span> <span class="op">==</span> <span class="dv">0</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>            evenLength <span class="op">=</span> max<span class="op">(</span>evenLength<span class="op">,</span> oddLength <span class="op">+</span> <span class="dv">1</span><span class="op">);</span></span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span> <span class="cf">else</span> <span class="op">{</span></span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>            oddLength <span class="op">=</span> max<span class="op">(</span>oddLength<span class="op">,</span> evenLength <span class="op">+</span> <span class="dv">1</span><span class="op">);</span></span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> max<span class="op">(</span>evenLength<span class="op">,</span> oddLength<span class="op">);</span></span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> main<span class="op">()</span> <span class="op">{</span></span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a>    vector<span class="op">&lt;</span><span class="dt">int</span><span class="op">&gt;</span> arr <span class="op">=</span> <span class="op">{</span><span class="dv">1</span><span class="op">,</span> <span class="dv">3</span><span class="op">,</span> <span class="dv">2</span><span class="op">,</span> <span class="dv">4</span><span class="op">,</span> <span class="dv">5</span><span class="op">};</span></span>
<span id="cb6-23"><a href="#cb6-23" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> result <span class="op">=</span> longestAlternatingSubsequence<span class="op">(</span>arr<span class="op">);</span></span>
<span id="cb6-24"><a href="#cb6-24" aria-hidden="true" tabindex="-1"></a>    cout <span class="op">&lt;&lt;</span> result <span class="op">&lt;&lt;</span> endl<span class="op">;</span>  <span class="co">// Output: 5</span></span>
<span id="cb6-25"><a href="#cb6-25" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb6-26"><a href="#cb6-26" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>This way we make sure our method is fast and uses less space. For
more reading on similar topics, we can visit <a
href="https://bestonlinetutorial.com/dynamic_programming/dynamic-programming-longest-increasing-subsequence-medium.html">Dynamic
Programming: Longest Increasing Subsequence</a>.</p>
<h2
id="alternative-approaches-to-longest-subsequence-with-alternating-parity">Alternative
Approaches to Longest Subsequence with Alternating Parity</h2>
<p>We can find the longest subsequence with alternating parity in
different ways. We do not always have to use the usual dynamic
programming method. Here are some other strategies we can try:</p>
<ol type="1">
<li><strong>Greedy Approach</strong>:
<ul>
<li>We can use a greedy algorithm to build the longest subsequence. We
loop through the array and pick elements that have a different parity
than the last one we added.</li>
<li>This way might not always give the best answer. But it can work well
for smaller sets of data.</li>
</ul>
<div class="sourceCode" id="cb7"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> longest_alternating_parity(arr):</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="kw">not</span> arr:</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="dv">0</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>    longest_length <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>    last_parity <span class="op">=</span> arr[<span class="dv">0</span>] <span class="op">%</span> <span class="dv">2</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> num <span class="kw">in</span> arr[<span class="dv">1</span>:]:</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>        current_parity <span class="op">=</span> num <span class="op">%</span> <span class="dv">2</span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> current_parity <span class="op">!=</span> last_parity:</span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>            longest_length <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>            last_parity <span class="op">=</span> current_parity</span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> longest_length</span></code></pre></div></li>
<li><strong>Using Two Separate Sequences</strong>:
<ul>
<li>We can keep two sequences. One for even numbers and one for odd
numbers. At each step, we decide which sequence to grow based on the
parity of the current number.</li>
</ul>
<div class="sourceCode" id="cb8"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="dt">int</span> <span class="fu">longestAlternatingParity</span><span class="op">(</span><span class="dt">int</span><span class="op">[]</span> nums<span class="op">)</span> <span class="op">{</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="op">(</span>nums<span class="op">.</span><span class="fu">length</span> <span class="op">==</span> <span class="dv">0</span><span class="op">)</span> <span class="cf">return</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> evenCount <span class="op">=</span> <span class="dv">0</span><span class="op">,</span> oddCount <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> num <span class="op">:</span> nums<span class="op">)</span> <span class="op">{</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="op">(</span>num <span class="op">%</span> <span class="dv">2</span> <span class="op">==</span> <span class="dv">0</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>            evenCount <span class="op">=</span> oddCount <span class="op">+</span> <span class="dv">1</span><span class="op">;</span> <span class="co">// Extend odd sequence</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span> <span class="cf">else</span> <span class="op">{</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>            oddCount <span class="op">=</span> evenCount <span class="op">+</span> <span class="dv">1</span><span class="op">;</span> <span class="co">// Extend even sequence</span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">max</span><span class="op">(</span>evenCount<span class="op">,</span> oddCount<span class="op">);</span></span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div></li>
<li><strong>Backtracking</strong>:
<ul>
<li>We can also use backtracking. We try to make all possible
subsequences and keep track of the longest one that fits the alternating
parity rule. This way is usually slow for big datasets because it takes
a lot of time.</li>
</ul></li>
<li><strong>Using Bit Manipulation</strong>:
<ul>
<li>For integers, we can use bit manipulation to find parity quickly.
This can make things faster in some cases, especially when we use it
with other algorithms.</li>
</ul></li>
<li><strong>Divide and Conquer</strong>:
<ul>
<li>We can break the problem into smaller parts and solve them one by
one. This way could lower the complexity but we need to be careful to
keep the alternating property when we combine the results.</li>
</ul></li>
</ol>
<p>All of these ways have their pros and cons. They differ in time
complexity, space complexity, and how easy they are to use. Depending on
what your problem needs, one method might be better than the others.</p>
<p>For more about dynamic programming methods for sequences, we can look
at <a
href="https://bestonlinetutorial.com/dynamic_programming/dynamic-programming-longest-increasing-subsequence-medium.html">Dynamic
Programming - Longest Increasing Subsequence</a> or <a
href="https://bestonlinetutorial.com/dynamic_programming/dynamic-programming-longest-common-subsequence-medium.html">Dynamic
Programming - Longest Common Subsequence</a>.</p>
<h2
id="complexity-analysis-of-the-dynamic-programming-solution">Complexity
Analysis of the Dynamic Programming Solution</h2>
<p>We can look at the time and space complexity of the dynamic
programming solution for the Longest Subsequence with Alternating Parity
problem like this:</p>
<h3 id="time-complexity">Time Complexity</h3>
<ul>
<li>The algorithm goes through the array of integers. This gives us O(n)
complexity where n is the length of the input array.</li>
<li>For each element, the algorithm checks all the previous elements.
This is to see if they can be added to the subsequence. In the naive
way, this leads to a nested loop. But in a better way, we can get O(n)
time complexity by using two separate maximum lengths for even and odd
indexed subsequences.</li>
</ul>
<p>So, the total time complexity is: - <strong>O(n)</strong></p>
<h3 id="space-complexity">Space Complexity</h3>
<ul>
<li>The space complexity mainly comes from the dynamic programming
arrays. When we store the lengths of subsequences, we can use two
variables. This helps us keep track of the lengths for even and odd
indexed subsequences. This gives us O(1) space complexity.</li>
</ul>
<p>But if we store the whole DP table, then the space complexity would
be: - <strong>O(n)</strong></p>
<h3 id="summary">Summary</h3>
<ul>
<li><strong>Optimized Time Complexity:</strong> O(n)</li>
<li><strong>Optimized Space Complexity:</strong> O(1)</li>
</ul>
<p>This efficiency is very important when we handle larger datasets. It
makes the dynamic programming solution good for real use in the Longest
Subsequence with Alternating Parity problem. For more similar dynamic
programming problems and their complexities, we can check out articles
like <a
href="https://bestonlinetutorial.com/dynamic_programming/dynamic-programming-longest-increasing-subsequence-medium.html">Dynamic
Programming - Longest Increasing Subsequence</a> and <a
href="https://bestonlinetutorial.com/dynamic_programming/dynamic-programming-longest-common-subsequence-medium.html">Dynamic
Programming - Longest Common Subsequence</a>.</p>
<h2
id="common-mistakes-to-avoid-in-longest-subsequence-with-alternating-parity">Common
Mistakes to Avoid in Longest Subsequence with Alternating Parity</h2>
<p>When we solve the problem of finding the longest subsequence with
alternating parity, we can face some common mistakes. These mistakes can
lead to wrong results. Here are some key mistakes we should avoid:</p>
<ol type="1">
<li><strong>Incorrect Initialization</strong>: We need to make sure that
the dynamic programming arrays start correctly. If we use two arrays for
longest subsequences ending in even and odd numbers, both should start
with a value of 1 for the first elements.</li>
</ol>
<div class="sourceCode" id="cb9"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span><span class="op">[]</span> dpEven <span class="op">=</span> <span class="kw">new</span> <span class="dt">int</span><span class="op">[</span>n<span class="op">];</span> <span class="co">// Longest subsequence ending in even</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span><span class="op">[]</span> dpOdd <span class="op">=</span> <span class="kw">new</span> <span class="dt">int</span><span class="op">[</span>n<span class="op">];</span>  <span class="co">// Longest subsequence ending in odd</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="bu">Arrays</span><span class="op">.</span><span class="fu">fill</span><span class="op">(</span>dpEven<span class="op">,</span> <span class="dv">1</span><span class="op">);</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="bu">Arrays</span><span class="op">.</span><span class="fu">fill</span><span class="op">(</span>dpOdd<span class="op">,</span> <span class="dv">1</span><span class="op">);</span></span></code></pre></div>
<ol start="2" type="1">
<li><p><strong>Not Considering Edge Cases</strong>: We should handle
edge cases like when arrays have one element or all elements are the
same parity. In these cases, the longest subsequence will just be
1.</p></li>
<li><p><strong>Misunderstanding Parity Changes</strong>: We must check
that the transition between states in our dynamic programming solution
looks for parity changes. A transition should happen only if the current
number has a different parity from the last number in the
subsequence.</p></li>
</ol>
<div class="sourceCode" id="cb10"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (nums[j] <span class="op">%</span> <span class="dv">2</span> <span class="op">!=</span> nums[i] <span class="op">%</span> <span class="dv">2</span>):</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>    dp[i] <span class="op">=</span> <span class="bu">max</span>(dp[i], dp[j] <span class="op">+</span> <span class="dv">1</span>)</span></code></pre></div>
<ol start="4" type="1">
<li><p><strong>Ignoring Non-Consecutive Elements</strong>: We need to
remember that the subsequence does not have to be from consecutive
elements in the array. Our code should allow for this.</p></li>
<li><p><strong>Forgetting to Track Maximum Length</strong>: After we
process all elements, we must not forget to get the maximum value from
our DP arrays to find the final result.</p></li>
</ol>
<div class="sourceCode" id="cb11"><pre
class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> maxLength <span class="op">=</span> max<span class="op">(*</span>max_element<span class="op">(</span>dpEven<span class="op">.</span>begin<span class="op">(),</span> dpEven<span class="op">.</span>end<span class="op">()),</span> <span class="op">*</span>max_element<span class="op">(</span>dpOdd<span class="op">.</span>begin<span class="op">(),</span> dpOdd<span class="op">.</span>end<span class="op">()));</span></span></code></pre></div>
<ol start="6" type="1">
<li><p><strong>Neglecting to Check All Previous Elements</strong>: When
we update the DP array for the current index, we should check all
previous indices, not just the one before it.</p></li>
<li><p><strong>Overcomplicating the Logic</strong>: We should keep the
logic as simple as we can. Sometimes, a simple solution works better
than trying to make it complex too soon.</p></li>
<li><p><strong>Inadequate Testing</strong>: We need to test our solution
with many inputs. This includes edge cases and big datasets to make sure
it works as we expect.</p></li>
</ol>
<p>By avoiding these common mistakes, we can make a strong and efficient
solution for the longest subsequence with alternating parity problem.
For more reading on similar dynamic programming topics, check out <a
href="https://bestonlinetutorial.com/dynamic_programming/dynamic-programming-longest-increasing-subsequence-medium.html">Dynamic
Programming: Longest Increasing Subsequence</a> or <a
href="https://bestonlinetutorial.com/dynamic_programming/dynamic-programming-unique-paths-in-a-grid-easy.html">Dynamic
Programming: Unique Paths</a>.</p>
<h2 id="frequently-asked-questions">Frequently Asked Questions</h2>
<h3
id="what-is-the-longest-subsequence-with-alternating-parity-problem">1.
What is the longest subsequence with alternating parity problem?</h3>
<p>The longest subsequence with alternating parity problem is about
finding the longest part of an array where numbers switch between odd
and even. This is a dynamic programming task. We need a good plan to
choose the right numbers so that they keep this odd and even pattern.
This helps us find the best solution.</p>
<h3
id="how-can-i-implement-the-longest-subsequence-with-alternating-parity-in-java">2.
How can I implement the longest subsequence with alternating parity in
Java?</h3>
<p>To implement the longest subsequence with alternating parity in Java,
we use dynamic programming. We store the lengths of the alternating
subsequences. As we go through the array, we update a length array based
on whether numbers are odd or even. This way, we can find the best
solution. For more code examples and details, check the Java dynamic
programming section for the longest subsequence with alternating
parity.</p>
<h3
id="what-is-the-complexity-of-the-solution-for-the-longest-subsequence-with-alternating-parity">3.
What is the complexity of the solution for the longest subsequence with
alternating parity?</h3>
<p>The time complexity for the dynamic programming solution for this
problem is O(n^2). Here, n is the length of the array. This complexity
comes from looking at each element in the array multiple times. But we
can often make it faster to O(n) by using extra data structures. We can
look at the optimization section of the article for more on this.</p>
<h3
id="are-there-any-alternative-approaches-to-solving-the-longest-subsequence-with-alternating-parity-problem">4.
Are there any alternative approaches to solving the longest subsequence
with alternating parity problem?</h3>
<p>Yes, there are other methods besides dynamic programming. We can use
greedy algorithms or data structures like trees. These methods might
give us new ideas or ways to find the longest subsequence with
alternating parity. For more information, see the section on alternative
approaches in the article.</p>
<h3
id="what-common-mistakes-should-i-avoid-when-solving-the-longest-subsequence-with-alternating-parity">5.
What common mistakes should I avoid when solving the longest subsequence
with alternating parity?</h3>
<p>Some common mistakes include not handling special cases well, like
when the array has all odd or all even numbers. Also, if we don’t track
the lengths of the alternating subsequences correctly, we can get wrong
answers. To avoid these mistakes, we should carefully read the problem
rules and test with different types of input.</p>

                        </div>

                    </div>
                    <!--//container-->
                </article>

            </div>
            <!--//main-wrapper-->

            <div id="footer-placeholder"></div>

            <!-- Javascript -->
            <script src="/assets/plugins/popper.min.js" defer></script>
            <script src="/assets/plugins/bootstrap/js/bootstrap.min.js" defer></script>
            <script src="/assets/fontawesome/js/all.min.js" defer></script>
        </body>

        </html>
            
            