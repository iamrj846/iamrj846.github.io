
    
            <!DOCTYPE html>
        <html lang="en">

        <head>
            <!-- Google tag (gtag.js) -->
            <script async src="https://www.googletagmanager.com/gtag/js?id=G-TFCQEJR7TD"></script>
            <script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
            gtag('config', 'G-TFCQEJR7TD');
            </script>
            
            <title>[Dynamic Programming] Maximum Subarray Sum with One Deletion - Medium</title>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebSite",
      "name": "BestOnlineTutorial",
      "url": "https://www.bestonlinetutorial.com/"
    }
    </script>

<!-- Common CSS & Icons -->
<link rel="icon" href="/favicon.ico" type="image/x-icon">
<link rel="stylesheet" href="/assets/plugins/highlight/styles/monokai-sublime.css">
<link id="theme-style" rel="stylesheet" href="/assets/css/theme-8.css">
<link rel="stylesheet" href="/assets/css/post.css">
            <meta name="description" content="Discover how to solve the Maximum Subarray Sum with One Deletion problem using Dynamic Programming. Enhance your coding skills!">
            <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
	        <script src="/assets/js/blog.js"></script>
        </head>

        <body>

            <div id="header-placeholder"></div>

            <div class="main-wrapper">

                <article class="blog-post px-3 py-5 p-md-5">
                    <div class="container single-col-max-width">
                        <header class="blog-post-header">
                            <h1 class="title mb-2">[Dynamic Programming] Maximum Subarray Sum with One Deletion - Medium</h1>
                        </header>

                        <div class="blog-post-body">
                            <p>The problem of finding the biggest sum of a subarray with one
deletion is a well-known challenge in dynamic programming. Our goal is
to find the highest sum of a continuous subarray from a list of
integers. We can delete one element to try to get a bigger sum. This
method helps us to think about cases where removing one element gives us
a better total than just looking for the biggest sum of a subarray
without deletions.</p>
<p>In this article, we will look closely at the maximum subarray sum
with one deletion. We will start by explaining the problem. Then we will
explore a dynamic programming way to solve it in a smart way. We will
also show how to implement this in Java, Python, and C++. We will talk
about how to save space and check out different methods. Finally, we
will look at common edge cases and answer some questions that people
often ask about this topic.</p>
<ul>
<li>[Dynamic Programming] Maximum Subarray Sum with One Deletion -
Medium Solution Overview</li>
<li>Understanding the Problem Statement for Maximum Subarray Sum with
One Deletion</li>
<li>Dynamic Programming Approach for Maximum Subarray Sum with One
Deletion</li>
<li>Java Implementation of Maximum Subarray Sum with One Deletion</li>
<li>Python Code Solution for Maximum Subarray Sum with One Deletion</li>
<li>C++ Implementation for Maximum Subarray Sum with One Deletion</li>
<li>Optimizing Space Complexity in Maximum Subarray Sum with One
Deletion</li>
<li>Comparative Analysis of Different Approaches for Maximum Subarray
Sum with One Deletion</li>
<li>Testing and Edge Cases for Maximum Subarray Sum with One
Deletion</li>
<li>Frequently Asked Questions</li>
</ul>
<h2
id="understanding-the-problem-statement-for-maximum-subarray-sum-with-one-deletion">Understanding
the Problem Statement for Maximum Subarray Sum with One Deletion</h2>
<p>The problem of finding the Maximum Subarray Sum with One Deletion is
a twist on the classic maximum subarray problem. We can use Kadane’s
algorithm to solve it. In this case, we can delete one element from the
array to make the sum of the other elements bigger.</p>
<h3 id="problem-definition">Problem Definition</h3>
<p>We have an integer array called <code>arr</code>. Our job is to find
the biggest possible sum of a group of numbers in the array after we
delete at most one element.</p>
<h3 id="constraints">Constraints</h3>
<ul>
<li>The array can have negative numbers.</li>
<li>The length of the array can be from 1 to (10^5).</li>
</ul>
<h3 id="example">Example</h3>
<p>Let’s look at the input array:</p>
<pre class="plaintext"><code>arr = [1, -2, 0, 3]</code></pre>
<ul>
<li>The maximum subarray sum without deletion is <code>4</code> (from
the subarray <code>[1, -2, 0, 3]</code>).</li>
<li>If we delete <code>-2</code>, the maximum sum can be <code>4</code>
(from the subarray <code>[1, 0, 3]</code>).</li>
</ul>
<h3 id="output">Output</h3>
<p>The function should give back the maximum sum after we think about
the possible deletion of one element.</p>
<h3 id="key-points">Key Points</h3>
<ul>
<li><strong>Kadane’s Algorithm</strong>: This is a common way to find
the maximum subarray sum quickly.</li>
<li><strong>Deletion Impact</strong>: We need to think about how
deleting one element can help increase the subarray sum in some
cases.</li>
</ul>
<p>We need to understand these parts well to make a good solution using
dynamic programming techniques.</p>
<h2
id="dynamic-programming-approach-for-maximum-subarray-sum-with-one-deletion">Dynamic
Programming Approach for Maximum Subarray Sum with One Deletion</h2>
<p>We can solve the problem of finding the maximum subarray sum with one
deletion using a dynamic programming method. The main idea is to keep
track of two arrays or variables. One tracks the maximum subarrays
without deletion. The other tracks the maximum subarrays with one
deletion.</p>
<h3 id="problem-breakdown">Problem Breakdown</h3>
<ol type="1">
<li><strong>State Definition</strong>:
<ul>
<li>We say <code>max_no_deletion[i]</code> is the maximum subarray sum
ending at index <code>i</code> without deletion.</li>
<li>We say <code>max_with_deletion[i]</code> is the maximum subarray sum
ending at index <code>i</code> with one deletion.</li>
</ul></li>
<li><strong>Recurrence Relations</strong>:
<ul>
<li><p>For <code>max_no_deletion[i]</code>, we use this formula:</p>
<pre><code>max_no_deletion[i] = max(nums[i], max_no_deletion[i-1] + nums[i])</code></pre></li>
<li><p>For <code>max_with_deletion[i]</code>, we use this formula:</p>
<pre><code>max_with_deletion[i] = max(max_with_deletion[i-1] + nums[i], max_no_deletion[i-1])</code></pre></li>
</ul></li>
<li><strong>Base Cases</strong>:
<ul>
<li><p>We start with:</p>
<pre><code>max_no_deletion[0] = nums[0]
max_with_deletion[0] = -inf (or a very small number)</code></pre></li>
</ul></li>
<li><strong>Final Result</strong>:
<ul>
<li>The final answer is the maximum value between
<code>max_no_deletion[n-1]</code> and
<code>max_with_deletion[n-1]</code>.</li>
</ul></li>
</ol>
<h3 id="implementation">Implementation</h3>
<p>Here is a simple implementation in Python:</p>
<div class="sourceCode" id="cb5"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> maximumSum(arr):</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>    n <span class="op">=</span> <span class="bu">len</span>(arr)</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> n <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="dv">0</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>    max_no_deletion <span class="op">=</span> arr[<span class="dv">0</span>]</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>    max_with_deletion <span class="op">=</span> <span class="bu">float</span>(<span class="st">&#39;-inf&#39;</span>)</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>    max_sum <span class="op">=</span> arr[<span class="dv">0</span>]</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1</span>, n):</span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>        max_no_deletion <span class="op">=</span> <span class="bu">max</span>(arr[i], max_no_deletion <span class="op">+</span> arr[i])</span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>        max_with_deletion <span class="op">=</span> <span class="bu">max</span>(max_with_deletion <span class="op">+</span> arr[i], max_no_deletion <span class="op">-</span> arr[i])</span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>        max_sum <span class="op">=</span> <span class="bu">max</span>(max_sum, max_no_deletion, max_with_deletion)</span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> max_sum</span></code></pre></div>
<h3 id="explanation-of-the-code">Explanation of the Code</h3>
<ul>
<li>The function <code>maximumSum</code> goes through the array and
updates the maximum sums based on our states.</li>
<li>It checks both maximum sums with and without deletion at each
step.</li>
<li>The overall maximum updates as needed.</li>
</ul>
<p>This dynamic programming method runs in O(n) time and O(1) space. It
is good for large datasets.</p>
<p>If you want to learn more about dynamic programming, you can check
the article on <a
href="https://bestonlinetutorial.com/dynamic_programming/dynamic-programming-maximum-subarray-kadanes-algorithm-easy.html">Dynamic
Programming: Maximum Subarray (Kadane’s Algorithm)</a>.</p>
<h2
id="java-implementation-of-maximum-subarray-sum-with-one-deletion">Java
Implementation of Maximum Subarray Sum with One Deletion</h2>
<p>We will solve the problem of finding the maximum subarray sum with
one deletion using Java. We can use a method called dynamic programming.
The main idea is to have two arrays. One array will keep track of the
maximum subarray sum ending at each index without any deletion. The
other array will keep track of the maximum subarray sum ending at each
index with one deletion.</p>
<h3 id="java-code">Java Code</h3>
<div class="sourceCode" id="cb6"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="kw">class</span> MaximumSubarraySumWithOneDeletion <span class="op">{</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">static</span> <span class="dt">int</span> <span class="fu">maximumSum</span><span class="op">(</span><span class="dt">int</span><span class="op">[]</span> arr<span class="op">)</span> <span class="op">{</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>        <span class="dt">int</span> n <span class="op">=</span> arr<span class="op">.</span><span class="fu">length</span><span class="op">;</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="op">(</span>n <span class="op">==</span> <span class="dv">0</span><span class="op">)</span> <span class="cf">return</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>        <span class="dt">int</span><span class="op">[]</span> dp <span class="op">=</span> <span class="kw">new</span> <span class="dt">int</span><span class="op">[</span>n<span class="op">];</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>        <span class="dt">int</span><span class="op">[]</span> dpDelete <span class="op">=</span> <span class="kw">new</span> <span class="dt">int</span><span class="op">[</span>n<span class="op">];</span></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>        dp<span class="op">[</span><span class="dv">0</span><span class="op">]</span> <span class="op">=</span> arr<span class="op">[</span><span class="dv">0</span><span class="op">];</span></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>        dpDelete<span class="op">[</span><span class="dv">0</span><span class="op">]</span> <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> <span class="co">// No deletion at the start</span></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>        <span class="dt">int</span> maxSum <span class="op">=</span> arr<span class="op">[</span><span class="dv">0</span><span class="op">];</span></span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">1</span><span class="op">;</span> i <span class="op">&lt;</span> n<span class="op">;</span> i<span class="op">++)</span> <span class="op">{</span></span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a>            dp<span class="op">[</span>i<span class="op">]</span> <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">max</span><span class="op">(</span>arr<span class="op">[</span>i<span class="op">],</span> dp<span class="op">[</span>i <span class="op">-</span> <span class="dv">1</span><span class="op">]</span> <span class="op">+</span> arr<span class="op">[</span>i<span class="op">]);</span> <span class="co">// Maximum sum ending at i without deletion</span></span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>            dpDelete<span class="op">[</span>i<span class="op">]</span> <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">max</span><span class="op">(</span>dp<span class="op">[</span>i <span class="op">-</span> <span class="dv">1</span><span class="op">],</span> dpDelete<span class="op">[</span>i <span class="op">-</span> <span class="dv">1</span><span class="op">]</span> <span class="op">+</span> arr<span class="op">[</span>i<span class="op">]);</span> <span class="co">// Maximum sum ending at i with one deletion</span></span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a>            </span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a>            maxSum <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">max</span><span class="op">(</span>maxSum<span class="op">,</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">max</span><span class="op">(</span>dp<span class="op">[</span>i<span class="op">],</span> dpDelete<span class="op">[</span>i<span class="op">]));</span></span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> maxSum<span class="op">;</span></span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb6-23"><a href="#cb6-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-24"><a href="#cb6-24" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">static</span> <span class="dt">void</span> <span class="fu">main</span><span class="op">(</span><span class="bu">String</span><span class="op">[]</span> args<span class="op">)</span> <span class="op">{</span></span>
<span id="cb6-25"><a href="#cb6-25" aria-hidden="true" tabindex="-1"></a>        <span class="dt">int</span><span class="op">[]</span> arr <span class="op">=</span> <span class="op">{</span><span class="dv">1</span><span class="op">,</span> <span class="op">-</span><span class="dv">2</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">3</span><span class="op">};</span></span>
<span id="cb6-26"><a href="#cb6-26" aria-hidden="true" tabindex="-1"></a>        <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span><span class="st">&quot;Maximum Subarray Sum with One Deletion: &quot;</span> <span class="op">+</span> <span class="fu">maximumSum</span><span class="op">(</span>arr<span class="op">));</span> <span class="co">// Output: 4</span></span>
<span id="cb6-27"><a href="#cb6-27" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb6-28"><a href="#cb6-28" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h3 id="explanation-of-the-code-1">Explanation of the Code</h3>
<ul>
<li><strong>Initialization</strong>: We make two arrays <code>dp</code>
and <code>dpDelete</code> to save the maximum sums.</li>
<li><strong>Dynamic Programming Transition</strong>:
<ul>
<li>We update <code>dp[i]</code> to be the bigger value between the
current element <code>arr[i]</code> or the sum of the last maximum
<code>dp[i - 1] + arr[i]</code>.</li>
<li>We update <code>dpDelete[i]</code> to take the bigger value between
the last maximum without deletion <code>dp[i - 1]</code> or the sum of
the last maximum with deletion
<code>dpDelete[i - 1] + arr[i]</code>.</li>
</ul></li>
<li><strong>Final Result</strong>: We find the maximum sum by taking the
biggest value between <code>dp[i]</code> and <code>dpDelete[i]</code>
for all indices.</li>
</ul>
<p>This code runs in O(n) time. It also uses O(n) space. To make it
better with space, we can do some more improvements.</p>
<h2
id="python-code-solution-for-maximum-subarray-sum-with-one-deletion">Python
Code Solution for Maximum Subarray Sum with One Deletion</h2>
<p>We can solve the problem of finding the maximum subarray sum with one
deletion using Python. We use a simple approach called dynamic
programming. The main idea is to keep track of two things as we go
through the array:</p>
<ol type="1">
<li><code>max_with_deletion</code>: This is the highest sum we can get
by removing one element.</li>
<li><code>max_without_deletion</code>: This is the highest sum we can
get without removing any elements.</li>
</ol>
<p>We define these two states with the following formulas:</p>
<ul>
<li><code>max_without_deletion[i] = max(max_without_deletion[i-1] + arr[i], arr[i])</code></li>
<li><code>max_with_deletion[i] = max(max_with_deletion[i-1] + arr[i], max_without_deletion[i-1])</code></li>
</ul>
<p>At the end of our process, we will take the highest value from
<code>max_with_deletion</code> and <code>max_without_deletion</code> for
the whole array.</p>
<p>Here is the Python code for this solution:</p>
<div class="sourceCode" id="cb7"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> maximumSum(arr):</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="kw">not</span> arr:</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="dv">0</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>    max_without_deletion <span class="op">=</span> arr[<span class="dv">0</span>]</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>    max_with_deletion <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>    max_result <span class="op">=</span> arr[<span class="dv">0</span>]</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1</span>, <span class="bu">len</span>(arr)):</span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>        max_without_deletion <span class="op">=</span> <span class="bu">max</span>(max_without_deletion <span class="op">+</span> arr[i], arr[i])</span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>        max_with_deletion <span class="op">=</span> <span class="bu">max</span>(max_with_deletion <span class="op">+</span> arr[i], max_without_deletion)</span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>        max_result <span class="op">=</span> <span class="bu">max</span>(max_result, max_without_deletion, max_with_deletion)</span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> max_result</span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Example usage</span></span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a>arr <span class="op">=</span> [<span class="dv">1</span>, <span class="op">-</span><span class="dv">2</span>, <span class="dv">0</span>, <span class="dv">3</span>]</span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(maximumSum(arr))  <span class="co"># Output: 4</span></span></code></pre></div>
<p>In this code, we go through the array one time. We keep track of the
two states which gives us a time complexity of (O(n)) and a space
complexity of (O(1)). This means we only use a little extra space.</p>
<p>This dynamic programming solution helps us find the maximum subarray
sum with one deletion in a good way. If you want to learn more about
similar problems in dynamic programming, you can check <a
href="https://bestonlinetutorial.com/dynamic_programming/dynamic-programming-maximum-subarray-kadanes-algorithm-easy.html">Dynamic
Programming: Maximum Subarray - Kadane’s Algorithm</a>.</p>
<h2 id="c-implementation-for-maximum-subarray-sum-with-one-deletion">C++
Implementation for Maximum Subarray Sum with One Deletion</h2>
<p>To find the maximum subarray sum with one deletion in C++, we can use
a simple dynamic programming method. We will keep two arrays. One array
will hold the maximum subarray sum that ends at the current index
without deletion. The other array will hold the maximum subarray sum
with one deletion.</p>
<p>Here is the C++ code for this:</p>
<div class="sourceCode" id="cb8"><pre
class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;iostream&gt;</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;vector&gt;</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;algorithm&gt;</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> <span class="kw">namespace</span> std<span class="op">;</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> maximumSum<span class="op">(</span>vector<span class="op">&lt;</span><span class="dt">int</span><span class="op">&gt;&amp;</span> arr<span class="op">)</span> <span class="op">{</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> n <span class="op">=</span> arr<span class="op">.</span>size<span class="op">();</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="op">(</span>n <span class="op">==</span> <span class="dv">0</span><span class="op">)</span> <span class="cf">return</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>    vector<span class="op">&lt;</span><span class="dt">int</span><span class="op">&gt;</span> dp<span class="op">(</span>n<span class="op">);</span></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>    vector<span class="op">&lt;</span><span class="dt">int</span><span class="op">&gt;</span> dpDelete<span class="op">(</span>n<span class="op">);</span></span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>    dp<span class="op">[</span><span class="dv">0</span><span class="op">]</span> <span class="op">=</span> arr<span class="op">[</span><span class="dv">0</span><span class="op">];</span></span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a>    dpDelete<span class="op">[</span><span class="dv">0</span><span class="op">]</span> <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> <span class="co">// No deletion at the first index</span></span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> maxSum <span class="op">=</span> arr<span class="op">[</span><span class="dv">0</span><span class="op">];</span></span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">1</span><span class="op">;</span> i <span class="op">&lt;</span> n<span class="op">;</span> i<span class="op">++)</span> <span class="op">{</span></span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a>        dp<span class="op">[</span>i<span class="op">]</span> <span class="op">=</span> max<span class="op">(</span>arr<span class="op">[</span>i<span class="op">],</span> dp<span class="op">[</span>i <span class="op">-</span> <span class="dv">1</span><span class="op">]</span> <span class="op">+</span> arr<span class="op">[</span>i<span class="op">]);</span> <span class="co">// Max sum without deletion</span></span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a>        dpDelete<span class="op">[</span>i<span class="op">]</span> <span class="op">=</span> max<span class="op">(</span>dpDelete<span class="op">[</span>i <span class="op">-</span> <span class="dv">1</span><span class="op">]</span> <span class="op">+</span> arr<span class="op">[</span>i<span class="op">],</span> dp<span class="op">[</span>i <span class="op">-</span> <span class="dv">1</span><span class="op">]);</span> <span class="co">// Max sum with one deletion</span></span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a>        maxSum <span class="op">=</span> max<span class="op">(</span>maxSum<span class="op">,</span> max<span class="op">(</span>dp<span class="op">[</span>i<span class="op">],</span> dpDelete<span class="op">[</span>i<span class="op">]));</span> <span class="co">// Update overall max sum</span></span>
<span id="cb8-23"><a href="#cb8-23" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb8-24"><a href="#cb8-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-25"><a href="#cb8-25" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> maxSum<span class="op">;</span></span>
<span id="cb8-26"><a href="#cb8-26" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb8-27"><a href="#cb8-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-28"><a href="#cb8-28" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> main<span class="op">()</span> <span class="op">{</span></span>
<span id="cb8-29"><a href="#cb8-29" aria-hidden="true" tabindex="-1"></a>    vector<span class="op">&lt;</span><span class="dt">int</span><span class="op">&gt;</span> arr <span class="op">=</span> <span class="op">{</span><span class="dv">1</span><span class="op">,</span> <span class="op">-</span><span class="dv">2</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">3</span><span class="op">};</span></span>
<span id="cb8-30"><a href="#cb8-30" aria-hidden="true" tabindex="-1"></a>    cout <span class="op">&lt;&lt;</span> <span class="st">&quot;Maximum Subarray Sum with One Deletion: &quot;</span> <span class="op">&lt;&lt;</span> maximumSum<span class="op">(</span>arr<span class="op">)</span> <span class="op">&lt;&lt;</span> endl<span class="op">;</span></span>
<span id="cb8-31"><a href="#cb8-31" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb8-32"><a href="#cb8-32" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h3 id="explanation-of-the-code-2">Explanation of the Code:</h3>
<ul>
<li><strong>Input</strong>: We have a vector of integers called
<code>arr</code> which is our array.</li>
<li><strong>Dynamic Programming Arrays</strong>:
<ul>
<li><code>dp[i]</code>: This stores the maximum subarray sum ending at
index <code>i</code> without deleting any element.</li>
<li><code>dpDelete[i]</code>: This stores the maximum subarray sum
ending at index <code>i</code> with one deletion.</li>
</ul></li>
<li><strong>Logic</strong>:
<ul>
<li>For every element, we calculate the maximum sum with and without
deletion.</li>
<li>Then, we update the overall maximum sum by looking at both
cases.</li>
</ul></li>
<li><strong>Output</strong>: We print the maximum subarray sum with one
deletion.</li>
</ul>
<p>This code runs fast and gives the maximum sum with a time of (O(n))
and uses (O(n)) space. We can make it even better by using just a few
variables instead of arrays, so it uses (O(1)) space.</p>
<p>If you want to learn more about dynamic programming in C++, you can
check the article on <a
href="https://bestonlinetutorial.com/dynamic_programming/dynamic-programming-maximum-subarray-kadanes-algorithm-easy.html">Dynamic
Programming: Maximum Subarray (Kadane’s Algorithm)</a>.</p>
<h2
id="optimizing-space-complexity-in-maximum-subarray-sum-with-one-deletion">Optimizing
Space Complexity in Maximum Subarray Sum with One Deletion</h2>
<p>In the problem of finding the maximum subarray sum with one deletion,
we can make our space use better from O(n) to O(1). We do this by using
a few simple variables instead of a whole DP array. The main idea is to
keep track of the current maximum sums while we go through the array. We
do not need to store all previous sums.</p>
<h3 id="approach">Approach</h3>
<ol type="1">
<li><strong>Variables Used</strong>:
<ul>
<li><code>max_sum</code>: This keeps the maximum subarray sum without
deletion.</li>
<li><code>max_sum_with_deletion</code>: This keeps the maximum subarray
sum with one deletion.</li>
<li><code>current_max</code>: This tracks the sum of the current
subarray as we check the array.</li>
</ul></li>
<li><strong>Iterate Through the Array</strong>:
<ul>
<li>For each element, we update <code>current_max</code>. It can be
either the current element or the sum of <code>current_max</code> and
the current element.</li>
<li>We update <code>max_sum</code> with the bigger value between
<code>max_sum</code> and <code>current_max</code>.</li>
<li>We update <code>max_sum_with_deletion</code> to be the maximum of
itself or <code>max_sum</code> before the current loop.</li>
</ul></li>
</ol>
<h3 id="implementation-1">Implementation</h3>
<p>Here is a Java code that shows the space optimization:</p>
<div class="sourceCode" id="cb9"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="kw">class</span> MaximumSubarraySumWithOneDeletion <span class="op">{</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">int</span> <span class="fu">maximumSum</span><span class="op">(</span><span class="dt">int</span><span class="op">[]</span> arr<span class="op">)</span> <span class="op">{</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>        <span class="dt">int</span> max_sum <span class="op">=</span> arr<span class="op">[</span><span class="dv">0</span><span class="op">];</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>        <span class="dt">int</span> max_sum_with_deletion <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>        <span class="dt">int</span> current_max <span class="op">=</span> arr<span class="op">[</span><span class="dv">0</span><span class="op">];</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">1</span><span class="op">;</span> i <span class="op">&lt;</span> arr<span class="op">.</span><span class="fu">length</span><span class="op">;</span> i<span class="op">++)</span> <span class="op">{</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>            current_max <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">max</span><span class="op">(</span>arr<span class="op">[</span>i<span class="op">],</span> current_max <span class="op">+</span> arr<span class="op">[</span>i<span class="op">]);</span></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>            max_sum <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">max</span><span class="op">(</span>max_sum<span class="op">,</span> current_max<span class="op">);</span></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>            max_sum_with_deletion <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">max</span><span class="op">(</span>max_sum_with_deletion <span class="op">+</span> arr<span class="op">[</span>i<span class="op">],</span> max_sum<span class="op">);</span></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">max</span><span class="op">(</span>max_sum<span class="op">,</span> max_sum_with_deletion<span class="op">);</span></span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h3 id="python-implementation">Python Implementation</h3>
<p>Here is how we can do the same in Python:</p>
<div class="sourceCode" id="cb10"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> maximum_sum(arr):</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>    max_sum <span class="op">=</span> arr[<span class="dv">0</span>]</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>    max_sum_with_deletion <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>    current_max <span class="op">=</span> arr[<span class="dv">0</span>]</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1</span>, <span class="bu">len</span>(arr)):</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>        current_max <span class="op">=</span> <span class="bu">max</span>(arr[i], current_max <span class="op">+</span> arr[i])</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>        max_sum <span class="op">=</span> <span class="bu">max</span>(max_sum, current_max)</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>        max_sum_with_deletion <span class="op">=</span> <span class="bu">max</span>(max_sum_with_deletion <span class="op">+</span> arr[i], max_sum)</span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="bu">max</span>(max_sum, max_sum_with_deletion)</span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Example usage</span></span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a>arr <span class="op">=</span> [<span class="dv">1</span>, <span class="op">-</span><span class="dv">2</span>, <span class="dv">0</span>, <span class="dv">3</span>]</span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(maximum_sum(arr))  <span class="co"># Output: 4</span></span></code></pre></div>
<h3 id="c-implementation">C++ Implementation</h3>
<p>Here is a C++ version of the same method:</p>
<div class="sourceCode" id="cb11"><pre
class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Solution <span class="op">{</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span><span class="op">:</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> maximumSum<span class="op">(</span>vector<span class="op">&lt;</span><span class="dt">int</span><span class="op">&gt;&amp;</span> arr<span class="op">)</span> <span class="op">{</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>        <span class="dt">int</span> max_sum <span class="op">=</span> arr<span class="op">[</span><span class="dv">0</span><span class="op">];</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>        <span class="dt">int</span> max_sum_with_deletion <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>        <span class="dt">int</span> current_max <span class="op">=</span> arr<span class="op">[</span><span class="dv">0</span><span class="op">];</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">1</span><span class="op">;</span> i <span class="op">&lt;</span> arr<span class="op">.</span>size<span class="op">();</span> i<span class="op">++)</span> <span class="op">{</span></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>            current_max <span class="op">=</span> max<span class="op">(</span>arr<span class="op">[</span>i<span class="op">],</span> current_max <span class="op">+</span> arr<span class="op">[</span>i<span class="op">]);</span></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>            max_sum <span class="op">=</span> max<span class="op">(</span>max_sum<span class="op">,</span> current_max<span class="op">);</span></span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>            max_sum_with_deletion <span class="op">=</span> max<span class="op">(</span>max_sum_with_deletion <span class="op">+</span> arr<span class="op">[</span>i<span class="op">],</span> max_sum<span class="op">);</span></span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> max<span class="op">(</span>max_sum<span class="op">,</span> max_sum_with_deletion<span class="op">);</span></span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a><span class="op">};</span></span></code></pre></div>
<p>This space-optimized way runs in O(n) time and O(1) space. This makes
it good for big input arrays.</p>
<h2
id="comparative-analysis-of-different-approaches-for-maximum-subarray-sum-with-one-deletion">Comparative
Analysis of Different Approaches for Maximum Subarray Sum with One
Deletion</h2>
<p>When we try to find the maximum subarray sum with one deletion, we
can look at different ways to solve it. Each way has its good and
not-so-good points. Let us look at these methods:</p>
<ol type="1">
<li><strong>Dynamic Programming Approach</strong>:
<ul>
<li><p>This method is the fastest one. It works in O(n) time and uses
O(1) space.</p></li>
<li><p>We keep track of two arrays:</p>
<ul>
<li><code>max_ending_here</code>: This shows the maximum sum of
subarrays ending at the current index.</li>
<li><code>max_ending_here_with_deletion</code>: This shows the maximum
sum of subarrays ending at the current index with one deletion.</li>
</ul></li>
<li><p>The steps are:</p>
<div class="sourceCode" id="cb12"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(n):</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>    max_ending_here <span class="op">=</span> <span class="bu">max</span>(nums[i], max_ending_here <span class="op">+</span> nums[i])</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>    max_ending_here_with_deletion <span class="op">=</span> <span class="bu">max</span>(max_ending_here_with_deletion <span class="op">+</span> nums[i], max_ending_here)</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>    max_sum <span class="op">=</span> <span class="bu">max</span>(max_sum, max_ending_here, max_ending_here_with_deletion)</span></code></pre></div></li>
</ul></li>
<li><strong>Kadane’s Algorithm Variant</strong>:
<ul>
<li>We can change Kadane’s algorithm a bit. We treat deletion as a
special case.</li>
<li>This runs in O(n) time, just like the normal Kadane’s algorithm for
maximum subarray sum.</li>
<li>We use the same variables as in the dynamic programming
approach.</li>
<li>This way is good when we do not want to use more space.</li>
</ul></li>
<li><strong>Brute Force Approach</strong>:
<ul>
<li>Here, we check every possible subarray and calculate the sum after
deleting one element.</li>
<li>The time complexity is O(n^2) because for each element, we may have
to go through the array again to find the maximum sum.</li>
<li>This method is easy to understand and use. But it is not good for
big arrays.</li>
</ul></li>
<li><strong>Divide and Conquer</strong>:
<ul>
<li>This method is more complex. We divide the array into halves and
calculate the maximum subarray sum with one deletion in each half.</li>
<li>This can give us O(n log n) time complexity. But it is usually not
as good as the dynamic programming approach for this problem.</li>
</ul></li>
<li><strong>Space Optimization</strong>:
<ul>
<li>We can improve the dynamic programming approach to use O(1) space.
We do this by keeping track of only the needed variables. Here is a Java
example:</li>
</ul>
<div class="sourceCode" id="cb13"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="dt">int</span> <span class="fu">maxSumAfterOneDeletion</span><span class="op">(</span><span class="dt">int</span><span class="op">[]</span> arr<span class="op">)</span> <span class="op">{</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> maxEndingHere <span class="op">=</span> arr<span class="op">[</span><span class="dv">0</span><span class="op">],</span> maxEndingHereWithDeletion <span class="op">=</span> <span class="dv">0</span><span class="op">,</span> maxSum <span class="op">=</span> arr<span class="op">[</span><span class="dv">0</span><span class="op">];</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">1</span><span class="op">;</span> i <span class="op">&lt;</span> arr<span class="op">.</span><span class="fu">length</span><span class="op">;</span> i<span class="op">++)</span> <span class="op">{</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>        maxEndingHere <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">max</span><span class="op">(</span>arr<span class="op">[</span>i<span class="op">],</span> maxEndingHere <span class="op">+</span> arr<span class="op">[</span>i<span class="op">]);</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>        maxEndingHereWithDeletion <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">max</span><span class="op">(</span>maxEndingHereWithDeletion <span class="op">+</span> arr<span class="op">[</span>i<span class="op">],</span> maxEndingHere<span class="op">);</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>        maxSum <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">max</span><span class="op">(</span>maxSum<span class="op">,</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">max</span><span class="op">(</span>maxEndingHere<span class="op">,</span> maxEndingHereWithDeletion<span class="op">));</span></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> maxSum<span class="op">;</span></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div></li>
</ol>
<p>Each method has its own use cases. But for finding the maximum
subarray sum with one deletion, the dynamic programming solution is the
best. It is the fastest and uses less space, especially for big
datasets. If you want to read more about similar dynamic programming
problems, you can check the articles on <a
href="https://bestonlinetutorial.com/dynamic_programming/dynamic-programming-maximum-subarray-kadanes-algorithm-easy.html">Dynamic
Programming with Kadane’s Algorithm</a>.</p>
<h2
id="testing-and-edge-cases-for-maximum-subarray-sum-with-one-deletion">Testing
and Edge Cases for Maximum Subarray Sum with One Deletion</h2>
<p>When we implement the Maximum Subarray Sum with One Deletion
solution, we need to think about different test cases. This helps us
make sure the algorithm works in all situations. Here are some edge
cases and what we expect from them:</p>
<ol type="1">
<li><strong>All Positive Numbers</strong>:
<ul>
<li>Input: <code>[1, 2, 3, 4, 5]</code></li>
<li>Expected Output: <code>15</code></li>
<li>Explanation: If we delete any number, the sum will be smaller.</li>
</ul></li>
<li><strong>All Negative Numbers</strong>:
<ul>
<li>Input: <code>[-1, -2, -3, -4, -5]</code></li>
<li>Expected Output: <code>-1</code></li>
<li>Explanation: The biggest sum we can get after deletion is the least
negative number.</li>
</ul></li>
<li><strong>Single Element Array</strong>:
<ul>
<li>Input: <code>[10]</code></li>
<li>Expected Output: <code>0</code></li>
<li>Explanation: If we delete the only number, the sum is zero.</li>
</ul></li>
<li><strong>Two Elements, One Positive and One Negative</strong>:
<ul>
<li>Input: <code>[1, -2]</code></li>
<li>Expected Output: <code>1</code></li>
<li>Explanation: If we delete <code>-2</code>, we get the biggest
sum.</li>
</ul></li>
<li><strong>Zeroes in the Array</strong>:
<ul>
<li>Input: <code>[0, -1, -2, 0, -3]</code></li>
<li>Expected Output: <code>0</code></li>
<li>Explanation: If we delete <code>-3</code> or <code>-1</code>, we
still get a max sum of zero.</li>
</ul></li>
<li><strong>Large Array with Mixed Values</strong>:
<ul>
<li>Input: <code>[-1, 2, -2, 3, -4, 4]</code></li>
<li>Expected Output: <code>6</code></li>
<li>Explanation: If we delete <code>-4</code>, the max sum becomes
<code>2 + (-2) + 3 + 4</code>.</li>
</ul></li>
<li><strong>Array with Repeated Maximum Values</strong>:
<ul>
<li>Input: <code>[1, 2, 3, 4, 5, 5]</code></li>
<li>Expected Output: <code>20</code></li>
<li>Explanation: Deleting one <code>5</code> gives the same max
sum.</li>
</ul></li>
<li><strong>Alternating Positive and Negative Values</strong>:
<ul>
<li>Input: <code>[2, -1, 3, -2, 5, -3]</code></li>
<li>Expected Output: <code>9</code></li>
<li>Explanation: If we delete <code>-3</code>, we get the max subarray
sum of <code>2 + (-1) + 3 + (-2) + 5</code>.</li>
</ul></li>
<li><strong>Edge Case with Large Numbers</strong>:
<ul>
<li>Input: <code>[100000, -100000, 100000, -100000]</code></li>
<li>Expected Output: <code>100000</code></li>
<li>Explanation: Deleting the first or second <code>-100000</code> keeps
the max sum the same.</li>
</ul></li>
</ol>
<p>By testing these edge cases, we can check that our Maximum Subarray
Sum with One Deletion algorithm works well in many situations. We should
use dynamic programming to keep good performance while handling these
cases.</p>
<p>Here is a sample implementation to test these cases:</p>
<div class="sourceCode" id="cb14"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> maxSumAfterOneDeletion(arr):</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>    n <span class="op">=</span> <span class="bu">len</span>(arr)</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> n <span class="op">==</span> <span class="dv">1</span>:</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="dv">0</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>    max_sum <span class="op">=</span> [<span class="dv">0</span>] <span class="op">*</span> n</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>    max_sum[<span class="dv">0</span>] <span class="op">=</span> arr[<span class="dv">0</span>]</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>    max_sum[<span class="dv">1</span>] <span class="op">=</span> <span class="bu">max</span>(arr[<span class="dv">1</span>], arr[<span class="dv">1</span>] <span class="op">+</span> arr[<span class="dv">0</span>])</span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">2</span>, n):</span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>        max_sum[i] <span class="op">=</span> <span class="bu">max</span>(max_sum[i <span class="op">-</span> <span class="dv">1</span>] <span class="op">+</span> arr[i], arr[i], max_sum[i <span class="op">-</span> <span class="dv">1</span>])</span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a>    max_with_deletion <span class="op">=</span> [<span class="dv">0</span>] <span class="op">*</span> n</span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a>    max_with_deletion[<span class="dv">1</span>] <span class="op">=</span> max_sum[<span class="dv">0</span>]</span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">2</span>, n):</span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a>        max_with_deletion[i] <span class="op">=</span> <span class="bu">max</span>(max_with_deletion[i <span class="op">-</span> <span class="dv">1</span>], max_sum[i <span class="op">-</span> <span class="dv">1</span>])</span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb14-18"><a href="#cb14-18" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="bu">max</span>(max_with_deletion[n <span class="op">-</span> <span class="dv">1</span>], max_sum[n <span class="op">-</span> <span class="dv">1</span>])</span>
<span id="cb14-19"><a href="#cb14-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-20"><a href="#cb14-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Test Cases</span></span>
<span id="cb14-21"><a href="#cb14-21" aria-hidden="true" tabindex="-1"></a>test_cases <span class="op">=</span> [</span>
<span id="cb14-22"><a href="#cb14-22" aria-hidden="true" tabindex="-1"></a>    [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>],</span>
<span id="cb14-23"><a href="#cb14-23" aria-hidden="true" tabindex="-1"></a>    [<span class="op">-</span><span class="dv">1</span>, <span class="op">-</span><span class="dv">2</span>, <span class="op">-</span><span class="dv">3</span>, <span class="op">-</span><span class="dv">4</span>, <span class="op">-</span><span class="dv">5</span>],</span>
<span id="cb14-24"><a href="#cb14-24" aria-hidden="true" tabindex="-1"></a>    [<span class="dv">10</span>],</span>
<span id="cb14-25"><a href="#cb14-25" aria-hidden="true" tabindex="-1"></a>    [<span class="dv">1</span>, <span class="op">-</span><span class="dv">2</span>],</span>
<span id="cb14-26"><a href="#cb14-26" aria-hidden="true" tabindex="-1"></a>    [<span class="dv">0</span>, <span class="op">-</span><span class="dv">1</span>, <span class="op">-</span><span class="dv">2</span>, <span class="dv">0</span>, <span class="op">-</span><span class="dv">3</span>],</span>
<span id="cb14-27"><a href="#cb14-27" aria-hidden="true" tabindex="-1"></a>    [<span class="op">-</span><span class="dv">1</span>, <span class="dv">2</span>, <span class="op">-</span><span class="dv">2</span>, <span class="dv">3</span>, <span class="op">-</span><span class="dv">4</span>, <span class="dv">4</span>],</span>
<span id="cb14-28"><a href="#cb14-28" aria-hidden="true" tabindex="-1"></a>    [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">5</span>],</span>
<span id="cb14-29"><a href="#cb14-29" aria-hidden="true" tabindex="-1"></a>    [<span class="dv">2</span>, <span class="op">-</span><span class="dv">1</span>, <span class="dv">3</span>, <span class="op">-</span><span class="dv">2</span>, <span class="dv">5</span>, <span class="op">-</span><span class="dv">3</span>],</span>
<span id="cb14-30"><a href="#cb14-30" aria-hidden="true" tabindex="-1"></a>    [<span class="dv">100000</span>, <span class="op">-</span><span class="dv">100000</span>, <span class="dv">100000</span>, <span class="op">-</span><span class="dv">100000</span>]</span>
<span id="cb14-31"><a href="#cb14-31" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb14-32"><a href="#cb14-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-33"><a href="#cb14-33" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> case <span class="kw">in</span> test_cases:</span>
<span id="cb14-34"><a href="#cb14-34" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f&quot;Input: </span><span class="sc">{</span>case<span class="sc">}</span><span class="ss">, Output: </span><span class="sc">{</span>maxSumAfterOneDeletion(case)<span class="sc">}</span><span class="ss">&quot;</span>)</span></code></pre></div>
<p>This implementation and the test cases will help us check if the
algorithm is correct for different edge cases.</p>
<h2 id="frequently-asked-questions">Frequently Asked Questions</h2>
<h3 id="what-is-the-maximum-subarray-sum-with-one-deletion-problem">1.
What is the Maximum Subarray Sum with One Deletion problem?</h3>
<p>The Maximum Subarray Sum with One Deletion problem is about finding
the highest sum of a continuous part of an integer array. You can delete
one element if you want. This task needs us to know about dynamic
programming. It helps us find the best solution without checking every
possible subarray.</p>
<h3 id="how-can-dynamic-programming-be-applied-to-solve-this-problem">2.
How can dynamic programming be applied to solve this problem?</h3>
<p>We can use dynamic programming for the Maximum Subarray Sum with One
Deletion problem. We keep track of two things: the highest sum without
deletion and the highest sum with one deletion. As we go through the
array, we update these two sums based on the current number. This way,
we can find the final highest sum quickly.</p>
<h3
id="what-is-the-time-complexity-of-the-dynamic-programming-solution-for-this-problem">3.
What is the time complexity of the dynamic programming solution for this
problem?</h3>
<p>The time complexity for this dynamic programming solution is O(n).
Here, n is the number of elements in the input array. This means we can
solve the problem in one go through the array. We also use a small
amount of extra space for the needed variables.</p>
<h3
id="can-you-provide-a-java-implementation-for-the-maximum-subarray-sum-with-one-deletion-problem">4.
Can you provide a Java implementation for the Maximum Subarray Sum with
One Deletion problem?</h3>
<p>Sure! Here is a simple Java implementation for the Maximum Subarray
Sum with One Deletion problem:</p>
<div class="sourceCode" id="cb15"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="kw">class</span> MaxSubarraySumOneDeletion <span class="op">{</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">int</span> <span class="fu">maximumSum</span><span class="op">(</span><span class="dt">int</span><span class="op">[]</span> arr<span class="op">)</span> <span class="op">{</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>        <span class="dt">int</span> n <span class="op">=</span> arr<span class="op">.</span><span class="fu">length</span><span class="op">;</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>        <span class="dt">int</span> maxSum <span class="op">=</span> arr<span class="op">[</span><span class="dv">0</span><span class="op">];</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>        <span class="dt">int</span> maxEndHere <span class="op">=</span> arr<span class="op">[</span><span class="dv">0</span><span class="op">];</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>        <span class="dt">int</span> maxEndHereWithDeletion <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">1</span><span class="op">;</span> i <span class="op">&lt;</span> n<span class="op">;</span> i<span class="op">++)</span> <span class="op">{</span></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>            maxEndHereWithDeletion <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">max</span><span class="op">(</span>maxEndHere<span class="op">,</span> maxEndHereWithDeletion <span class="op">+</span> arr<span class="op">[</span>i<span class="op">]);</span></span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>            maxEndHere <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">max</span><span class="op">(</span>arr<span class="op">[</span>i<span class="op">],</span> maxEndHere <span class="op">+</span> arr<span class="op">[</span>i<span class="op">]);</span></span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>            maxSum <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">max</span><span class="op">(</span>maxSum<span class="op">,</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">max</span><span class="op">(</span>maxEndHere<span class="op">,</span> maxEndHereWithDeletion<span class="op">));</span></span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> maxSum<span class="op">;</span></span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb15-16"><a href="#cb15-16" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>This code calculates the maximum subarray sum while allowing one
deletion.</p>
<h3
id="what-are-common-edge-cases-to-consider-when-solving-this-problem">5.
What are common edge cases to consider when solving this problem?</h3>
<p>When we solve the Maximum Subarray Sum with One Deletion problem, we
should think about edge cases. These cases include arrays with only one
element, arrays with all negative numbers, and arrays where the best
option means deleting a high-value element. Testing these cases helps us
make sure our solution works well in different situations. If you want
to learn more about dynamic programming, you can check topics like <a
href="https://bestonlinetutorial.com/dynamic_programming/dynamic-programming-maximum-subarray-kadanes-algorithm-easy.html">Dynamic
Programming: Maximum Subarray (Kadane’s Algorithm)</a>.</p>

                        </div>

                    </div>
                    <!--//container-->
                </article>

            </div>
            <!--//main-wrapper-->

            <div id="footer-placeholder"></div>

            <!-- Javascript -->
            <script src="/assets/plugins/popper.min.js" defer></script>
            <script src="/assets/plugins/bootstrap/js/bootstrap.min.js" defer></script>
            <script src="/assets/fontawesome/js/all.min.js" defer></script>
        </body>

        </html>
            
            