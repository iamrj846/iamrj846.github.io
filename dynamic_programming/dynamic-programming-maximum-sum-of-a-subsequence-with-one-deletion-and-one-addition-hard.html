
    
            <!DOCTYPE html>
        <html lang="en">

        <head>
            <!-- Google tag (gtag.js) -->
            <script async src="https://www.googletagmanager.com/gtag/js?id=G-TFCQEJR7TD"></script>
            <script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
            gtag('config', 'G-TFCQEJR7TD');
            </script>
            
            <title>[Dynamic Programming] Maximum Sum of a Subsequence with One Deletion and One Addition - Hard</title>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebSite",
      "name": "BestOnlineTutorial",
      "url": "https://www.bestonlinetutorial.com/"
    }
    </script>

<!-- Common CSS & Icons -->
<link rel="icon" href="/favicon.ico" type="image/x-icon">
<link rel="stylesheet" href="/assets/plugins/highlight/styles/monokai-sublime.css">
<link id="theme-style" rel="stylesheet" href="/assets/css/theme-8.css">
<link rel="stylesheet" href="/assets/css/post.css">
            <meta name="description" content="Discover how to solve the Maximum Sum of a Subsequence with One Deletion and One Addition problem using Dynamic Programming techniques.">
            <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
	        <script src="/assets/js/blog.js"></script>
        </head>

        <body>

            <div id="header-placeholder"></div>

            <div class="main-wrapper">

                <article class="blog-post px-3 py-5 p-md-5">
                    <div class="container single-col-max-width">
                        <header class="blog-post-header">
                            <h1 class="title mb-2">[Dynamic Programming] Maximum Sum of a Subsequence with One Deletion and One Addition - Hard</h1>
                        </header>

                        <div class="blog-post-body">
                            <p>The problem of finding the maximum sum of a subsequence with one
deletion and one addition is a hard task in dynamic programming. Our
goal is to find the maximum sum we can get by picking a subsequence from
a given array. We will allow the removal of one element and the addition
of another to make the total sum as high as possible. This way often
leads to complicated calculations and typical properties of dynamic
programming.</p>
<p>In this article, we will look at different parts of this challenge in
dynamic programming. We will show optimized solutions in Java, Python,
and C++. We will explain the problem in detail. Then we will break down
the dynamic programming approach step by step. We will also discuss ways
to make space complexity better and compare different methods for
solving the problem. At the end, we will give a clear explanation of the
code in Java and Python. We will also include a FAQ section to answer
common questions.</p>
<ul>
<li>[Dynamic Programming] Maximum Sum of a Subsequence with One Deletion
and One Addition Optimized Solution in Java</li>
<li>Dynamic Programming Approach for Maximum Sum of a Subsequence with
One Deletion and One Addition in Python</li>
<li>C++ Implementation of Maximum Sum of a Subsequence with One Deletion
and One Addition</li>
<li>Understanding the Problem Statement for Maximum Sum of a Subsequence
with One Deletion and One Addition</li>
<li>Step by Step Breakdown of the Dynamic Programming Approach</li>
<li>Optimized Space Complexity Techniques for Maximum Sum of a
Subsequence</li>
<li>Comparative Analysis of Different Approaches for Maximum Sum of a
Subsequence</li>
<li>Code Walkthrough of the Java Solution for Maximum Sum with One
Deletion and One Addition</li>
<li>Python Code Explanation for Maximum Sum of a Subsequence with One
Deletion and One Addition</li>
<li>Frequently Asked Questions</li>
</ul>
<p>If we want to improve our dynamic programming skills, we can also
check out related topics like the Fibonacci number problem <a
href="https://bestonlinetutorial.com/dynamic_programming/dynamic-programming-fibonacci-number-easy.html">here</a>
and <a
href="https://bestonlinetutorial.com/dynamic_programming/dynamic-programming-fibonacci-with-memoization-easy.html">here</a>.</p>
<h2
id="dynamic-programming-approach-for-maximum-sum-of-a-subsequence-with-one-deletion-and-one-addition-in-python">Dynamic
Programming Approach for Maximum Sum of a Subsequence with One Deletion
and One Addition in Python</h2>
<p>To solve the problem of getting the maximum sum of a subsequence with
one deletion and one addition using dynamic programming in Python, we
can use an array to keep track of results. We will keep two arrays,
<code>dp</code> and <code>max_sum</code>. Here <code>dp[i]</code> shows
the maximum sum of the subsequence for the first <code>i</code>
elements. The <code>max_sum[i]</code> array tells us the best sum we can
get by deleting one element up to index <code>i</code>.</p>
<p>Here is the Python code for this method:</p>
<div class="sourceCode" id="cb1"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> max_sum_with_one_deletion_and_addition(arr):</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>    n <span class="op">=</span> <span class="bu">len</span>(arr)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> n <span class="op">&lt;</span> <span class="dv">2</span>:</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="dv">0</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>    dp <span class="op">=</span> [<span class="dv">0</span>] <span class="op">*</span> n</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>    max_sum <span class="op">=</span> [<span class="dv">0</span>] <span class="op">*</span> n</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>    dp[<span class="dv">0</span>] <span class="op">=</span> arr[<span class="dv">0</span>]</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1</span>, n):</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>        dp[i] <span class="op">=</span> <span class="bu">max</span>(dp[i<span class="op">-</span><span class="dv">1</span>] <span class="op">+</span> arr[i], arr[i])  <span class="co"># Max sum without deletion</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>    max_sum[<span class="dv">0</span>] <span class="op">=</span> dp[<span class="dv">0</span>]</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1</span>, n):</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>        max_sum[i] <span class="op">=</span> <span class="bu">max</span>(max_sum[i<span class="op">-</span><span class="dv">1</span>], dp[i])  <span class="co"># Max sum with one deletion</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>    result <span class="op">=</span> <span class="bu">float</span>(<span class="st">&#39;-inf&#39;</span>)</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1</span>, n):</span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>        result <span class="op">=</span> <span class="bu">max</span>(result, max_sum[i<span class="op">-</span><span class="dv">1</span>] <span class="op">+</span> arr[i])  <span class="co"># Add current element after deletion</span></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> result</span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Example usage</span></span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a>arr <span class="op">=</span> [<span class="dv">1</span>, <span class="op">-</span><span class="dv">2</span>, <span class="dv">0</span>, <span class="dv">3</span>]</span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&quot;Maximum Sum of Subsequence with One Deletion and One Addition:&quot;</span>, max_sum_with_one_deletion_and_addition(arr))</span></code></pre></div>
<h3 id="explanation">Explanation:</h3>
<ol type="1">
<li><strong>Initialization</strong>: We first check if the input array
has less than two elements. If yes, we return 0 because we cannot do
both operations.</li>
<li><strong>Dynamic Programming Arrays</strong>:
<ul>
<li><code>dp[i]</code>: This keeps the maximum sum for the first
<code>i</code> elements.</li>
<li><code>max_sum[i]</code>: This keeps the best sum of subsequences we
can get by deleting one element.</li>
</ul></li>
<li><strong>Filling the Arrays</strong>:
<ul>
<li>We go through the array to fill <code>dp</code> and
<code>max_sum</code>.</li>
<li>For every element, we choose to add it to the previous sum or start
a new subsequence.</li>
</ul></li>
<li><strong>Final Calculation</strong>: We find the maximum possible sum
by thinking about adding the current element after removing an earlier
one.</li>
</ol>
<p>This method runs in O(n) time and uses O(n) space. It is good for
bigger datasets. If you want to learn more about similar dynamic
programming methods, you can check out the <a
href="https://bestonlinetutorial.com/dynamic_programming/dynamic-programming-maximum-subarray-kadanes-algorithm-easy.html">Dynamic
Programming - Maximum Subarray (Kadane’s Algorithm)</a>.</p>
<h2
id="c-implementation-of-maximum-sum-of-a-subsequence-with-one-deletion-and-one-addition">C++
Implementation of Maximum Sum of a Subsequence with One Deletion and One
Addition</h2>
<p>We can solve the problem of finding the maximum sum of a subsequence
with one deletion and one addition using dynamic programming. The main
idea is to keep two arrays that help us track the maximum sums based on
our rules.</p>
<h3 id="c-code-implementation">C++ Code Implementation</h3>
<div class="sourceCode" id="cb2"><pre
class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;iostream&gt;</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;vector&gt;</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;algorithm&gt;</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> <span class="kw">namespace</span> std<span class="op">;</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> maxSumWithOneDeletionAndAddition<span class="op">(</span>vector<span class="op">&lt;</span><span class="dt">int</span><span class="op">&gt;&amp;</span> arr<span class="op">)</span> <span class="op">{</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> n <span class="op">=</span> arr<span class="op">.</span>size<span class="op">();</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="op">(</span>n <span class="op">==</span> <span class="dv">0</span><span class="op">)</span> <span class="cf">return</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>    vector<span class="op">&lt;</span><span class="dt">int</span><span class="op">&gt;</span> dp<span class="op">(</span>n<span class="op">);</span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>    dp<span class="op">[</span><span class="dv">0</span><span class="op">]</span> <span class="op">=</span> arr<span class="op">[</span><span class="dv">0</span><span class="op">];</span></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> maxSum <span class="op">=</span> arr<span class="op">[</span><span class="dv">0</span><span class="op">];</span></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">1</span><span class="op">;</span> i <span class="op">&lt;</span> n<span class="op">;</span> <span class="op">++</span>i<span class="op">)</span> <span class="op">{</span></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>        dp<span class="op">[</span>i<span class="op">]</span> <span class="op">=</span> max<span class="op">(</span>arr<span class="op">[</span>i<span class="op">],</span> dp<span class="op">[</span>i <span class="op">-</span> <span class="dv">1</span><span class="op">]</span> <span class="op">+</span> arr<span class="op">[</span>i<span class="op">]);</span></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>        maxSum <span class="op">=</span> max<span class="op">(</span>maxSum<span class="op">,</span> dp<span class="op">[</span>i<span class="op">]);</span></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> finalMax <span class="op">=</span> maxSum<span class="op">;</span> <span class="co">// We track the maximum sum before deletion</span></span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">1</span><span class="op">;</span> i <span class="op">&lt;</span> n<span class="op">;</span> <span class="op">++</span>i<span class="op">)</span> <span class="op">{</span></span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a>        <span class="co">// We think about deleting arr[i-1] and adding arr[i]</span></span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="op">(</span>i <span class="op">&gt;</span> <span class="dv">1</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a>            finalMax <span class="op">=</span> max<span class="op">(</span>finalMax<span class="op">,</span> dp<span class="op">[</span>i <span class="op">-</span> <span class="dv">2</span><span class="op">]</span> <span class="op">+</span> arr<span class="op">[</span>i<span class="op">]);</span></span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb2-27"><a href="#cb2-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-28"><a href="#cb2-28" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> finalMax<span class="op">;</span></span>
<span id="cb2-29"><a href="#cb2-29" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb2-30"><a href="#cb2-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-31"><a href="#cb2-31" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> main<span class="op">()</span> <span class="op">{</span></span>
<span id="cb2-32"><a href="#cb2-32" aria-hidden="true" tabindex="-1"></a>    vector<span class="op">&lt;</span><span class="dt">int</span><span class="op">&gt;</span> arr <span class="op">=</span> <span class="op">{</span><span class="dv">3</span><span class="op">,</span> <span class="dv">2</span><span class="op">,</span> <span class="dv">5</span><span class="op">,</span> <span class="dv">10</span><span class="op">,</span> <span class="dv">7</span><span class="op">};</span></span>
<span id="cb2-33"><a href="#cb2-33" aria-hidden="true" tabindex="-1"></a>    cout <span class="op">&lt;&lt;</span> <span class="st">&quot;Maximum Sum of Subsequence with One Deletion and One Addition: &quot;</span> </span>
<span id="cb2-34"><a href="#cb2-34" aria-hidden="true" tabindex="-1"></a>         <span class="op">&lt;&lt;</span> maxSumWithOneDeletionAndAddition<span class="op">(</span>arr<span class="op">)</span> <span class="op">&lt;&lt;</span> endl<span class="op">;</span></span>
<span id="cb2-35"><a href="#cb2-35" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb2-36"><a href="#cb2-36" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h3 id="explanation-of-the-code">Explanation of the Code</h3>
<ol type="1">
<li><strong>Input Handling</strong>: The function
<code>maxSumWithOneDeletionAndAddition</code> takes a vector of integers
as input.</li>
<li><strong>Dynamic Programming Array</strong>: We use the
<code>dp</code> array to store maximum sums at each index without
deletions.</li>
<li><strong>Iterating Through the Array</strong>: For each element, we
find the maximum sum by including the current element or adding it to
the previous maximum.</li>
<li><strong>Deletion and Addition Logic</strong>: After filling the
<code>dp</code> array, we find the final maximum sum by considering the
allowed deletion and addition.</li>
<li><strong>Output</strong>: We print the result in the
<code>main</code> function.</li>
</ol>
<h3 id="complexity-analysis">Complexity Analysis</h3>
<ul>
<li><strong>Time Complexity</strong>: O(n), where n is the number of
elements in the array.</li>
<li><strong>Space Complexity</strong>: O(n) for the <code>dp</code>
array. We can make it O(1) if we only track the last two states.</li>
</ul>
<p>This C++ code gives us a good way to find the maximum sum of a
subsequence with one deletion and one addition using dynamic
programming. If we want to learn more about dynamic programming, we can
check related topics like <a
href="https://bestonlinetutorial.com/dynamic_programming/dynamic-programming-maximum-subarray-kadanes-algorithm-easy.html">Dynamic
Programming - Maximum Subarray (Kadane’s Algorithm)</a>.</p>
<h2
id="understanding-the-problem-statement-for-maximum-sum-of-a-subsequence-with-one-deletion-and-one-addition">Understanding
the Problem Statement for Maximum Sum of a Subsequence with One Deletion
and One Addition</h2>
<p>The problem is about finding the maximum sum of a subsequence. We can
add one number and delete one number from a sequence of integers. The
goal is to make the sum of the new subsequence as big as possible after
doing these two actions.</p>
<p>We have an array <code>arr</code> with length <code>n</code>. Our
task is to find the maximum sum of a subsequence where:</p>
<ol type="1">
<li>We can delete one number from the subsequence.</li>
<li>We can add one number to the subsequence. This can be any integer,
not just from the original array.</li>
</ol>
<h3 id="problem-breakdown">Problem Breakdown:</h3>
<ul>
<li><strong>Input:</strong> An array of integers <code>arr</code>.</li>
<li><strong>Output:</strong> The maximum sum of a subsequence after we
do one deletion and one addition.</li>
</ul>
<h3 id="example">Example:</h3>
<p>Let’s look at an input array <code>arr = [1, -2, 0, 3]</code>:</p>
<ul>
<li>If we delete <code>-2</code> and add <code>4</code>, the new
subsequence is <code>[1, 0, 3, 4]</code>. The sum is
<code>8</code>.</li>
<li>If we delete <code>0</code> and add <code>5</code>, the new
subsequence is <code>[1, -2, 3, 5]</code>. The sum is
<code>7</code>.</li>
</ul>
<h3 id="constraints">Constraints:</h3>
<ul>
<li>The array can have positive, negative, and zero values.</li>
<li>We can choose the added number freely. It can be any integer and may
change the total sum a lot.</li>
</ul>
<h3 id="approach">Approach:</h3>
<p>To solve this problem well, we can use dynamic programming. This way,
we can keep track of the maximum sums while going through the array.</p>
<ol type="1">
<li><strong>Iterate</strong> through each element and keep two arrays:
<ul>
<li>One array tracks the maximum sum so far without any deletion or
addition.</li>
<li>Another array keeps the maximum sum with deletions and additions
considered.</li>
</ul></li>
<li><strong>Calculate</strong> the maximum sums by checking possible
deletions and additions in a smart way.</li>
</ol>
<p>This dynamic programming method helps us check all options while
keeping it efficient.</p>
<p>To see examples in Java, Python, and C++, please go to the sections
for each language to find optimized solutions.</p>
<h2 id="step-by-step-breakdown-of-the-dynamic-programming-approach">Step
by Step Breakdown of the Dynamic Programming Approach</h2>
<p>We want to solve the problem of finding the maximum sum of a
subsequence. This subsequence allows for one deletion and one addition.
We can do this using dynamic programming.</p>
<h3 id="problem-definition">Problem Definition</h3>
<p>We have an array of integers. Our goal is to find the maximum sum of
a subsequence. We can remove one element from the subsequence. At the
same time, we can add another element from the array.</p>
<h3 id="dynamic-programming-state">Dynamic Programming State</h3>
<ul>
<li>We will use <code>dp[i]</code> to show the maximum sum of a
subsequence up to the <code>i-th</code> index.</li>
<li>We also keep another array called <code>max_sum</code>. This tracks
the maximum sum of subsequences when we consider deletions and
additions.</li>
</ul>
<h3 id="transition-relation">Transition Relation</h3>
<ol type="1">
<li><strong>Base Case:</strong>
<ul>
<li>We set <code>dp[0]</code> to <code>array[0]</code>. This is because
the maximum sum ending at the first element is just that element.</li>
</ul></li>
<li><strong>Recurrence Relation:</strong>
<ul>
<li>For each element <code>i</code> from 1 to n-1:
<ul>
<li><p>We calculate the maximum sum that includes the current
element:</p>
<pre class="plaintext"><code>dp[i] = max(dp[i-1] + array[i], array[i])</code></pre></li>
<li><p>To manage one deletion:</p>
<pre class="plaintext"><code>max_sum[i] = max(max_sum[i-1], dp[i-1] - array[j]) for all j &lt; i</code></pre></li>
<li><p>So, the final value at <code>dp[i]</code> will be:</p>
<pre class="plaintext"><code>dp[i] = max(dp[i], max_sum[i-1] + array[i])</code></pre></li>
</ul></li>
</ul></li>
</ol>
<h3 id="implementation">Implementation</h3>
<p>Here is how we can implement this in Python:</p>
<div class="sourceCode" id="cb6"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> maxSum(array):</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>    n <span class="op">=</span> <span class="bu">len</span>(array)</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> n <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="dv">0</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>    dp <span class="op">=</span> [<span class="dv">0</span>] <span class="op">*</span> n</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>    max_sum <span class="op">=</span> [<span class="dv">0</span>] <span class="op">*</span> n</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>    dp[<span class="dv">0</span>] <span class="op">=</span> array[<span class="dv">0</span>]</span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>    max_sum[<span class="dv">0</span>] <span class="op">=</span> <span class="dv">0</span>  <span class="co"># No valid sum with a deletion at the first element</span></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1</span>, n):</span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>        dp[i] <span class="op">=</span> <span class="bu">max</span>(dp[i<span class="op">-</span><span class="dv">1</span>] <span class="op">+</span> array[i], array[i])</span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>        max_sum[i] <span class="op">=</span> <span class="bu">max</span>(max_sum[i<span class="op">-</span><span class="dv">1</span>], dp[i<span class="op">-</span><span class="dv">1</span>] <span class="op">-</span> array[i<span class="op">-</span><span class="dv">1</span>])</span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>        dp[i] <span class="op">=</span> <span class="bu">max</span>(dp[i], max_sum[i<span class="op">-</span><span class="dv">1</span>] <span class="op">+</span> array[i])</span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="bu">max</span>(dp)</span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Example usage</span></span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a>array <span class="op">=</span> [<span class="dv">3</span>, <span class="dv">2</span>, <span class="dv">5</span>, <span class="dv">10</span>, <span class="dv">7</span>]</span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a>result <span class="op">=</span> maxSum(array)</span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(result)  <span class="co"># Output: 15 (subsequence could be [3, 5, 10])</span></span></code></pre></div>
<h3 id="complexity-analysis-1">Complexity Analysis</h3>
<ul>
<li><strong>Time Complexity:</strong> O(n^2). This is because we have
nested loops to find the maximum subsequence sum with one deletion.</li>
<li><strong>Space Complexity:</strong> O(n). This is for storing
<code>dp</code> and <code>max_sum</code>.</li>
</ul>
<p>This breakdown helps us understand how to use the dynamic programming
approach to find the maximum sum of a subsequence with one deletion and
one addition.</p>
<h2
id="optimized-space-complexity-techniques-for-maximum-sum-of-a-subsequence">Optimized
Space Complexity Techniques for Maximum Sum of a Subsequence</h2>
<p>When we want to find the maximum sum of a subsequence with one
deletion and one addition, we can make the space use better. We can
change the space complexity from (O(n)) to (O(1)). We can do this by
using some simple techniques. Here is how we can do it:</p>
<ol type="1">
<li><p><strong>In-Place Computation</strong>: We do not need a big DP
array. We can use a few variables to track what we need. This way, we
use much less space.</p></li>
<li><p><strong>Two-Pass Approach</strong>: First, we calculate the
maximum sum without any deletions. Then, in the second pass, we check
the possible maximum sums by thinking about deleting one element and
adding another.</p></li>
<li><p><strong>Rolling Variables</strong>: We can use rolling variables
to save the last two results we need. This means we do not need full
arrays.</p></li>
</ol>
<h3 id="example-implementation-in-python">Example Implementation in
Python</h3>
<p>Here is a simple code that shows these techniques:</p>
<div class="sourceCode" id="cb7"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> max_sum_with_one_deletion_and_addition(arr):</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="kw">not</span> arr:</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="dv">0</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>    n <span class="op">=</span> <span class="bu">len</span>(arr)</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> n <span class="op">==</span> <span class="dv">1</span>:</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> arr[<span class="dv">0</span>]</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Initialize variables</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>    max_sum <span class="op">=</span> arr[<span class="dv">0</span>]</span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>    prev_max <span class="op">=</span> arr[<span class="dv">0</span>]</span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>    prev_prev_max <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1</span>, n):</span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a>        current <span class="op">=</span> arr[i]</span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Update max_sum considering deletion and addition</span></span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a>        max_sum <span class="op">=</span> <span class="bu">max</span>(max_sum, prev_max <span class="op">+</span> current <span class="op">-</span> arr[i <span class="op">-</span> <span class="dv">1</span>])</span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a>        prev_prev_max <span class="op">=</span> prev_max</span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a>        prev_max <span class="op">=</span> <span class="bu">max</span>(prev_max <span class="op">+</span> current, current)</span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-21"><a href="#cb7-21" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="bu">max</span>(max_sum, prev_max)</span>
<span id="cb7-22"><a href="#cb7-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-23"><a href="#cb7-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Example usage</span></span>
<span id="cb7-24"><a href="#cb7-24" aria-hidden="true" tabindex="-1"></a>arr <span class="op">=</span> [<span class="dv">4</span>, <span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">1</span>, <span class="dv">3</span>]</span>
<span id="cb7-25"><a href="#cb7-25" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(max_sum_with_one_deletion_and_addition(arr))  <span class="co"># Output: 12</span></span></code></pre></div>
<h3 id="explanation-of-the-code-1">Explanation of the Code</h3>
<ul>
<li><strong>Initialization</strong>: First, we check for empty or
single-element arrays.</li>
<li><strong>Iterate through the array</strong>: For each element, we
update the maximum sum. We think about both the current element and the
previous sums.</li>
<li><strong>Rolling Variables</strong>: We use <code>prev_max</code> and
<code>prev_prev_max</code> to keep the sums we need for the next step.
This way, we do not need extra space for an array.</li>
</ul>
<p>By using these techniques, we make the space complexity of the
algorithm (O(1)). The time complexity stays at (O(n)), so it works well
for big inputs. This method is very helpful in dynamic programming
problems where we need to save space.</p>
<p>If you want to read more about similar dynamic programming methods,
you can look at articles on <a
href="https://bestonlinetutorial.com/dynamic_programming/dynamic-programming-maximum-subarray-kadanes-algorithm-easy.html">Dynamic
Programming: Maximum Subarray (Kadane’s Algorithm)</a> or <a
href="https://bestonlinetutorial.com/dynamic_programming/dynamic-programming-maximum-product-subarray-easy.html">Dynamic
Programming: Maximum Product Subarray</a>.</p>
<h2
id="comparative-analysis-of-different-approaches-for-maximum-sum-of-a-subsequence">Comparative
Analysis of Different Approaches for Maximum Sum of a Subsequence</h2>
<p>When we try to find the maximum sum of a subsequence with one
deletion and one addition, we can use different methods. Each method has
its own time and space complexity. Here are three main ways to solve the
problem:</p>
<ol type="1">
<li><p><strong>Dynamic Programming Approach</strong>:</p>
<ul>
<li><strong>Description</strong>: We use a dynamic programming table.
This table helps us keep track of results as we go. It makes the
calculation of the maximum sum faster.</li>
<li><strong>Time Complexity</strong>: O(n^2)</li>
<li><strong>Space Complexity</strong>: O(n)</li>
</ul>
<p><strong>Java Implementation</strong>:</p>
<div class="sourceCode" id="cb8"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="dt">int</span> <span class="fu">maxSumWithOneDeletionAndAddition</span><span class="op">(</span><span class="dt">int</span><span class="op">[]</span> arr<span class="op">)</span> <span class="op">{</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> n <span class="op">=</span> arr<span class="op">.</span><span class="fu">length</span><span class="op">;</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="op">(</span>n <span class="op">==</span> <span class="dv">0</span><span class="op">)</span> <span class="cf">return</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span><span class="op">[]</span> dp <span class="op">=</span> <span class="kw">new</span> <span class="dt">int</span><span class="op">[</span>n<span class="op">];</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>    dp<span class="op">[</span><span class="dv">0</span><span class="op">]</span> <span class="op">=</span> arr<span class="op">[</span><span class="dv">0</span><span class="op">];</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">1</span><span class="op">;</span> i <span class="op">&lt;</span> n<span class="op">;</span> i<span class="op">++)</span> <span class="op">{</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>        dp<span class="op">[</span>i<span class="op">]</span> <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">max</span><span class="op">(</span>arr<span class="op">[</span>i<span class="op">],</span> dp<span class="op">[</span>i <span class="op">-</span> <span class="dv">1</span><span class="op">]</span> <span class="op">+</span> arr<span class="op">[</span>i<span class="op">]);</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="op">(</span>i <span class="op">&gt;</span> <span class="dv">1</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>            dp<span class="op">[</span>i<span class="op">]</span> <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">max</span><span class="op">(</span>dp<span class="op">[</span>i<span class="op">],</span> dp<span class="op">[</span>i <span class="op">-</span> <span class="dv">2</span><span class="op">]</span> <span class="op">+</span> arr<span class="op">[</span>i<span class="op">]);</span></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> dp<span class="op">[</span>n <span class="op">-</span> <span class="dv">1</span><span class="op">];</span></span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div></li>
<li><p><strong>Optimized Space Complexity Approach</strong>:</p>
<ul>
<li><strong>Description</strong>: We only use a few variables instead of
a full array. This way, we save space but still get the same
result.</li>
<li><strong>Time Complexity</strong>: O(n)</li>
<li><strong>Space Complexity</strong>: O(1)</li>
</ul>
<p><strong>Python Implementation</strong>:</p>
<div class="sourceCode" id="cb9"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> maxSumWithOneDeletionAndAddition(arr):</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>    n <span class="op">=</span> <span class="bu">len</span>(arr)</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> n <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="dv">0</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>    current_max <span class="op">=</span> prev_max <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(n):</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>        temp <span class="op">=</span> current_max</span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>        current_max <span class="op">=</span> <span class="bu">max</span>(arr[i], current_max <span class="op">+</span> arr[i], prev_max <span class="op">+</span> arr[i])</span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>        prev_max <span class="op">=</span> temp</span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> current_max</span></code></pre></div></li>
<li><p><strong>Brute Force Approach</strong>:</p>
<ul>
<li><strong>Description</strong>: In this method, we check all possible
subsequences. We calculate their sums and make changes for deletion and
addition.</li>
<li><strong>Time Complexity</strong>: O(2^n) because we look at all
subsequences.</li>
<li><strong>Space Complexity</strong>: O(1), since we do not need extra
space besides the input.</li>
</ul>
<p><strong>C++ Implementation</strong>:</p>
<div class="sourceCode" id="cb10"><pre
class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> maxSumWithOneDeletionAndAddition<span class="op">(</span>vector<span class="op">&lt;</span><span class="dt">int</span><span class="op">&gt;&amp;</span> arr<span class="op">)</span> <span class="op">{</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> n <span class="op">=</span> arr<span class="op">.</span>size<span class="op">();</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> max_sum <span class="op">=</span> INT_MIN<span class="op">;</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&lt;</span> n<span class="op">;</span> <span class="op">++</span>i<span class="op">)</span> <span class="op">{</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> j <span class="op">=</span> i <span class="op">+</span> <span class="dv">1</span><span class="op">;</span> j <span class="op">&lt;</span> n<span class="op">;</span> <span class="op">++</span>j<span class="op">)</span> <span class="op">{</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>            <span class="dt">int</span> sum <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>            <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> k <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> k <span class="op">&lt;</span> n<span class="op">;</span> <span class="op">++</span>k<span class="op">)</span> <span class="op">{</span></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>                <span class="cf">if</span> <span class="op">(</span>k <span class="op">!=</span> i <span class="op">&amp;&amp;</span> k <span class="op">!=</span> j<span class="op">)</span> <span class="op">{</span></span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>                    sum <span class="op">+=</span> arr<span class="op">[</span>k<span class="op">];</span></span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>                <span class="op">}</span></span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a>            max_sum <span class="op">=</span> max<span class="op">(</span>max_sum<span class="op">,</span> sum <span class="op">+</span> arr<span class="op">[</span>j<span class="op">]);</span></span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> max_sum<span class="op">;</span></span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div></li>
</ol>
<p><strong>Comparison</strong>: - The brute force approach helps us
understand the problem better. But it takes too long for bigger inputs.
- The dynamic programming approach is better for time and space. It
works well for medium-sized inputs. - The optimized space approach is
great for large inputs. It keeps the speed of dynamic programming and
uses less memory.</p>
<p>For more information about dynamic programming, we can look at the <a
href="https://bestonlinetutorial.com/dynamic_programming/dynamic-programming-fibonacci-number-easy.html">Dynamic
Programming Fibonacci Number</a> and <a
href="https://bestonlinetutorial.com/dynamic_programming/dynamic-programming-maximum-subarray-kadanes-algorithm-easy.html">Dynamic
Programming Maximum Subarray (Kadane’s Algorithm)</a>.</p>
<h2
id="code-walkthrough-of-the-java-solution-for-maximum-sum-with-one-deletion-and-one-addition">Code
Walkthrough of the Java Solution for Maximum Sum with One Deletion and
One Addition</h2>
<p>We can solve the problem of finding the maximum sum of a subsequence
with one deletion and one addition using dynamic programming in Java.
Our goal is to get the highest sum of the subsequence while following
the rules for deletion and addition.</p>
<h3 id="java-implementation">Java Implementation</h3>
<p>Here is a simple Java implementation of the solution:</p>
<div class="sourceCode" id="cb11"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="kw">class</span> MaximumSumSubsequence <span class="op">{</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">static</span> <span class="dt">int</span> <span class="fu">maximumSum</span><span class="op">(</span><span class="dt">int</span><span class="op">[]</span> arr<span class="op">)</span> <span class="op">{</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>        <span class="dt">int</span> n <span class="op">=</span> arr<span class="op">.</span><span class="fu">length</span><span class="op">;</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="op">(</span>n <span class="op">==</span> <span class="dv">0</span><span class="op">)</span> <span class="cf">return</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>        <span class="dt">int</span><span class="op">[]</span> dp <span class="op">=</span> <span class="kw">new</span> <span class="dt">int</span><span class="op">[</span>n<span class="op">];</span></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>        dp<span class="op">[</span><span class="dv">0</span><span class="op">]</span> <span class="op">=</span> arr<span class="op">[</span><span class="dv">0</span><span class="op">];</span></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>        <span class="dt">int</span> maxSum <span class="op">=</span> dp<span class="op">[</span><span class="dv">0</span><span class="op">];</span></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">1</span><span class="op">;</span> i <span class="op">&lt;</span> n<span class="op">;</span> i<span class="op">++)</span> <span class="op">{</span></span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>            dp<span class="op">[</span>i<span class="op">]</span> <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">max</span><span class="op">(</span>arr<span class="op">[</span>i<span class="op">],</span> dp<span class="op">[</span>i <span class="op">-</span> <span class="dv">1</span><span class="op">]</span> <span class="op">+</span> arr<span class="op">[</span>i<span class="op">]);</span></span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>            maxSum <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">max</span><span class="op">(</span>maxSum<span class="op">,</span> dp<span class="op">[</span>i<span class="op">]);</span></span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a>        <span class="co">// Consider deletion and addition</span></span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a>        <span class="dt">int</span><span class="op">[]</span> maxWithDeletion <span class="op">=</span> <span class="kw">new</span> <span class="dt">int</span><span class="op">[</span>n<span class="op">];</span></span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a>        maxWithDeletion<span class="op">[</span><span class="dv">0</span><span class="op">]</span> <span class="op">=</span> arr<span class="op">[</span><span class="dv">0</span><span class="op">];</span></span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">1</span><span class="op">;</span> i <span class="op">&lt;</span> n<span class="op">;</span> i<span class="op">++)</span> <span class="op">{</span></span>
<span id="cb11-20"><a href="#cb11-20" aria-hidden="true" tabindex="-1"></a>            maxWithDeletion<span class="op">[</span>i<span class="op">]</span> <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">max</span><span class="op">(</span>maxWithDeletion<span class="op">[</span>i <span class="op">-</span> <span class="dv">1</span><span class="op">],</span> dp<span class="op">[</span>i <span class="op">-</span> <span class="dv">1</span><span class="op">]</span> <span class="op">+</span> arr<span class="op">[</span>i<span class="op">]);</span></span>
<span id="cb11-21"><a href="#cb11-21" aria-hidden="true" tabindex="-1"></a>            maxSum <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">max</span><span class="op">(</span>maxSum<span class="op">,</span> maxWithDeletion<span class="op">[</span>i<span class="op">]);</span></span>
<span id="cb11-22"><a href="#cb11-22" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb11-23"><a href="#cb11-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-24"><a href="#cb11-24" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> maxSum<span class="op">;</span></span>
<span id="cb11-25"><a href="#cb11-25" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb11-26"><a href="#cb11-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-27"><a href="#cb11-27" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">static</span> <span class="dt">void</span> <span class="fu">main</span><span class="op">(</span><span class="bu">String</span><span class="op">[]</span> args<span class="op">)</span> <span class="op">{</span></span>
<span id="cb11-28"><a href="#cb11-28" aria-hidden="true" tabindex="-1"></a>        <span class="dt">int</span><span class="op">[]</span> arr <span class="op">=</span> <span class="op">{</span><span class="dv">1</span><span class="op">,</span> <span class="op">-</span><span class="dv">2</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">3</span><span class="op">};</span></span>
<span id="cb11-29"><a href="#cb11-29" aria-hidden="true" tabindex="-1"></a>        <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span><span class="st">&quot;Maximum Sum: &quot;</span> <span class="op">+</span> <span class="fu">maximumSum</span><span class="op">(</span>arr<span class="op">));</span> <span class="co">// Output: 4</span></span>
<span id="cb11-30"><a href="#cb11-30" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb11-31"><a href="#cb11-31" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h3 id="explanation-of-code">Explanation of Code</h3>
<ol type="1">
<li><p><strong>Initialization</strong>: We use the array <code>dp</code>
to keep track of the maximum sum subsequence ending at each index. The
variable <code>maxSum</code> holds the overall maximum sum we
find.</p></li>
<li><p><strong>Dynamic Programming Logic</strong>:</p>
<ul>
<li>For each element, we calculate the maximum sum we can get by either
including or excluding that element.</li>
<li>We update <code>maxSum</code> with the highest value found in
<code>dp</code>.</li>
</ul></li>
<li><p><strong>Incorporating Deletion</strong>:</p>
<ul>
<li>The second time we go through the array, we think about deleting an
element.</li>
<li>The array <code>maxWithDeletion</code> saves the maximum sum we can
get after deleting an element. This lets us add more elements after
that.</li>
</ul></li>
<li><p><strong>Output</strong>: We print the final result in the
<code>main</code> method.</p></li>
</ol>
<p>This implementation helps us find the maximum sum of a subsequence
with one deletion and one addition. It works well and is efficient. For
more on dynamic programming, we can look at other ideas like <a
href="https://bestonlinetutorial.com/dynamic_programming/dynamic-programming-maximum-subarray-kadanes-algorithm-easy.html">Dynamic
Programming: Maximum Subarray (Kadane’s Algorithm)</a>.</p>
<h2
id="python-code-explanation-for-maximum-sum-of-a-subsequence-with-one-deletion-and-one-addition">Python
Code Explanation for Maximum Sum of a Subsequence with One Deletion and
One Addition</h2>
<p>We can solve the problem of finding the maximum sum of a subsequence
with one deletion and one addition using dynamic programming. We will
use two arrays. The first is <code>max_ending_here</code> and the second
is <code>max_ending_here_with_deletion</code>. These arrays help us to
track the maximum sums.</p>
<div class="sourceCode" id="cb12"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> max_sum_subsequence_with_deletion_and_addition(arr):</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>    n <span class="op">=</span> <span class="bu">len</span>(arr)</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> n <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="dv">0</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>    max_ending_here <span class="op">=</span> [<span class="dv">0</span>] <span class="op">*</span> n</span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>    max_ending_here_with_deletion <span class="op">=</span> [<span class="dv">0</span>] <span class="op">*</span> n</span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>    max_ending_here[<span class="dv">0</span>] <span class="op">=</span> arr[<span class="dv">0</span>]</span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>    max_ending_here_with_deletion[<span class="dv">0</span>] <span class="op">=</span> <span class="dv">0</span> </span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1</span>, n):</span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a>        max_ending_here[i] <span class="op">=</span> <span class="bu">max</span>(arr[i], max_ending_here[i <span class="op">-</span> <span class="dv">1</span>] <span class="op">+</span> arr[i])</span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a>        max_ending_here_with_deletion[i] <span class="op">=</span> <span class="bu">max</span>(max_ending_here_with_deletion[i <span class="op">-</span> <span class="dv">1</span>], max_ending_here[i <span class="op">-</span> <span class="dv">1</span>])</span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="bu">max</span>(<span class="bu">max</span>(max_ending_here), max_ending_here_with_deletion)</span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-18"><a href="#cb12-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Example usage</span></span>
<span id="cb12-19"><a href="#cb12-19" aria-hidden="true" tabindex="-1"></a>arr <span class="op">=</span> [<span class="dv">1</span>, <span class="op">-</span><span class="dv">2</span>, <span class="dv">0</span>, <span class="dv">3</span>]</span>
<span id="cb12-20"><a href="#cb12-20" aria-hidden="true" tabindex="-1"></a>result <span class="op">=</span> max_sum_subsequence_with_deletion_and_addition(arr)</span>
<span id="cb12-21"><a href="#cb12-21" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(result)  <span class="co"># Output: 4</span></span></code></pre></div>
<h3 id="code-explanation">Code Explanation:</h3>
<ul>
<li><strong>Initialization</strong>:
<ul>
<li><code>max_ending_here[i]</code> keeps the maximum sum of the
subsequence that ends at index <code>i</code>.</li>
<li><code>max_ending_here_with_deletion[i]</code> keeps the maximum sum
of the subsequence up to index <code>i</code> with one deletion.</li>
</ul></li>
<li><strong>Iteration</strong>:
<ul>
<li>We go through the array starting from index 1.</li>
<li>We update <code>max_ending_here[i]</code> by deciding to start new
with <code>arr[i]</code> or extend the previous sum by adding
<code>arr[i]</code>.</li>
<li>We update <code>max_ending_here_with_deletion[i]</code> by taking
the maximum of the last value or the value from
<code>max_ending_here</code> at the previous index.</li>
</ul></li>
<li><strong>Final Result</strong>: The final answer is the highest value
from <code>max_ending_here</code> or
<code>max_ending_here_with_deletion</code>.</li>
</ul>
<p>This way we can get the result in O(n) time and O(n) space. This
makes it good for larger inputs.</p>
<p>For more about dynamic programming, we can look at other problems
like <a
href="https://bestonlinetutorial.com/dynamic_programming/dynamic-programming-fibonacci-number-easy.html">Dynamic
Programming - Fibonacci Number</a> and <a
href="https://bestonlinetutorial.com/dynamic_programming/dynamic-programming-maximum-subarray-kadanes-algorithm-easy.html">Dynamic
Programming - Maximum Subarray (Kadane’s Algorithm)</a>.</p>
<h2 id="frequently-asked-questions">Frequently Asked Questions</h2>
<h3
id="what-is-the-maximum-sum-of-a-subsequence-with-one-deletion-and-one-addition">1.
What is the maximum sum of a subsequence with one deletion and one
addition?</h3>
<p>We need to find the maximum sum of a subsequence when we can delete
one number and add one number. This means we will calculate the best sum
we can get by changing the subsequence. We use dynamic programming to do
this. It helps us to find the answer fast. We keep track of the best
sums at each step while thinking about what to delete and what to
add.</p>
<h3
id="how-can-i-implement-the-solution-in-java-for-this-dynamic-programming-problem">2.
How can I implement the solution in Java for this dynamic programming
problem?</h3>
<p>To solve the maximum sum of a subsequence with one deletion and one
addition in Java, we can use dynamic programming. We will make a state
array to remember the maximum sums. You can check the example in the
article. It shows an easy way to understand the logic and how to write
the code.</p>
<h3
id="what-are-the-key-differences-between-the-python-and-c-implementations-of-this-dynamic-programming-problem">3.
What are the key differences between the Python and C++ implementations
of this dynamic programming problem?</h3>
<p>Python and C++ both solve the maximum sum of a subsequence with one
deletion and one addition in a similar way. But they look different
because of their syntax and data structures. Python is usually shorter,
while C++ gives us more control over memory. You can look at the
sections in the article to see the detailed code for both languages.</p>
<h3
id="how-does-dynamic-programming-optimize-the-solution-for-the-maximum-sum-of-a-subsequence-with-one-deletion-and-one-addition">4.
How does dynamic programming optimize the solution for the maximum sum
of a subsequence with one deletion and one addition?</h3>
<p>Dynamic programming helps us by breaking the problem into smaller
parts that overlap. We save the results we get so we do not have to
calculate the same things again. This makes the process faster. It helps
us find the maximum sum without wasting time. For more details, check
the step-by-step guide in the article.</p>
<h3
id="are-there-similar-problems-that-i-can-practice-to-enhance-my-skills-in-dynamic-programming">5.
Are there similar problems that I can practice to enhance my skills in
dynamic programming?</h3>
<p>Yes, there are many problems like this that we can practice to get
better at dynamic programming. For example, we can try <a
href="https://bestonlinetutorial.com/dynamic_programming/dynamic-programming-maximum-subarray-kadanes-algorithm-easy.html">Dynamic
Programming: Maximum Subarray (Kadane’s Algorithm)</a> or <a
href="https://bestonlinetutorial.com/dynamic_programming/dynamic-programming-min-cost-climbing-stairs-easy.html">Dynamic
Programming: Minimum Cost Climbing Stairs</a>. These problems are good
practice for improving our dynamic programming skills.</p>

                        </div>

                    </div>
                    <!--//container-->
                </article>

            </div>
            <!--//main-wrapper-->

            <div id="footer-placeholder"></div>

            <!-- Javascript -->
            <script src="/assets/plugins/popper.min.js" defer></script>
            <script src="/assets/plugins/bootstrap/js/bootstrap.min.js" defer></script>
            <script src="/assets/fontawesome/js/all.min.js" defer></script>
        </body>

        </html>
            
            