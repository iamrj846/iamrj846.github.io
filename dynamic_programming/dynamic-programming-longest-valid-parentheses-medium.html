
    
            <!DOCTYPE html>
        <html lang="en">

        <head>
            <!-- Google tag (gtag.js) -->
            <script async src="https://www.googletagmanager.com/gtag/js?id=G-TFCQEJR7TD"></script>
            <script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
            gtag('config', 'G-TFCQEJR7TD');
            </script>
            
            <title>[Dynamic Programming] Longest Valid Parentheses - Medium</title>
            <meta name="description" content=""Master Dynamic Programming with our guide on the Longest Valid Parentheses problem. Perfect for Medium-level coders!"">
            <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
	        <script src="/assets/js/blog.js"></script>
        </head>

        <body>

            <div id="header-placeholder"></div>

            <div class="main-wrapper">

                <article class="blog-post px-3 py-5 p-md-5">
                    <div class="container single-col-max-width">
                        <header class="blog-post-header">
                            <h1 class="title mb-2">[Dynamic Programming] Longest Valid Parentheses - Medium</h1>
                        </header>

                        <div class="blog-post-body">
                            <p>The Longest Valid Parentheses problem is a well-known challenge in
dynamic programming. It is about finding the length of the longest valid
parentheses substring in a string of parentheses. A valid substring has
every opening parenthesis matched with a closing one. They must be in
the right order. Our goal is to find this length in an efficient way
using dynamic programming or stack methods.</p>
<p>In this article, we will look at different ways to solve the Longest
Valid Parentheses problem. First, we will explain the problem. Next, we
will discuss dynamic programming methods in Java, Python, and C++. After
that, we will check out optimized stack methods in these same languages.
We will also compare the dynamic programming and stack methods. Plus, we
will give a detailed code walkthrough for the Java version. Lastly, we
will answer common questions about this topic.</p>
<ul>
<li>[Dynamic Programming] Longest Valid Parentheses Problem
Explained</li>
<li>Dynamic Programming Approach in Java</li>
<li>Dynamic Programming Approach in Python</li>
<li>Dynamic Programming Approach in C++</li>
<li>Optimized Stack Approach in Java</li>
<li>Optimized Stack Approach in Python</li>
<li>Optimized Stack Approach in C++</li>
<li>Dynamic Programming vs Stack Approach Comparison</li>
<li>Code Walkthrough for Java Implementation</li>
<li>Frequently Asked Questions</li>
</ul>
<p>For more insights into dynamic programming, we can check articles on
the <a
href="https://bestonlinetutorial.com/dynamic_programming/dynamic-programming-fibonacci-number-easy.html">Fibonacci
Number</a> and <a
href="https://bestonlinetutorial.com/dynamic_programming/dynamic-programming-climbing-stairs-easy.html">Climbing
Stairs</a>. They are very helpful.</p>
<h2 id="dynamic-programming-approach-in-java">Dynamic Programming
Approach in Java</h2>
<p>To solve the Longest Valid Parentheses problem with dynamic
programming in Java, we can make a DP array. In this array,
<code>dp[i]</code> shows the length of the longest valid parentheses
substring that ends at index <code>i</code>.</p>
<h3 id="steps">Steps:</h3>
<ol type="1">
<li>First, we create a DP array that is the same length as the input
string. We fill it with zeros.</li>
<li>Then, we use a loop to go through the string. For every closing
parenthesis <code>')'</code>, we check if it can make a valid substring
with a previous <code>'('</code>.</li>
<li>We update the DP array based on these rules:
<ul>
<li>If <code>s[i]</code> is <code>')'</code> and <code>s[i-1]</code> is
<code>'('</code>, we set <code>dp[i] = dp[i-2] + 2</code>.</li>
<li>If <code>s[i]</code> is <code>')'</code> and <code>s[i-1]</code> is
<code>')'</code>, we need to check if <code>s[i - dp[i-1] - 1]</code> is
<code>'('</code>. If it is, we set
<code>dp[i] = dp[i-1] + 2 + dp[i - dp[i-1] - 2]</code>.</li>
</ul></li>
</ol>
<h3 id="java-code-implementation">Java Code Implementation:</h3>
<div class="sourceCode" id="cb1"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="kw">class</span> LongestValidParentheses <span class="op">{</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">int</span> <span class="fu">longestValidParentheses</span><span class="op">(</span><span class="bu">String</span> s<span class="op">)</span> <span class="op">{</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="op">(</span>s <span class="op">==</span> <span class="kw">null</span> <span class="op">||</span> s<span class="op">.</span><span class="fu">length</span><span class="op">()</span> <span class="op">==</span> <span class="dv">0</span><span class="op">)</span> <span class="cf">return</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>        <span class="dt">int</span> maxLength <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>        <span class="dt">int</span><span class="op">[]</span> dp <span class="op">=</span> <span class="kw">new</span> <span class="dt">int</span><span class="op">[</span>s<span class="op">.</span><span class="fu">length</span><span class="op">()];</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">1</span><span class="op">;</span> i <span class="op">&lt;</span> s<span class="op">.</span><span class="fu">length</span><span class="op">();</span> i<span class="op">++)</span> <span class="op">{</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> <span class="op">(</span>s<span class="op">.</span><span class="fu">charAt</span><span class="op">(</span>i<span class="op">)</span> <span class="op">==</span> <span class="ch">&#39;)&#39;</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>                <span class="cf">if</span> <span class="op">(</span>s<span class="op">.</span><span class="fu">charAt</span><span class="op">(</span>i <span class="op">-</span> <span class="dv">1</span><span class="op">)</span> <span class="op">==</span> <span class="ch">&#39;(&#39;</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>                    dp<span class="op">[</span>i<span class="op">]</span> <span class="op">=</span> <span class="op">(</span>i <span class="op">&gt;=</span> <span class="dv">2</span> <span class="op">?</span> dp<span class="op">[</span>i <span class="op">-</span> <span class="dv">2</span><span class="op">]</span> <span class="op">:</span> <span class="dv">0</span><span class="op">)</span> <span class="op">+</span> <span class="dv">2</span><span class="op">;</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>                <span class="op">}</span> <span class="cf">else</span> <span class="cf">if</span> <span class="op">(</span>i <span class="op">-</span> dp<span class="op">[</span>i <span class="op">-</span> <span class="dv">1</span><span class="op">]</span> <span class="op">-</span> <span class="dv">1</span> <span class="op">&gt;=</span> <span class="dv">0</span> <span class="op">&amp;&amp;</span> s<span class="op">.</span><span class="fu">charAt</span><span class="op">(</span>i <span class="op">-</span> dp<span class="op">[</span>i <span class="op">-</span> <span class="dv">1</span><span class="op">]</span> <span class="op">-</span> <span class="dv">1</span><span class="op">)</span> <span class="op">==</span> <span class="ch">&#39;(&#39;</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>                    dp<span class="op">[</span>i<span class="op">]</span> <span class="op">=</span> dp<span class="op">[</span>i <span class="op">-</span> <span class="dv">1</span><span class="op">]</span> <span class="op">+</span> <span class="dv">2</span> <span class="op">+</span> <span class="op">(</span>i <span class="op">-</span> dp<span class="op">[</span>i <span class="op">-</span> <span class="dv">1</span><span class="op">]</span> <span class="op">-</span> <span class="dv">2</span> <span class="op">&gt;=</span> <span class="dv">0</span> <span class="op">?</span> dp<span class="op">[</span>i <span class="op">-</span> dp<span class="op">[</span>i <span class="op">-</span> <span class="dv">1</span><span class="op">]</span> <span class="op">-</span> <span class="dv">2</span><span class="op">]</span> <span class="op">:</span> <span class="dv">0</span><span class="op">);</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>                <span class="op">}</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>                maxLength <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">max</span><span class="op">(</span>maxLength<span class="op">,</span> dp<span class="op">[</span>i<span class="op">]);</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> maxLength<span class="op">;</span></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">static</span> <span class="dt">void</span> <span class="fu">main</span><span class="op">(</span><span class="bu">String</span><span class="op">[]</span> args<span class="op">)</span> <span class="op">{</span></span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>        LongestValidParentheses lvp <span class="op">=</span> <span class="kw">new</span> <span class="fu">LongestValidParentheses</span><span class="op">();</span></span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a>        <span class="bu">String</span> s <span class="op">=</span> <span class="st">&quot;(()))())(&quot;</span><span class="op">;</span></span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a>        <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span><span class="st">&quot;Longest Valid Parentheses Length: &quot;</span> <span class="op">+</span> lvp<span class="op">.</span><span class="fu">longestValidParentheses</span><span class="op">(</span>s<span class="op">));</span> <span class="co">// Output: 4</span></span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h3 id="key-properties">Key Properties:</h3>
<ul>
<li>Time Complexity: O(n). Here n is the length of the string.</li>
<li>Space Complexity: O(n) for the DP array.</li>
<li>This method works well to find the length of the longest valid
parentheses substring using dynamic programming ideas.</li>
</ul>
<p>This way is strong for many inputs. It can handle edge cases like
empty strings or strings without valid parentheses.</p>
<h2 id="dynamic-programming-approach-in-python">Dynamic Programming
Approach in Python</h2>
<p>To solve the Longest Valid Parentheses problem with dynamic
programming in Python, we create a DP array. Here, <code>dp[i]</code>
shows the length of the longest valid parentheses substring that ends at
index <code>i</code>.</p>
<h3 id="steps-1">Steps:</h3>
<ol type="1">
<li>First, we make a DP array of size <code>n</code> (the length of the
string) and fill it with zeros.</li>
<li>Next, we go through the string starting from index 1.</li>
<li>For each character, we check if it makes a valid pair with the last
one or if it helps to form a longer valid substring.</li>
<li>Then we update the DP array based on the rules for valid
parentheses.</li>
</ol>
<h3 id="implementation">Implementation:</h3>
<div class="sourceCode" id="cb2"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> longestValidParentheses(s: <span class="bu">str</span>) <span class="op">-&gt;</span> <span class="bu">int</span>:</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>    n <span class="op">=</span> <span class="bu">len</span>(s)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>    dp <span class="op">=</span> [<span class="dv">0</span>] <span class="op">*</span> n</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>    max_length <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1</span>, n):</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> s[i] <span class="op">==</span> <span class="st">&#39;)&#39;</span>:</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> s[i <span class="op">-</span> <span class="dv">1</span>] <span class="op">==</span> <span class="st">&#39;(&#39;</span>:  <span class="co"># Case of &quot;...&quot;</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>                dp[i] <span class="op">=</span> (dp[i <span class="op">-</span> <span class="dv">2</span>] <span class="cf">if</span> i <span class="op">&gt;=</span> <span class="dv">2</span> <span class="cf">else</span> <span class="dv">0</span>) <span class="op">+</span> <span class="dv">2</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>            <span class="cf">elif</span> i <span class="op">-</span> dp[i <span class="op">-</span> <span class="dv">1</span>] <span class="op">&gt;</span> <span class="dv">0</span> <span class="kw">and</span> s[i <span class="op">-</span> dp[i <span class="op">-</span> <span class="dv">1</span>] <span class="op">-</span> <span class="dv">1</span>] <span class="op">==</span> <span class="st">&#39;(&#39;</span>:  <span class="co"># Case of &quot;)...&quot;</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>                dp[i] <span class="op">=</span> dp[i <span class="op">-</span> <span class="dv">1</span>] <span class="op">+</span> (dp[i <span class="op">-</span> dp[i <span class="op">-</span> <span class="dv">1</span>] <span class="op">-</span> <span class="dv">2</span>] <span class="cf">if</span> i <span class="op">-</span> dp[i <span class="op">-</span> <span class="dv">1</span>] <span class="op">&gt;=</span> <span class="dv">2</span> <span class="cf">else</span> <span class="dv">0</span>) <span class="op">+</span> <span class="dv">2</span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>            max_length <span class="op">=</span> <span class="bu">max</span>(max_length, dp[i])</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> max_length</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Example Usage</span></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>s <span class="op">=</span> <span class="st">&quot;(()())&quot;</span></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(longestValidParentheses(s))  <span class="co"># Output: 6</span></span></code></pre></div>
<h3 id="explanation">Explanation:</h3>
<ul>
<li>The code goes through the string and looks for valid pairs of
parentheses.</li>
<li>It updates the <code>dp</code> array to track valid lengths. At the
end, it returns the maximum length.</li>
<li>Complexity: O(n) time and O(n) space, where n is the length of the
input string.</li>
</ul>
<p>This way is good to find the longest valid parentheses substring
using dynamic programming ideas. It works well and fast. For more
information on dynamic programming, we can check <a
href="https://bestonlinetutorial.com/dynamic_programming/dynamic-programming-fibonacci-number-easy.html">Dynamic
Programming - Fibonacci Number</a> and other similar topics.</p>
<h2 id="dynamic-programming-approach-in-c">Dynamic Programming Approach
in C++</h2>
<p>We can solve the Longest Valid Parentheses problem by using a dynamic
programming method in C++. The main idea is to keep a <code>dp</code>
array. In this array, <code>dp[i]</code> shows the length of the longest
valid parentheses substring that ends at index <code>i</code>.</p>
<h3 id="algorithm-steps">Algorithm Steps:</h3>
<ol type="1">
<li>First, we make a <code>dp</code> array. The size of this array is
equal to the length of the input string. We fill it with zeros.</li>
<li>Then, we go through the string starting from the second
character.</li>
<li>For each character:
<ul>
<li>If the current character is <code>')'</code>, we check the character
before it:
<ul>
<li>If the character before it is <code>'('</code>, then we set
<code>dp[i] = dp[i-2] + 2</code>.</li>
<li>If the character before it is <code>')'</code>, we check if the
character before the valid matching parenthesis is <code>'('</code>:
<ul>
<li>If it is, we set
<code>dp[i] = dp[i-1] + 2 + dp[i - dp[i-1] - 2]</code> if it
exists.</li>
</ul></li>
</ul></li>
</ul></li>
<li>We also keep a <code>maxLength</code> variable. This variable stores
the biggest value we find in the <code>dp</code> array.</li>
</ol>
<h3 id="c-code-implementation">C++ Code Implementation:</h3>
<div class="sourceCode" id="cb3"><pre
class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;iostream&gt;</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;string&gt;</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;vector&gt;</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> <span class="kw">namespace</span> std<span class="op">;</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> longestValidParentheses<span class="op">(</span>string s<span class="op">)</span> <span class="op">{</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> n <span class="op">=</span> s<span class="op">.</span>size<span class="op">();</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>    vector<span class="op">&lt;</span><span class="dt">int</span><span class="op">&gt;</span> dp<span class="op">(</span>n<span class="op">,</span> <span class="dv">0</span><span class="op">);</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> maxLength <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">1</span><span class="op">;</span> i <span class="op">&lt;</span> n<span class="op">;</span> i<span class="op">++)</span> <span class="op">{</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="op">(</span>s<span class="op">[</span>i<span class="op">]</span> <span class="op">==</span> <span class="ch">&#39;)&#39;</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> <span class="op">(</span>s<span class="op">[</span>i <span class="op">-</span> <span class="dv">1</span><span class="op">]</span> <span class="op">==</span> <span class="ch">&#39;(&#39;</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>                dp<span class="op">[</span>i<span class="op">]</span> <span class="op">=</span> <span class="op">(</span>i <span class="op">&gt;=</span> <span class="dv">2</span><span class="op">)</span> <span class="op">?</span> dp<span class="op">[</span>i <span class="op">-</span> <span class="dv">2</span><span class="op">]</span> <span class="op">+</span> <span class="dv">2</span> <span class="op">:</span> <span class="dv">2</span><span class="op">;</span></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span> <span class="cf">else</span> <span class="cf">if</span> <span class="op">(</span>i <span class="op">-</span> dp<span class="op">[</span>i <span class="op">-</span> <span class="dv">1</span><span class="op">]</span> <span class="op">&gt;</span> <span class="dv">0</span> <span class="op">&amp;&amp;</span> s<span class="op">[</span>i <span class="op">-</span> dp<span class="op">[</span>i <span class="op">-</span> <span class="dv">1</span><span class="op">]</span> <span class="op">-</span> <span class="dv">1</span><span class="op">]</span> <span class="op">==</span> <span class="ch">&#39;(&#39;</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>                dp<span class="op">[</span>i<span class="op">]</span> <span class="op">=</span> dp<span class="op">[</span>i <span class="op">-</span> <span class="dv">1</span><span class="op">]</span> <span class="op">+</span> <span class="dv">2</span> <span class="op">+</span> <span class="op">((</span>i <span class="op">-</span> dp<span class="op">[</span>i <span class="op">-</span> <span class="dv">1</span><span class="op">]</span> <span class="op">-</span> <span class="dv">2</span> <span class="op">&gt;=</span> <span class="dv">0</span><span class="op">)</span> <span class="op">?</span> dp<span class="op">[</span>i <span class="op">-</span> dp<span class="op">[</span>i <span class="op">-</span> <span class="dv">1</span><span class="op">]</span> <span class="op">-</span> <span class="dv">2</span><span class="op">]</span> <span class="op">:</span> <span class="dv">0</span><span class="op">);</span></span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>            maxLength <span class="op">=</span> max<span class="op">(</span>maxLength<span class="op">,</span> dp<span class="op">[</span>i<span class="op">]);</span></span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> maxLength<span class="op">;</span></span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> main<span class="op">()</span> <span class="op">{</span></span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a>    string s <span class="op">=</span> <span class="st">&quot;(()())&quot;</span><span class="op">;</span></span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a>    cout <span class="op">&lt;&lt;</span> <span class="st">&quot;Longest Valid Parentheses Length: &quot;</span> <span class="op">&lt;&lt;</span> longestValidParentheses<span class="op">(</span>s<span class="op">)</span> <span class="op">&lt;&lt;</span> endl<span class="op">;</span></span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h3 id="time-complexity">Time Complexity:</h3>
<ul>
<li>O(n): We look at the string one time.</li>
</ul>
<h3 id="space-complexity">Space Complexity:</h3>
<ul>
<li>O(n): We use a <code>dp</code> array to keep the lengths.</li>
</ul>
<p>This way, we can find the longest valid parentheses substring using
dynamic programming in C++. For more reading about similar dynamic
programming problems, we can check out <a
href="https://bestonlinetutorial.com/dynamic_programming/dynamic-programming-fibonacci-number-easy.html">Dynamic
Programming: Fibonacci Number</a>.</p>
<h2 id="optimized-stack-approach-in-java">Optimized Stack Approach in
Java</h2>
<p>We can use the Optimized Stack Approach to solve the Longest Valid
Parentheses problem. This method uses a stack to track the indices of
unmatched parentheses. It helps us find the longest substring of valid
parentheses quickly. We can do this in O(n) time and O(n) space.</p>
<h3 id="algorithm-steps-1">Algorithm Steps:</h3>
<ol type="1">
<li>First, we need to set up a stack to hold the indices of
parentheses.</li>
<li>Then, we push -1 onto the stack. This helps us handle edge
cases.</li>
<li>Next, we go through the string:
<ul>
<li>If we see ‘(’, we push its index onto the stack.</li>
<li>If we see ‘)’, we pop the top of the stack:
<ul>
<li>If the stack is not empty, we find the length of the valid
substring. We do this by subtracting the index at the top of the stack
from the current index.</li>
<li>If the stack is empty, we push the current index onto the
stack.</li>
</ul></li>
</ul></li>
<li>We also keep track of the maximum length of valid parentheses we
find while we go through the string.</li>
</ol>
<h3 id="java-code-implementation-1">Java Code Implementation:</h3>
<div class="sourceCode" id="cb4"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="kw">class</span> LongestValidParentheses <span class="op">{</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">int</span> <span class="fu">longestValidParentheses</span><span class="op">(</span><span class="bu">String</span> s<span class="op">)</span> <span class="op">{</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>        <span class="bu">Stack</span><span class="op">&lt;</span><span class="bu">Integer</span><span class="op">&gt;</span> stack <span class="op">=</span> <span class="kw">new</span> <span class="bu">Stack</span><span class="op">&lt;&gt;();</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>        stack<span class="op">.</span><span class="fu">push</span><span class="op">(-</span><span class="dv">1</span><span class="op">);</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>        <span class="dt">int</span> maxLength <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&lt;</span> s<span class="op">.</span><span class="fu">length</span><span class="op">();</span> i<span class="op">++)</span> <span class="op">{</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> <span class="op">(</span>s<span class="op">.</span><span class="fu">charAt</span><span class="op">(</span>i<span class="op">)</span> <span class="op">==</span> <span class="ch">&#39;(&#39;</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>                stack<span class="op">.</span><span class="fu">push</span><span class="op">(</span>i<span class="op">);</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span> <span class="cf">else</span> <span class="op">{</span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>                stack<span class="op">.</span><span class="fu">pop</span><span class="op">();</span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>                <span class="cf">if</span> <span class="op">(!</span>stack<span class="op">.</span><span class="fu">isEmpty</span><span class="op">())</span> <span class="op">{</span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>                    maxLength <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">max</span><span class="op">(</span>maxLength<span class="op">,</span> i <span class="op">-</span> stack<span class="op">.</span><span class="fu">peek</span><span class="op">());</span></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>                <span class="op">}</span> <span class="cf">else</span> <span class="op">{</span></span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>                    stack<span class="op">.</span><span class="fu">push</span><span class="op">(</span>i<span class="op">);</span></span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>                <span class="op">}</span></span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> maxLength<span class="op">;</span></span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">static</span> <span class="dt">void</span> <span class="fu">main</span><span class="op">(</span><span class="bu">String</span><span class="op">[]</span> args<span class="op">)</span> <span class="op">{</span></span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a>        LongestValidParentheses lvp <span class="op">=</span> <span class="kw">new</span> <span class="fu">LongestValidParentheses</span><span class="op">();</span></span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a>        <span class="bu">String</span> input <span class="op">=</span> <span class="st">&quot;(()())&quot;</span><span class="op">;</span></span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a>        <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span><span class="st">&quot;Longest Valid Parentheses Length: &quot;</span> <span class="op">+</span> lvp<span class="op">.</span><span class="fu">longestValidParentheses</span><span class="op">(</span>input<span class="op">));</span> <span class="co">// Output: 6</span></span>
<span id="cb4-27"><a href="#cb4-27" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb4-28"><a href="#cb4-28" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h3 id="key-points">Key Points:</h3>
<ul>
<li>This way is good for large strings with parentheses.</li>
<li>We use a stack to manage indices well.</li>
<li>We update the maximum length of valid parentheses as we check each
character.</li>
</ul>
<p>This method works great for problems with valid parentheses. We can
also use it for similar challenges in dynamic programming. For more on
dynamic programming, we can check <a
href="https://bestonlinetutorial.com/dynamic_programming/dynamic-programming-fibonacci-number-easy.html">Dynamic
Programming - Fibonacci Number</a>.</p>
<h2 id="optimized-stack-approach-in-python">Optimized Stack Approach in
Python</h2>
<p>We can use the Optimized Stack Approach to solve the Longest Valid
Parentheses problem. This method uses a stack to keep track of the
positions of opening parentheses. It helps us find a solution in linear
time, which is the best for this problem.</p>
<h3 id="algorithm-steps-2">Algorithm Steps:</h3>
<ol type="1">
<li>First, we set up a stack and add <code>-1</code> to it. This helps
us with edge cases.</li>
<li>Next, we go through each character in the string:
<ul>
<li>If we see ‘(’, we add its index to the stack.</li>
<li>If we see ‘)’:
<ul>
<li>We take the top index from the stack.</li>
<li>If the stack is not empty, we find the length of the valid
substring. We do this by subtracting the top index from the current
index.</li>
<li>If the stack is empty, we add the current index to the stack.</li>
</ul></li>
</ul></li>
<li>We also keep track of the longest valid parentheses we find while
going through the string.</li>
</ol>
<h3 id="python-implementation">Python Implementation:</h3>
<div class="sourceCode" id="cb5"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> longestValidParentheses(s: <span class="bu">str</span>) <span class="op">-&gt;</span> <span class="bu">int</span>:</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>    stack <span class="op">=</span> [<span class="op">-</span><span class="dv">1</span>]</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>    max_length <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i, char <span class="kw">in</span> <span class="bu">enumerate</span>(s):</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> char <span class="op">==</span> <span class="st">&#39;(&#39;</span>:</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>            stack.append(i)</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>        <span class="cf">else</span>:</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>            stack.pop()</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> stack:</span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>                max_length <span class="op">=</span> <span class="bu">max</span>(max_length, i <span class="op">-</span> stack[<span class="op">-</span><span class="dv">1</span>])</span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>            <span class="cf">else</span>:</span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>                stack.append(i)</span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> max_length</span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Example usage</span></span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>input_str <span class="op">=</span> <span class="st">&quot;(()())&quot;</span></span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(longestValidParentheses(input_str))  <span class="co"># Output: 6</span></span></code></pre></div>
<h3 id="explanation-of-the-code">Explanation of the Code:</h3>
<ul>
<li>The <code>longestValidParentheses</code> function takes a string
<code>s</code> as input.</li>
<li>We start the stack with <code>-1</code> to help calculate lengths
right.</li>
<li>We loop through each character. We manage the stack based on if the
character is an opening or closing parenthesis.</li>
<li>When we find a valid pair, we update the maximum length.</li>
</ul>
<p>This optimized stack approach helps us find the length of the longest
valid parentheses substring. It does this with a time complexity of O(n)
and space complexity of O(n). If you want to learn more about similar
topics in dynamic programming, you can check the <a
href="https://bestonlinetutorial.com/dynamic_programming/dynamic-programming-longest-common-subsequence-medium.html">Dynamic
Programming: Longest Common Subsequence</a>.</p>
<h2 id="optimized-stack-approach-in-c">Optimized Stack Approach in
C++</h2>
<p>The Optimized Stack Approach helps us solve the Longest Valid
Parentheses problem in C++. We use a stack to track the indices of the
parentheses. This method processes the input string well. It helps us
find the length of the longest valid substring of parentheses.</p>
<h3 id="algorithm-steps-3">Algorithm Steps:</h3>
<ol type="1">
<li>We start by making a stack that will hold the indices of opening
parentheses.</li>
<li>We push <code>-1</code> onto the stack. This helps with cases where
valid parentheses begin at the start.</li>
<li>We go through each character in the string:
<ul>
<li>If we find an opening parenthesis <code>'('</code>, we push its
index onto the stack.</li>
<li>If we find a closing parenthesis <code>')'</code>, we do the
following:
<ul>
<li>We pop the top of the stack. This gives us the index of the last
unmatched opening parenthesis.</li>
<li>If the stack is not empty after popping, we find the length of the
valid substring. We use the current index minus the index at the new top
of the stack.</li>
<li>If the stack is empty, we push the current index onto the
stack.</li>
</ul></li>
</ul></li>
<li>We keep track of the maximum length of valid parentheses we find
while going through the string.</li>
</ol>
<h3 id="c-implementation">C++ Implementation:</h3>
<div class="sourceCode" id="cb6"><pre
class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;iostream&gt;</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;stack&gt;</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;string&gt;</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> longestValidParentheses<span class="op">(</span><span class="bu">std::</span>string<span class="op"> </span>s<span class="op">)</span> <span class="op">{</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>    <span class="bu">std::</span>stack<span class="op">&lt;</span><span class="dt">int</span><span class="op">&gt;</span> stack<span class="op">;</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>    stack<span class="op">.</span>push<span class="op">(-</span><span class="dv">1</span><span class="op">);</span> <span class="co">// Base for valid parentheses</span></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> maxLength <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&lt;</span> s<span class="op">.</span>length<span class="op">();</span> i<span class="op">++)</span> <span class="op">{</span></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="op">(</span>s<span class="op">[</span>i<span class="op">]</span> <span class="op">==</span> <span class="ch">&#39;(&#39;</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>            stack<span class="op">.</span>push<span class="op">(</span>i<span class="op">);</span> <span class="co">// Push index of &#39;(&#39;</span></span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span> <span class="cf">else</span> <span class="op">{</span></span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>            stack<span class="op">.</span>pop<span class="op">();</span> <span class="co">// Pop the last &#39;(&#39; index</span></span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> <span class="op">(!</span>stack<span class="op">.</span>empty<span class="op">())</span> <span class="op">{</span></span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>                <span class="co">// Current valid substring length</span></span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a>                maxLength <span class="op">=</span> <span class="bu">std::</span>max<span class="op">(</span>maxLength<span class="op">,</span> i <span class="op">-</span> stack<span class="op">.</span>top<span class="op">());</span></span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span> <span class="cf">else</span> <span class="op">{</span></span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a>                stack<span class="op">.</span>push<span class="op">(</span>i<span class="op">);</span> <span class="co">// Push current index for future valid lengths</span></span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb6-23"><a href="#cb6-23" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> maxLength<span class="op">;</span></span>
<span id="cb6-24"><a href="#cb6-24" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb6-25"><a href="#cb6-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-26"><a href="#cb6-26" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> main<span class="op">()</span> <span class="op">{</span></span>
<span id="cb6-27"><a href="#cb6-27" aria-hidden="true" tabindex="-1"></a>    <span class="bu">std::</span>string<span class="op"> </span>s <span class="op">=</span> <span class="st">&quot;(()())&quot;</span><span class="op">;</span></span>
<span id="cb6-28"><a href="#cb6-28" aria-hidden="true" tabindex="-1"></a>    <span class="bu">std::</span>cout<span class="op"> &lt;&lt;</span> <span class="st">&quot;Longest Valid Parentheses: &quot;</span> <span class="op">&lt;&lt;</span> longestValidParentheses<span class="op">(</span>s<span class="op">)</span> <span class="op">&lt;&lt;</span> <span class="bu">std::</span>endl<span class="op">;</span></span>
<span id="cb6-29"><a href="#cb6-29" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb6-30"><a href="#cb6-30" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h3 id="complexity-analysis">Complexity Analysis:</h3>
<ul>
<li><strong>Time Complexity:</strong> O(n). Here n is the length of the
string. Each character is checked once.</li>
<li><strong>Space Complexity:</strong> O(n) in the worst case for the
stack. But it could also be O(1) if we only use simple variables to
track indices.</li>
</ul>
<p>This optimized stack approach works well for the Longest Valid
Parentheses problem. It is clear and efficient. If you want to read more
about similar dynamic programming problems, check out the <a
href="https://bestonlinetutorial.com/dynamic_programming/dynamic-programming-fibonacci-number-easy.html">Dynamic
Programming - Fibonacci Number</a>.</p>
<h2 id="dynamic-programming-vs-stack-approach-comparison">Dynamic
Programming vs Stack Approach Comparison</h2>
<p>When we solve the Longest Valid Parentheses problem, we can use two
common methods. These are the Dynamic Programming approach and the Stack
approach. Each way has its good points and some downsides.</p>
<h3 id="dynamic-programming-approach">Dynamic Programming Approach</h3>
<ul>
<li><strong>Time Complexity</strong>: O(n)</li>
<li><strong>Space Complexity</strong>: O(n)</li>
<li><strong>How it Works</strong>:
<ul>
<li>We keep a DP array. Here, <code>dp[i]</code> shows the length of the
longest valid parentheses substring that ends at index
<code>i</code>.</li>
<li>We go through the string and update the DP array based on the rules
for valid parentheses.</li>
</ul></li>
</ul>
<p><strong>Example Code in Java</strong>:</p>
<div class="sourceCode" id="cb7"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="dt">int</span> <span class="fu">longestValidParentheses</span><span class="op">(</span><span class="bu">String</span> s<span class="op">)</span> <span class="op">{</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> maxLen <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span><span class="op">[]</span> dp <span class="op">=</span> <span class="kw">new</span> <span class="dt">int</span><span class="op">[</span>s<span class="op">.</span><span class="fu">length</span><span class="op">()];</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">1</span><span class="op">;</span> i <span class="op">&lt;</span> s<span class="op">.</span><span class="fu">length</span><span class="op">();</span> i<span class="op">++)</span> <span class="op">{</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="op">(</span>s<span class="op">.</span><span class="fu">charAt</span><span class="op">(</span>i<span class="op">)</span> <span class="op">==</span> <span class="ch">&#39;)&#39;</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> <span class="op">(</span>s<span class="op">.</span><span class="fu">charAt</span><span class="op">(</span>i <span class="op">-</span> <span class="dv">1</span><span class="op">)</span> <span class="op">==</span> <span class="ch">&#39;(&#39;</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>                dp<span class="op">[</span>i<span class="op">]</span> <span class="op">=</span> <span class="op">(</span>i <span class="op">&gt;=</span> <span class="dv">2</span> <span class="op">?</span> dp<span class="op">[</span>i <span class="op">-</span> <span class="dv">2</span><span class="op">]</span> <span class="op">:</span> <span class="dv">0</span><span class="op">)</span> <span class="op">+</span> <span class="dv">2</span><span class="op">;</span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span> <span class="cf">else</span> <span class="cf">if</span> <span class="op">(</span>i <span class="op">-</span> dp<span class="op">[</span>i <span class="op">-</span> <span class="dv">1</span><span class="op">]</span> <span class="op">&gt;</span> <span class="dv">0</span> <span class="op">&amp;&amp;</span> s<span class="op">.</span><span class="fu">charAt</span><span class="op">(</span>i <span class="op">-</span> dp<span class="op">[</span>i <span class="op">-</span> <span class="dv">1</span><span class="op">]</span> <span class="op">-</span> <span class="dv">1</span><span class="op">)</span> <span class="op">==</span> <span class="ch">&#39;(&#39;</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>                dp<span class="op">[</span>i<span class="op">]</span> <span class="op">=</span> dp<span class="op">[</span>i <span class="op">-</span> <span class="dv">1</span><span class="op">]</span> <span class="op">+</span> <span class="op">(</span>i <span class="op">&gt;=</span> <span class="dv">2</span> <span class="op">+</span> dp<span class="op">[</span>i <span class="op">-</span> <span class="dv">1</span><span class="op">]</span> <span class="op">?</span> dp<span class="op">[</span>i <span class="op">-</span> <span class="dv">2</span> <span class="op">-</span> dp<span class="op">[</span>i <span class="op">-</span> <span class="dv">1</span><span class="op">]]</span> <span class="op">:</span> <span class="dv">0</span><span class="op">)</span> <span class="op">+</span> <span class="dv">2</span><span class="op">;</span></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>            maxLen <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">max</span><span class="op">(</span>maxLen<span class="op">,</span> dp<span class="op">[</span>i<span class="op">]);</span></span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> maxLen<span class="op">;</span></span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h3 id="stack-approach">Stack Approach</h3>
<ul>
<li><strong>Time Complexity</strong>: O(n)</li>
<li><strong>Space Complexity</strong>: O(n)</li>
<li><strong>How it Works</strong>:
<ul>
<li>We use a stack to keep track of the indices of the parentheses.</li>
<li>We push the index of <code>(</code> onto the stack. When we see
<code>)</code>, we pop the stack and find the length of valid
parentheses from the current position and the top of the stack.</li>
</ul></li>
</ul>
<p><strong>Example Code in Java</strong>:</p>
<div class="sourceCode" id="cb8"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="dt">int</span> <span class="fu">longestValidParentheses</span><span class="op">(</span><span class="bu">String</span> s<span class="op">)</span> <span class="op">{</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">Stack</span><span class="op">&lt;</span><span class="bu">Integer</span><span class="op">&gt;</span> stack <span class="op">=</span> <span class="kw">new</span> <span class="bu">Stack</span><span class="op">&lt;&gt;();</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>    stack<span class="op">.</span><span class="fu">push</span><span class="op">(-</span><span class="dv">1</span><span class="op">);</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> maxLen <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&lt;</span> s<span class="op">.</span><span class="fu">length</span><span class="op">();</span> i<span class="op">++)</span> <span class="op">{</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="op">(</span>s<span class="op">.</span><span class="fu">charAt</span><span class="op">(</span>i<span class="op">)</span> <span class="op">==</span> <span class="ch">&#39;(&#39;</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>            stack<span class="op">.</span><span class="fu">push</span><span class="op">(</span>i<span class="op">);</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span> <span class="cf">else</span> <span class="op">{</span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>            stack<span class="op">.</span><span class="fu">pop</span><span class="op">();</span></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> <span class="op">(</span>stack<span class="op">.</span><span class="fu">isEmpty</span><span class="op">())</span> <span class="op">{</span></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>                stack<span class="op">.</span><span class="fu">push</span><span class="op">(</span>i<span class="op">);</span></span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span> <span class="cf">else</span> <span class="op">{</span></span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>                maxLen <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">max</span><span class="op">(</span>maxLen<span class="op">,</span> i <span class="op">-</span> stack<span class="op">.</span><span class="fu">peek</span><span class="op">());</span></span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> maxLen<span class="op">;</span></span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h3 id="key-differences">Key Differences</h3>
<ul>
<li><strong>Data Structure</strong>: Dynamic Programming uses an array
to keep results. The Stack approach uses a stack to manage indices.</li>
<li><strong>Memory Usage</strong>: DP can use more memory than the stack
approach. It depends on the size of the input.</li>
<li><strong>Implementation Complexity</strong>: The stack method can be
easier to implement for this problem.</li>
</ul>
<p>Both ways are good for solving the Longest Valid Parentheses problem.
But the choice can depend on the specific situation or limits of the
problem we solve. For more reading on dynamic programming techniques, we
can look at the <a
href="https://bestonlinetutorial.com/dynamic_programming/dynamic-programming-fibonacci-number-easy.html">Dynamic
Programming - Fibonacci Number</a> article.</p>
<h2 id="code-walkthrough-for-java-implementation">Code Walkthrough for
Java Implementation</h2>
<p>In this section, we will look at how to solve the Longest Valid
Parentheses problem in Java. We will use a dynamic programming method.
The goal is to find the length of the longest valid parentheses
substring.</p>
<h3 id="java-implementation">Java Implementation</h3>
<p>Here is the Java code for the Longest Valid Parentheses problem:</p>
<div class="sourceCode" id="cb9"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="kw">class</span> LongestValidParentheses <span class="op">{</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">int</span> <span class="fu">longestValidParentheses</span><span class="op">(</span><span class="bu">String</span> s<span class="op">)</span> <span class="op">{</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>        <span class="dt">int</span> maxLength <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>        <span class="dt">int</span><span class="op">[]</span> dp <span class="op">=</span> <span class="kw">new</span> <span class="dt">int</span><span class="op">[</span>s<span class="op">.</span><span class="fu">length</span><span class="op">()];</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">1</span><span class="op">;</span> i <span class="op">&lt;</span> s<span class="op">.</span><span class="fu">length</span><span class="op">();</span> i<span class="op">++)</span> <span class="op">{</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> <span class="op">(</span>s<span class="op">.</span><span class="fu">charAt</span><span class="op">(</span>i<span class="op">)</span> <span class="op">==</span> <span class="ch">&#39;)&#39;</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>                <span class="cf">if</span> <span class="op">(</span>s<span class="op">.</span><span class="fu">charAt</span><span class="op">(</span>i <span class="op">-</span> <span class="dv">1</span><span class="op">)</span> <span class="op">==</span> <span class="ch">&#39;(&#39;</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>                    <span class="co">// Case: &quot;...&quot;</span></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>                    dp<span class="op">[</span>i<span class="op">]</span> <span class="op">=</span> <span class="op">(</span>i <span class="op">&gt;=</span> <span class="dv">2</span> <span class="op">?</span> dp<span class="op">[</span>i <span class="op">-</span> <span class="dv">2</span><span class="op">]</span> <span class="op">:</span> <span class="dv">0</span><span class="op">)</span> <span class="op">+</span> <span class="dv">2</span><span class="op">;</span></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>                <span class="op">}</span> <span class="cf">else</span> <span class="cf">if</span> <span class="op">(</span>i <span class="op">-</span> dp<span class="op">[</span>i <span class="op">-</span> <span class="dv">1</span><span class="op">]</span> <span class="op">&gt;</span> <span class="dv">0</span> <span class="op">&amp;&amp;</span> s<span class="op">.</span><span class="fu">charAt</span><span class="op">(</span>i <span class="op">-</span> dp<span class="op">[</span>i <span class="op">-</span> <span class="dv">1</span><span class="op">]</span> <span class="op">-</span> <span class="dv">1</span><span class="op">)</span> <span class="op">==</span> <span class="ch">&#39;(&#39;</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>                    <span class="co">// Case: &quot;...&quot;</span></span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>                    dp<span class="op">[</span>i<span class="op">]</span> <span class="op">=</span> dp<span class="op">[</span>i <span class="op">-</span> <span class="dv">1</span><span class="op">]</span> <span class="op">+</span> <span class="op">(</span>i <span class="op">&gt;=</span> <span class="dv">2</span> <span class="op">+</span> dp<span class="op">[</span>i <span class="op">-</span> <span class="dv">1</span><span class="op">]</span> <span class="op">?</span> dp<span class="op">[</span>i <span class="op">-</span> <span class="dv">2</span> <span class="op">-</span> dp<span class="op">[</span>i <span class="op">-</span> <span class="dv">1</span><span class="op">]]</span> <span class="op">:</span> <span class="dv">0</span><span class="op">)</span> <span class="op">+</span> <span class="dv">2</span><span class="op">;</span></span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>                <span class="op">}</span></span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>                maxLength <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">max</span><span class="op">(</span>maxLength<span class="op">,</span> dp<span class="op">[</span>i<span class="op">]);</span></span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> maxLength<span class="op">;</span></span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb9-21"><a href="#cb9-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-22"><a href="#cb9-22" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">static</span> <span class="dt">void</span> <span class="fu">main</span><span class="op">(</span><span class="bu">String</span><span class="op">[]</span> args<span class="op">)</span> <span class="op">{</span></span>
<span id="cb9-23"><a href="#cb9-23" aria-hidden="true" tabindex="-1"></a>        LongestValidParentheses lvp <span class="op">=</span> <span class="kw">new</span> <span class="fu">LongestValidParentheses</span><span class="op">();</span></span>
<span id="cb9-24"><a href="#cb9-24" aria-hidden="true" tabindex="-1"></a>        <span class="bu">String</span> s <span class="op">=</span> <span class="st">&quot;(()))())(&quot;</span><span class="op">;</span></span>
<span id="cb9-25"><a href="#cb9-25" aria-hidden="true" tabindex="-1"></a>        <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span><span class="st">&quot;Longest Valid Parentheses Length: &quot;</span> <span class="op">+</span> lvp<span class="op">.</span><span class="fu">longestValidParentheses</span><span class="op">(</span>s<span class="op">));</span></span>
<span id="cb9-26"><a href="#cb9-26" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb9-27"><a href="#cb9-27" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h3 id="explanation-of-the-code-1">Explanation of the Code</h3>
<ul>
<li><p><strong>Dynamic Programming Array (<code>dp</code>)</strong>: We
use an array <code>dp</code>. Here, <code>dp[i]</code> keeps the length
of the longest valid parentheses substring that ends at index
<code>i</code>.</p></li>
<li><p><strong>Iterating through the string</strong>: We start from
index 1. For each closing parenthesis <code>)</code>, we check:</p>
<ul>
<li>If it comes after an opening parenthesis <code>(</code>, we can make
a valid pair. We add 2 to the length of the valid substring before these
two parentheses.</li>
<li>If it comes after a valid substring, we see if we can add to it by
looking at the character before the valid substring.</li>
</ul></li>
<li><p><strong>Updating <code>maxLength</code></strong>: After we check
each character, we update <code>maxLength</code> with the biggest value
found in <code>dp</code>.</p></li>
</ul>
<h3 id="example">Example</h3>
<p>For the input string <code>s = "(()))())("</code>, the output will
be:</p>
<pre><code>Longest Valid Parentheses Length: 4</code></pre>
<p>This shows that the longest valid parentheses substring is
<code>"(())"</code>.</p>
<p>This code works well to find the longest valid parentheses using
dynamic programming. It runs in O(n) time, where n is the length of the
input string <code>s</code>. For more about dynamic programming, we can
look at related problems like <a
href="https://bestonlinetutorial.com/dynamic_programming/dynamic-programming-fibonacci-number-easy.html">Dynamic
Programming - Fibonacci Number</a> or <a
href="https://bestonlinetutorial.com/dynamic_programming/dynamic-programming-climbing-stairs-easy.html">Dynamic
Programming - Climbing Stairs</a>.</p>
<h2 id="frequently-asked-questions">Frequently Asked Questions</h2>
<h3 id="what-is-the-longest-valid-parentheses-problem">1. What is the
Longest Valid Parentheses problem?</h3>
<p>The Longest Valid Parentheses problem is a popular coding challenge.
We need to find the length of the longest valid parentheses substring in
a string of parentheses. We can solve this problem using dynamic
programming or a stack. This helps us practice algorithm skills and
understand how parentheses match.</p>
<h3
id="how-does-dynamic-programming-solve-the-longest-valid-parentheses-problem">2.
How does dynamic programming solve the Longest Valid Parentheses
problem?</h3>
<p>Dynamic programming solves the Longest Valid Parentheses problem by
splitting it into smaller problems. It uses a DP array to keep track of
the longest valid substring that ends at each index. We go through the
string and update the DP array based on the current character and its
previous states. This way, we can find the length of the longest valid
parentheses substring quickly.</p>
<h3
id="what-is-the-stack-approach-for-the-longest-valid-parentheses-problem">3.
What is the stack approach for the Longest Valid Parentheses
problem?</h3>
<p>The stack approach for the Longest Valid Parentheses problem uses a
stack to track the indices of unmatched parentheses. We push the index
of each opening parenthesis. For closing ones, we pop from the stack.
This helps us find the lengths of valid segments. This method is fast
with O(n) complexity, which is good for this problem.</p>
<h3
id="how-do-i-implement-the-longest-valid-parentheses-solution-in-python">4.
How do I implement the Longest Valid Parentheses solution in
Python?</h3>
<p>To implement the Longest Valid Parentheses solution in Python, we can
use dynamic programming or a stack. The stack method is usually easier
to understand. Here is a quick code snippet for the stack approach:</p>
<div class="sourceCode" id="cb11"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> longestValidParentheses(s: <span class="bu">str</span>) <span class="op">-&gt;</span> <span class="bu">int</span>:</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>    stack <span class="op">=</span> [<span class="op">-</span><span class="dv">1</span>]</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>    max_length <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i, char <span class="kw">in</span> <span class="bu">enumerate</span>(s):</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> char <span class="op">==</span> <span class="st">&#39;(&#39;</span>:</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>            stack.append(i)</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>        <span class="cf">else</span>:</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>            stack.pop()</span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> <span class="kw">not</span> stack:</span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>                stack.append(i)</span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>            <span class="cf">else</span>:</span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>                max_length <span class="op">=</span> <span class="bu">max</span>(max_length, i <span class="op">-</span> stack[<span class="op">-</span><span class="dv">1</span>])</span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> max_length</span></code></pre></div>
<p>This code finds the length of the longest valid parentheses substring
quickly.</p>
<h3
id="what-are-the-differences-between-dynamic-programming-and-stack-approaches-for-this-problem">5.
What are the differences between dynamic programming and stack
approaches for this problem?</h3>
<p>The dynamic programming approach for the Longest Valid Parentheses
problem builds solutions from smaller parts. It uses a DP array to
manage states. The stack approach uses a stack to track indices and find
valid lengths directly. Both methods have O(n) time complexity. But the
stack method often uses less space and is easier to understand for this
problem.</p>
<p>For more reading on dynamic programming ideas, check out articles
like <a
href="https://bestonlinetutorial.com/dynamic_programming/dynamic-programming-fibonacci-number-easy.html">Dynamic
Programming: Fibonacci Number</a> and <a
href="https://bestonlinetutorial.com/dynamic_programming/dynamic-programming-climbing-stairs-easy.html">Dynamic
Programming: Climbing Stairs</a>.</p>

                        </div>

                    </div>
                    <!--//container-->
                </article>

            </div>
            <!--//main-wrapper-->

            <div id="footer-placeholder"></div>

            <!-- Javascript -->
            <script src="/assets/plugins/popper.min.js" defer></script>
            <script src="/assets/plugins/bootstrap/js/bootstrap.min.js" defer></script>
            <script src="/assets/fontawesome/js/all.min.js" defer></script>
        </body>

        </html>
            
            