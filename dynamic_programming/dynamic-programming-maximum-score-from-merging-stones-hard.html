
    
            <!DOCTYPE html>
        <html lang="en">

        <head>
            <!-- Google tag (gtag.js) -->
            <script async src="https://www.googletagmanager.com/gtag/js?id=G-TFCQEJR7TD"></script>
            <script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
            gtag('config', 'G-TFCQEJR7TD');
            </script>
            
            <title>[Dynamic Programming] Maximum Score from Merging Stones - Hard</title>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Common CSS & Icons -->
<link rel="icon" href="/favicon.ico" type="image/x-icon">
<link rel="stylesheet" href="/assets/plugins/highlight/styles/monokai-sublime.css">
<link id="theme-style" rel="stylesheet" href="/assets/css/theme-8.css">
<link rel="stylesheet" href="/assets/css/post.css">
            <meta name="description" content="Learn how to maximize your score from merging stones in this dynamic programming challenge. Tips and strategies included!">
            <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
	        <script src="/assets/js/blog.js"></script>
        </head>

        <body>

            <div id="header-placeholder"></div>

            <div class="main-wrapper">

                <article class="blog-post px-3 py-5 p-md-5">
                    <div class="container single-col-max-width">
                        <header class="blog-post-header">
                            <h1 class="title mb-2">[Dynamic Programming] Maximum Score from Merging Stones - Hard</h1>
                        </header>

                        <div class="blog-post-body">
                            <p>Dynamic Programming is a strong method we use to solve hard problems.
We break these problems into easier parts. The “Maximum Score from
Merging Stones” problem is about merging stones. Our goal is to get the
highest score from these merges. We have a line of stones. We need to
merge them into one stone. The score is the total of the stones we
merge. We can solve this problem well with dynamic programming. This
helps us find the best way to merge the stones.</p>
<p>In this article, we will look closely at the Maximum Score from
Merging Stones problem. We will start with a simple overview of the
solution using dynamic programming. Then we will understand the problem
better. After that, we will discuss the dynamic programming method. We
will also show how to implement this in Java, Python, and C++. We will
talk about how to optimize space complexity. Testing and checking our
solution is important too. We will also answer common questions about
the merging stones problem.</p>
<ul>
<li>Dynamic Programming Maximum Score from Merging Stones Solution
Overview</li>
<li>Understanding the Problem Statement for Merging Stones</li>
<li>Dynamic Programming Approach for Maximum Score from Merging
Stones</li>
<li>Java Implementation of Maximum Score from Merging Stones</li>
<li>Python Code Example for Merging Stones Problem</li>
<li>C++ Solution for Maximum Score from Merging Stones</li>
<li>Optimizing Space Complexity in Merging Stones Problem</li>
<li>Testing and Validating the Merging Stones Solution</li>
<li>Frequently Asked Questions</li>
</ul>
<p>For more details on related dynamic programming ideas, we can read
articles like <a
href="https://bestonlinetutorial.com/dynamic_programming/dynamic-programming-fibonacci-number-easy.html">Dynamic
Programming: Fibonacci Number</a> and <a
href="https://bestonlinetutorial.com/dynamic_programming/dynamic-programming-minimum-cost-to-merge-stones-hard.html">Dynamic
Programming: Minimum Cost to Merge Stones</a>.</p>
<h2
id="understanding-the-problem-statement-for-merging-stones">Understanding
the Problem Statement for Merging Stones</h2>
<p>The Merging Stones problem is about a row of stones. Each stone has a
value. Our goal is to merge these stones to get the highest score. When
we merge, we can combine a certain number of stones that are next to
each other. The score we get for each merge is the total of the values
of the stones we merge.</p>
<h3 id="problem-details">Problem Details:</h3>
<ul>
<li>We have an array of numbers that show the values of the stones.</li>
<li>We must merge exactly <code>k</code> stones that are next to each
other into one stone.</li>
<li>The score from merging stones is the total of the values of the
stones we combined.</li>
<li>After merging, the new stone has the value of this total.</li>
<li>We want to merge stones in a way that gives us the best total score
after we merge all stones into one.</li>
</ul>
<h3 id="constraints">Constraints:</h3>
<ul>
<li>We can only merge stones if the number of stones left is at least
<code>k</code>.</li>
<li>We keep merging until we have just one stone left.</li>
</ul>
<h3 id="example">Example:</h3>
<p>For an input array of stones <code>[4, 3, 2, 4]</code> and
<code>k=2</code>, we can merge like this: 1. First, we merge stones 1
and 2: <code>[7, 2, 4]</code> -&gt; Score: 4 + 3 = 7. 2. Next, we merge
stones 1 and 2 again: <code>[9, 4]</code> -&gt; Score: 7 + 2 = 9. 3.
Finally, we merge stones 1 and 2 once more: <code>[13]</code> -&gt;
Score: 9 + 4 = 13.</p>
<p>The final score from this merging would be 13.</p>
<p>We can use dynamic programming to help us find the best way to merge
stones and keep track of scores. The hard part is figuring out the best
order to merge stones to get the highest score while following the rules
of merging.</p>
<h2
id="dynamic-programming-approach-for-maximum-score-from-merging-stones">Dynamic
Programming Approach for Maximum Score from Merging Stones</h2>
<p>We face the problem of merging stones to find the highest score
possible by merging them in a certain way. To solve this well, we need
to understand the best way to break down the problem. We can do this by
using dynamic programming.</p>
<h3 id="problem-definition">Problem Definition</h3>
<p>We have <code>N</code> stones in a line. Their scores are in an
array. Our goal is to merge these stones until we have just one stone
left. Each time we merge stones, it costs us the sum of their scores. We
want to get the highest final score.</p>
<h3 id="dynamic-programming-strategy">Dynamic Programming Strategy</h3>
<ol type="1">
<li><p><strong>State Definition</strong>: We define
<code>dp[i][j]</code> as the highest score we can get by merging stones
from index <code>i</code> to <code>j</code>.</p></li>
<li><p><strong>Base Case</strong>: When <code>i == j</code>, there is
only one stone left. So, <code>dp[i][j] = 0</code> because we do not
need to merge.</p></li>
<li><p><strong>Transition</strong>: To merge stones from <code>i</code>
to <code>j</code>, we look at possible splits <code>k</code> where
<code>i &lt;= k &lt; j</code>. We calculate the score for merging like
this: [ dp[i][j] = (dp[i][j], dp[i][k] + dp[k+1][j] + (i, j)) ] Here,
<code>sum(i, j)</code> is the total score from merging the stones
between indexes <code>i</code> and <code>j</code>.</p></li>
<li><p><strong>Final Score Calculation</strong>: We get the maximum
score from <code>dp[0][N-1]</code>, where <code>N</code> is the number
of stones.</p></li>
</ol>
<h3 id="implementation">Implementation</h3>
<p>Here is a simple Python code for the dynamic programming method to
find the maximum score from merging stones:</p>
<div class="sourceCode" id="cb1"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> maxScore(stones):</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>    n <span class="op">=</span> <span class="bu">len</span>(stones)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>    dp <span class="op">=</span> [[<span class="dv">0</span>] <span class="op">*</span> n <span class="cf">for</span> _ <span class="kw">in</span> <span class="bu">range</span>(n)]</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>    sum_stones <span class="op">=</span> [[<span class="dv">0</span>] <span class="op">*</span> n <span class="cf">for</span> _ <span class="kw">in</span> <span class="bu">range</span>(n)]</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Precompute the sum of stones from i to j</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(n):</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>        sum_stones[i][i] <span class="op">=</span> stones[i]</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> j <span class="kw">in</span> <span class="bu">range</span>(i <span class="op">+</span> <span class="dv">1</span>, n):</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>            sum_stones[i][j] <span class="op">=</span> sum_stones[i][j <span class="op">-</span> <span class="dv">1</span>] <span class="op">+</span> stones[j]</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> length <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">2</span>, n <span class="op">+</span> <span class="dv">1</span>):  <span class="co"># length of the segment</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(n <span class="op">-</span> length <span class="op">+</span> <span class="dv">1</span>):</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>            j <span class="op">=</span> i <span class="op">+</span> length <span class="op">-</span> <span class="dv">1</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>            dp[i][j] <span class="op">=</span> <span class="bu">float</span>(<span class="st">&#39;-inf&#39;</span>)</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>            <span class="cf">for</span> k <span class="kw">in</span> <span class="bu">range</span>(i, j):</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>                dp[i][j] <span class="op">=</span> <span class="bu">max</span>(dp[i][j], dp[i][k] <span class="op">+</span> dp[k <span class="op">+</span> <span class="dv">1</span>][j] <span class="op">+</span> sum_stones[i][j])</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> dp[<span class="dv">0</span>][n <span class="op">-</span> <span class="dv">1</span>]</span></code></pre></div>
<h3 id="complexity-analysis">Complexity Analysis</h3>
<ul>
<li><strong>Time Complexity</strong>: The time complexity is (O(N^3))
because we have three loops that go through the stones.</li>
<li><strong>Space Complexity</strong>: The space complexity is (O(N^2))
for the <code>dp</code> and <code>sum_stones</code> arrays.</li>
</ul>
<p>We can see that this dynamic programming method helps us solve the
merging stones problem to get the best score possible. It works well
even for larger inputs. If you want to learn more about similar dynamic
programming topics, you can check this <a
href="https://bestonlinetutorial.com/dynamic_programming/dynamic-programming-fibonacci-number-easy.html">Dynamic
Programming: Fibonacci Number</a>.</p>
<h2 id="java-implementation-of-maximum-score-from-merging-stones">Java
Implementation of Maximum Score from Merging Stones</h2>
<p>To solve the Maximum Score from Merging Stones problem in Java, we
use dynamic programming. We create a 2D DP array. Here,
<code>dp[i][j]</code> shows the highest score we can get by merging
stones from index <code>i</code> to <code>j</code>. The main idea is to
calculate the score for different parts of the stones step by step.</p>
<h3 id="java-code-example">Java Code Example</h3>
<div class="sourceCode" id="cb2"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Solution <span class="op">{</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">int</span> <span class="fu">mergeStones</span><span class="op">(</span><span class="dt">int</span><span class="op">[]</span> stones<span class="op">,</span> <span class="dt">int</span> K<span class="op">)</span> <span class="op">{</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>        <span class="dt">int</span> n <span class="op">=</span> stones<span class="op">.</span><span class="fu">length</span><span class="op">;</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="op">((</span>n <span class="op">-</span> <span class="dv">1</span><span class="op">)</span> <span class="op">%</span> <span class="op">(</span>K <span class="op">-</span> <span class="dv">1</span><span class="op">)</span> <span class="op">!=</span> <span class="dv">0</span><span class="op">)</span> <span class="cf">return</span> <span class="op">-</span><span class="dv">1</span><span class="op">;</span> <span class="co">// Check if it is possible to merge</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>        <span class="dt">int</span><span class="op">[][]</span> dp <span class="op">=</span> <span class="kw">new</span> <span class="dt">int</span><span class="op">[</span>n<span class="op">][</span>n<span class="op">];</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>        <span class="dt">int</span><span class="op">[]</span> sum <span class="op">=</span> <span class="kw">new</span> <span class="dt">int</span><span class="op">[</span>n <span class="op">+</span> <span class="dv">1</span><span class="op">];</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&lt;</span> n<span class="op">;</span> i<span class="op">++)</span> <span class="op">{</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>            sum<span class="op">[</span>i <span class="op">+</span> <span class="dv">1</span><span class="op">]</span> <span class="op">=</span> sum<span class="op">[</span>i<span class="op">]</span> <span class="op">+</span> stones<span class="op">[</span>i<span class="op">];</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> length <span class="op">=</span> K<span class="op">;</span> length <span class="op">&lt;=</span> n<span class="op">;</span> length<span class="op">++)</span> <span class="op">{</span></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>            <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">+</span> length <span class="op">-</span> <span class="dv">1</span> <span class="op">&lt;</span> n<span class="op">;</span> i<span class="op">++)</span> <span class="op">{</span></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>                <span class="dt">int</span> j <span class="op">=</span> i <span class="op">+</span> length <span class="op">-</span> <span class="dv">1</span><span class="op">;</span></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>                dp<span class="op">[</span>i<span class="op">][</span>j<span class="op">]</span> <span class="op">=</span> <span class="bu">Integer</span><span class="op">.</span><span class="fu">MAX_VALUE</span><span class="op">;</span></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>                <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> k <span class="op">=</span> i<span class="op">;</span> k <span class="op">&lt;</span> j<span class="op">;</span> k <span class="op">+=</span> K <span class="op">-</span> <span class="dv">1</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>                    dp<span class="op">[</span>i<span class="op">][</span>j<span class="op">]</span> <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">min</span><span class="op">(</span>dp<span class="op">[</span>i<span class="op">][</span>j<span class="op">],</span> dp<span class="op">[</span>i<span class="op">][</span>k<span class="op">]</span> <span class="op">+</span> dp<span class="op">[</span>k <span class="op">+</span> <span class="dv">1</span><span class="op">][</span>j<span class="op">]);</span></span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a>                <span class="op">}</span></span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a>                <span class="cf">if</span> <span class="op">((</span>length <span class="op">-</span> <span class="dv">1</span><span class="op">)</span> <span class="op">%</span> <span class="op">(</span>K <span class="op">-</span> <span class="dv">1</span><span class="op">)</span> <span class="op">==</span> <span class="dv">0</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a>                    dp<span class="op">[</span>i<span class="op">][</span>j<span class="op">]</span> <span class="op">+=</span> sum<span class="op">[</span>j <span class="op">+</span> <span class="dv">1</span><span class="op">]</span> <span class="op">-</span> sum<span class="op">[</span>i<span class="op">];</span> <span class="co">// Add score for merging</span></span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a>                <span class="op">}</span></span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb2-27"><a href="#cb2-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-28"><a href="#cb2-28" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> dp<span class="op">[</span><span class="dv">0</span><span class="op">][</span>n <span class="op">-</span> <span class="dv">1</span><span class="op">];</span></span>
<span id="cb2-29"><a href="#cb2-29" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb2-30"><a href="#cb2-30" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h3 id="explanation-of-the-code">Explanation of the Code</h3>
<ul>
<li><strong>Input Validation:</strong> First, we check if we can merge
all stones into one pile. We do this by looking at the number of stones
and the merging rule.</li>
<li><strong>Prefix Sum Array:</strong> We calculate a prefix sum array,
<code>sum</code>. This helps us quickly find the score when we merge
parts of the stones.</li>
<li><strong>Dynamic Programming Table Initialization:</strong> We set up
the DP table <code>dp</code>. Each entry will keep the best score for
merging stones between indices <code>i</code> and <code>j</code>.</li>
<li><strong>Calculation of Scores:</strong> For each subarray length
starting from <code>K</code>, we calculate scores. We check different
ways to split the stones and update the DP table. If the current length
meets the merging rule, we add the score from the prefix sum.</li>
</ul>
<p>This method effectively finds the highest score we can get from
merging stones. We follow the rules from the problem statement.</p>
<h2 id="python-code-example-for-merging-stones-problem">Python Code
Example for Merging Stones Problem</h2>
<p>To solve the Merging Stones problem with dynamic programming in
Python, we need to create a function called <code>mergeStones</code>.
This function will take two inputs: a list of integers called
<code>stones</code> that shows the stones and an integer <code>K</code>
that tells how many stones we can merge at once.</p>
<h3 id="approach">Approach:</h3>
<ol type="1">
<li><strong>Dynamic Programming Table</strong>: We will use a 2D table
named <code>dp</code>. Here, <code>dp[i][j]</code> will save the lowest
cost to merge stones from index <code>i</code> to <code>j</code>.</li>
<li><strong>Prefix Sum</strong>: We will have a prefix sum array. This
helps us quickly find the sum of stones in any part of the list.</li>
<li><strong>Merging Logic</strong>: For every possible range
<code>[i, j]</code>, if the stones in that range can be merged (meaning
the number of stones is a multiple of <code>K</code>), we will find the
cost to merge them and update the <code>dp</code> table.</li>
</ol>
<h3 id="python-implementation">Python Implementation:</h3>
<div class="sourceCode" id="cb3"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Solution:</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> mergeStones(<span class="va">self</span>, stones: List[<span class="bu">int</span>], K: <span class="bu">int</span>) <span class="op">-&gt;</span> <span class="bu">int</span>:</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>        n <span class="op">=</span> <span class="bu">len</span>(stones)</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> (n <span class="op">-</span> <span class="dv">1</span>) <span class="op">%</span> (K <span class="op">-</span> <span class="dv">1</span>) <span class="op">!=</span> <span class="dv">0</span>:</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> <span class="op">-</span><span class="dv">1</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Prefix sum to help calculate range sums</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>        prefix_sum <span class="op">=</span> [<span class="dv">0</span>] <span class="op">*</span> (n <span class="op">+</span> <span class="dv">1</span>)</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(n):</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>            prefix_sum[i <span class="op">+</span> <span class="dv">1</span>] <span class="op">=</span> prefix_sum[i] <span class="op">+</span> stones[i]</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>        <span class="co"># DP table</span></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>        dp <span class="op">=</span> [[<span class="dv">0</span>] <span class="op">*</span> n <span class="cf">for</span> _ <span class="kw">in</span> <span class="bu">range</span>(n)]</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Fill DP table</span></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> length <span class="kw">in</span> <span class="bu">range</span>(K, n <span class="op">+</span> <span class="dv">1</span>):  <span class="co"># length of the subarray</span></span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>            <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(n <span class="op">-</span> length <span class="op">+</span> <span class="dv">1</span>):</span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>                j <span class="op">=</span> i <span class="op">+</span> length <span class="op">-</span> <span class="dv">1</span></span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>                dp[i][j] <span class="op">=</span> <span class="bu">float</span>(<span class="st">&#39;inf&#39;</span>)</span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>                <span class="cf">for</span> mid <span class="kw">in</span> <span class="bu">range</span>(i, j, K <span class="op">-</span> <span class="dv">1</span>):</span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>                    dp[i][j] <span class="op">=</span> <span class="bu">min</span>(dp[i][j], dp[i][mid] <span class="op">+</span> dp[mid <span class="op">+</span> <span class="dv">1</span>][j])</span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a>                <span class="cf">if</span> (length <span class="op">-</span> <span class="dv">1</span>) <span class="op">%</span> (K <span class="op">-</span> <span class="dv">1</span>) <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a>                    dp[i][j] <span class="op">+=</span> prefix_sum[j <span class="op">+</span> <span class="dv">1</span>] <span class="op">-</span> prefix_sum[i]</span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> dp[<span class="dv">0</span>][n <span class="op">-</span> <span class="dv">1</span>]</span></code></pre></div>
<h3 id="key-points">Key Points:</h3>
<ul>
<li>This code uses dynamic programming to find the lowest cost to merge
stones.</li>
<li>Before calculations, we check if merging is possible (if
<code>(n - 1) % (K - 1) == 0</code>).</li>
<li>The prefix sum array helps with range sums. This makes the solution
faster.</li>
</ul>
<p>This Python code solves the Merging Stones problem well. It uses
dynamic programming to get the best solution. For more complex dynamic
programming problems, we should look at other sources. For example,
check out the <a
href="https://bestonlinetutorial.com/dynamic_programming/dynamic-programming-fibonacci-number-easy.html">Dynamic
Programming: Fibonacci Number</a> for basic ideas.</p>
<h2 id="c-solution-for-maximum-score-from-merging-stones">C++ Solution
for Maximum Score from Merging Stones</h2>
<p>We can solve the Maximum Score from Merging Stones problem using
dynamic programming in C++. Our aim is to get the highest score from
merging stones based on some rules. Here is a simple C++ code for the
solution.</p>
<h3 id="c-code-implementation">C++ Code Implementation</h3>
<div class="sourceCode" id="cb4"><pre
class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;vector&gt;</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;iostream&gt;</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;algorithm&gt;</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;numeric&gt;</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> <span class="kw">namespace</span> std<span class="op">;</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Solution <span class="op">{</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span><span class="op">:</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> mergeStones<span class="op">(</span>vector<span class="op">&lt;</span><span class="dt">int</span><span class="op">&gt;&amp;</span> stones<span class="op">,</span> <span class="dt">int</span> K<span class="op">)</span> <span class="op">{</span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>        <span class="dt">int</span> n <span class="op">=</span> stones<span class="op">.</span>size<span class="op">();</span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="op">(</span>n <span class="op">==</span> <span class="dv">0</span><span class="op">)</span> <span class="cf">return</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="op">((</span>n <span class="op">-</span> <span class="dv">1</span><span class="op">)</span> <span class="op">%</span> <span class="op">(</span>K <span class="op">-</span> <span class="dv">1</span><span class="op">)</span> <span class="op">!=</span> <span class="dv">0</span><span class="op">)</span> <span class="cf">return</span> <span class="op">-</span><span class="dv">1</span><span class="op">;</span></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>        vector<span class="op">&lt;</span>vector<span class="op">&lt;</span><span class="dt">int</span><span class="op">&gt;&gt;</span> dp<span class="op">(</span>n<span class="op">,</span> vector<span class="op">&lt;</span><span class="dt">int</span><span class="op">&gt;(</span>n<span class="op">,</span> <span class="dv">0</span><span class="op">));</span></span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>        vector<span class="op">&lt;</span>vector<span class="op">&lt;</span><span class="dt">int</span><span class="op">&gt;&gt;</span> sum<span class="op">(</span>n<span class="op">,</span> vector<span class="op">&lt;</span><span class="dt">int</span><span class="op">&gt;(</span>n<span class="op">,</span> <span class="dv">0</span><span class="op">));</span></span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a>        <span class="co">// Precompute the sum of stones between indices</span></span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&lt;</span> n<span class="op">;</span> <span class="op">++</span>i<span class="op">)</span> <span class="op">{</span></span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a>            sum<span class="op">[</span>i<span class="op">][</span>i<span class="op">]</span> <span class="op">=</span> stones<span class="op">[</span>i<span class="op">];</span></span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a>            <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> j <span class="op">=</span> i <span class="op">+</span> <span class="dv">1</span><span class="op">;</span> j <span class="op">&lt;</span> n<span class="op">;</span> <span class="op">++</span>j<span class="op">)</span> <span class="op">{</span></span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a>                sum<span class="op">[</span>i<span class="op">][</span>j<span class="op">]</span> <span class="op">=</span> sum<span class="op">[</span>i<span class="op">][</span>j <span class="op">-</span> <span class="dv">1</span><span class="op">]</span> <span class="op">+</span> stones<span class="op">[</span>j<span class="op">];</span></span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a>        <span class="co">// Fill the dp table</span></span>
<span id="cb4-27"><a href="#cb4-27" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> len <span class="op">=</span> <span class="dv">2</span><span class="op">;</span> len <span class="op">&lt;=</span> n<span class="op">;</span> <span class="op">++</span>len<span class="op">)</span> <span class="op">{</span></span>
<span id="cb4-28"><a href="#cb4-28" aria-hidden="true" tabindex="-1"></a>            <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&lt;=</span> n <span class="op">-</span> len<span class="op">;</span> <span class="op">++</span>i<span class="op">)</span> <span class="op">{</span></span>
<span id="cb4-29"><a href="#cb4-29" aria-hidden="true" tabindex="-1"></a>                <span class="dt">int</span> j <span class="op">=</span> i <span class="op">+</span> len <span class="op">-</span> <span class="dv">1</span><span class="op">;</span></span>
<span id="cb4-30"><a href="#cb4-30" aria-hidden="true" tabindex="-1"></a>                dp<span class="op">[</span>i<span class="op">][</span>j<span class="op">]</span> <span class="op">=</span> INT_MAX<span class="op">;</span></span>
<span id="cb4-31"><a href="#cb4-31" aria-hidden="true" tabindex="-1"></a>                <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> m <span class="op">=</span> <span class="dv">1</span><span class="op">;</span> m <span class="op">&lt;</span> len<span class="op">;</span> m <span class="op">+=</span> <span class="op">(</span>K <span class="op">-</span> <span class="dv">1</span><span class="op">))</span> <span class="op">{</span></span>
<span id="cb4-32"><a href="#cb4-32" aria-hidden="true" tabindex="-1"></a>                    <span class="dt">int</span> k <span class="op">=</span> i <span class="op">+</span> m <span class="op">-</span> <span class="dv">1</span><span class="op">;</span></span>
<span id="cb4-33"><a href="#cb4-33" aria-hidden="true" tabindex="-1"></a>                    dp<span class="op">[</span>i<span class="op">][</span>j<span class="op">]</span> <span class="op">=</span> min<span class="op">(</span>dp<span class="op">[</span>i<span class="op">][</span>j<span class="op">],</span> dp<span class="op">[</span>i<span class="op">][</span>k<span class="op">]</span> <span class="op">+</span> dp<span class="op">[</span>k <span class="op">+</span> <span class="dv">1</span><span class="op">][</span>j<span class="op">]);</span></span>
<span id="cb4-34"><a href="#cb4-34" aria-hidden="true" tabindex="-1"></a>                <span class="op">}</span></span>
<span id="cb4-35"><a href="#cb4-35" aria-hidden="true" tabindex="-1"></a>                <span class="cf">if</span> <span class="op">((</span>len <span class="op">-</span> <span class="dv">1</span><span class="op">)</span> <span class="op">%</span> <span class="op">(</span>K <span class="op">-</span> <span class="dv">1</span><span class="op">)</span> <span class="op">==</span> <span class="dv">0</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb4-36"><a href="#cb4-36" aria-hidden="true" tabindex="-1"></a>                    dp<span class="op">[</span>i<span class="op">][</span>j<span class="op">]</span> <span class="op">+=</span> sum<span class="op">[</span>i<span class="op">][</span>j<span class="op">];</span></span>
<span id="cb4-37"><a href="#cb4-37" aria-hidden="true" tabindex="-1"></a>                <span class="op">}</span></span>
<span id="cb4-38"><a href="#cb4-38" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb4-39"><a href="#cb4-39" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb4-40"><a href="#cb4-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-41"><a href="#cb4-41" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> dp<span class="op">[</span><span class="dv">0</span><span class="op">][</span>n <span class="op">-</span> <span class="dv">1</span><span class="op">];</span></span>
<span id="cb4-42"><a href="#cb4-42" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb4-43"><a href="#cb4-43" aria-hidden="true" tabindex="-1"></a><span class="op">};</span></span>
<span id="cb4-44"><a href="#cb4-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-45"><a href="#cb4-45" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> main<span class="op">()</span> <span class="op">{</span></span>
<span id="cb4-46"><a href="#cb4-46" aria-hidden="true" tabindex="-1"></a>    Solution solution<span class="op">;</span></span>
<span id="cb4-47"><a href="#cb4-47" aria-hidden="true" tabindex="-1"></a>    vector<span class="op">&lt;</span><span class="dt">int</span><span class="op">&gt;</span> stones <span class="op">=</span> <span class="op">{</span><span class="dv">3</span><span class="op">,</span> <span class="dv">2</span><span class="op">,</span> <span class="dv">4</span><span class="op">,</span> <span class="dv">1</span><span class="op">};</span></span>
<span id="cb4-48"><a href="#cb4-48" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> K <span class="op">=</span> <span class="dv">2</span><span class="op">;</span></span>
<span id="cb4-49"><a href="#cb4-49" aria-hidden="true" tabindex="-1"></a>    cout <span class="op">&lt;&lt;</span> <span class="st">&quot;Maximum score from merging stones: &quot;</span> <span class="op">&lt;&lt;</span> solution<span class="op">.</span>mergeStones<span class="op">(</span>stones<span class="op">,</span> K<span class="op">)</span> <span class="op">&lt;&lt;</span> endl<span class="op">;</span></span>
<span id="cb4-50"><a href="#cb4-50" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb4-51"><a href="#cb4-51" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h3 id="explanation-of-the-code-1">Explanation of the Code</h3>
<ul>
<li><strong>Initialization</strong>: We create a class
<code>Solution</code> with a function <code>mergeStones</code>. This
function takes a list of integers for stones and an integer
<code>K</code>.</li>
<li><strong>Sum Calculation</strong>: We have a 2D vector
<code>sum</code> to keep track of the total stones between any two
points.</li>
<li><strong>Dynamic Programming Table</strong>: A 2D vector
<code>dp</code> is used to store the lowest scores needed to merge
stones from index <code>i</code> to <code>j</code>.</li>
<li><strong>Nested Loops</strong>: The outer loop checks different
lengths of groups. The inner loops find the lowest score for merging
stones using the values we calculated before.</li>
<li><strong>Final Result</strong>: The function gives back the lowest
score for merging all stones. This score is in
<code>dp[0][n - 1]</code>.</li>
</ul>
<p>So, this C++ solution works well to find the maximum score from
merging stones by using dynamic programming ideas.</p>
<h2
id="optimizing-space-complexity-in-merging-stones-problem">Optimizing
Space Complexity in Merging Stones Problem</h2>
<p>In the dynamic programming solution for the “Maximum Score from
Merging Stones” problem, we need to optimize space complexity. This is
important for efficiency, especially with larger inputs. The common way
uses a 2D array to store results. This can use a lot of memory. We will
talk about ways to reduce this space need.</p>
<h3 id="space-optimization-techniques">Space Optimization
Techniques</h3>
<ol type="1">
<li><p><strong>Using a 1D Array</strong>: Instead of using a 2D array
<code>dp[i][j]</code>, we can use a 1D array. This array holds results
for the current and previous stone merges. This change reduces the space
complexity from O(n^2) to O(n).</p></li>
<li><p><strong>Rolling Array Technique</strong>: We can store only the
needed previous states. This means we will keep two arrays. One for the
current state and one for the previous state.</p></li>
</ol>
<h3 id="implementation-1">Implementation</h3>
<p>Here is a Java code showing space optimization using a rolling array
technique:</p>
<div class="sourceCode" id="cb5"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="kw">class</span> MergingStones <span class="op">{</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">int</span> <span class="fu">mergeStones</span><span class="op">(</span><span class="dt">int</span><span class="op">[]</span> stones<span class="op">,</span> <span class="dt">int</span> k<span class="op">)</span> <span class="op">{</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>        <span class="dt">int</span> n <span class="op">=</span> stones<span class="op">.</span><span class="fu">length</span><span class="op">;</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="op">((</span>n <span class="op">-</span> <span class="dv">1</span><span class="op">)</span> <span class="op">%</span> <span class="op">(</span>k <span class="op">-</span> <span class="dv">1</span><span class="op">)</span> <span class="op">!=</span> <span class="dv">0</span><span class="op">)</span> <span class="cf">return</span> <span class="op">-</span><span class="dv">1</span><span class="op">;</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>        <span class="dt">int</span><span class="op">[][]</span> dp <span class="op">=</span> <span class="kw">new</span> <span class="dt">int</span><span class="op">[</span>n<span class="op">][</span>n<span class="op">];</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>        <span class="dt">int</span><span class="op">[]</span> sum <span class="op">=</span> <span class="kw">new</span> <span class="dt">int</span><span class="op">[</span>n <span class="op">+</span> <span class="dv">1</span><span class="op">];</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&lt;</span> n<span class="op">;</span> i<span class="op">++)</span> <span class="op">{</span></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>            sum<span class="op">[</span>i <span class="op">+</span> <span class="dv">1</span><span class="op">]</span> <span class="op">=</span> sum<span class="op">[</span>i<span class="op">]</span> <span class="op">+</span> stones<span class="op">[</span>i<span class="op">];</span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> len <span class="op">=</span> k<span class="op">;</span> len <span class="op">&lt;=</span> n<span class="op">;</span> len<span class="op">++)</span> <span class="op">{</span></span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>            <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">+</span> len <span class="op">-</span> <span class="dv">1</span> <span class="op">&lt;</span> n<span class="op">;</span> i<span class="op">++)</span> <span class="op">{</span></span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>                <span class="dt">int</span> j <span class="op">=</span> i <span class="op">+</span> len <span class="op">-</span> <span class="dv">1</span><span class="op">;</span></span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>                dp<span class="op">[</span>i<span class="op">][</span>j<span class="op">]</span> <span class="op">=</span> <span class="bu">Integer</span><span class="op">.</span><span class="fu">MAX_VALUE</span><span class="op">;</span></span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>                <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> m <span class="op">=</span> <span class="dv">1</span><span class="op">;</span> m <span class="op">&lt;</span> len<span class="op">;</span> m<span class="op">++)</span> <span class="op">{</span></span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>                    <span class="cf">if</span> <span class="op">(</span>m <span class="op">%</span> <span class="op">(</span>k <span class="op">-</span> <span class="dv">1</span><span class="op">)</span> <span class="op">==</span> <span class="dv">0</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a>                        dp<span class="op">[</span>i<span class="op">][</span>j<span class="op">]</span> <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">min</span><span class="op">(</span>dp<span class="op">[</span>i<span class="op">][</span>j<span class="op">],</span> dp<span class="op">[</span>i<span class="op">][</span>m <span class="op">+</span> i <span class="op">-</span> <span class="dv">1</span><span class="op">]</span> <span class="op">+</span> dp<span class="op">[</span>m <span class="op">+</span> i<span class="op">][</span>j<span class="op">]);</span></span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a>                    <span class="op">}</span></span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a>                <span class="op">}</span></span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a>                <span class="cf">if</span> <span class="op">((</span>len <span class="op">-</span> <span class="dv">1</span><span class="op">)</span> <span class="op">%</span> <span class="op">(</span>k <span class="op">-</span> <span class="dv">1</span><span class="op">)</span> <span class="op">==</span> <span class="dv">0</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a>                    dp<span class="op">[</span>i<span class="op">][</span>j<span class="op">]</span> <span class="op">+=</span> sum<span class="op">[</span>j <span class="op">+</span> <span class="dv">1</span><span class="op">]</span> <span class="op">-</span> sum<span class="op">[</span>i<span class="op">];</span></span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a>                <span class="op">}</span></span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb5-27"><a href="#cb5-27" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb5-28"><a href="#cb5-28" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> dp<span class="op">[</span><span class="dv">0</span><span class="op">][</span>n <span class="op">-</span> <span class="dv">1</span><span class="op">];</span></span>
<span id="cb5-29"><a href="#cb5-29" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb5-30"><a href="#cb5-30" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h3 id="python-example">Python Example</h3>
<p>The next Python code shows the same method:</p>
<div class="sourceCode" id="cb6"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> merge_stones(stones, k):</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>    n <span class="op">=</span> <span class="bu">len</span>(stones)</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (n <span class="op">-</span> <span class="dv">1</span>) <span class="op">%</span> (k <span class="op">-</span> <span class="dv">1</span>) <span class="op">!=</span> <span class="dv">0</span>:</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="op">-</span><span class="dv">1</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>    dp <span class="op">=</span> [[<span class="dv">0</span>] <span class="op">*</span> n <span class="cf">for</span> _ <span class="kw">in</span> <span class="bu">range</span>(n)]</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>    sum_stones <span class="op">=</span> [<span class="dv">0</span>] <span class="op">*</span> (n <span class="op">+</span> <span class="dv">1</span>)</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(n):</span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>        sum_stones[i <span class="op">+</span> <span class="dv">1</span>] <span class="op">=</span> sum_stones[i] <span class="op">+</span> stones[i]</span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> length <span class="kw">in</span> <span class="bu">range</span>(k, n <span class="op">+</span> <span class="dv">1</span>):</span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(n <span class="op">-</span> length <span class="op">+</span> <span class="dv">1</span>):</span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>            j <span class="op">=</span> i <span class="op">+</span> length <span class="op">-</span> <span class="dv">1</span></span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a>            dp[i][j] <span class="op">=</span> <span class="bu">float</span>(<span class="st">&#39;inf&#39;</span>)</span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>            <span class="cf">for</span> m <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1</span>, length):</span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a>                <span class="cf">if</span> m <span class="op">%</span> (k <span class="op">-</span> <span class="dv">1</span>) <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a>                    dp[i][j] <span class="op">=</span> <span class="bu">min</span>(dp[i][j], dp[i][i <span class="op">+</span> m <span class="op">-</span> <span class="dv">1</span>] <span class="op">+</span> dp[i <span class="op">+</span> m][j])</span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> (length <span class="op">-</span> <span class="dv">1</span>) <span class="op">%</span> (k <span class="op">-</span> <span class="dv">1</span>) <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a>                dp[i][j] <span class="op">+=</span> sum_stones[j <span class="op">+</span> <span class="dv">1</span>] <span class="op">-</span> sum_stones[i]</span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> dp[<span class="dv">0</span>][n <span class="op">-</span> <span class="dv">1</span>]</span></code></pre></div>
<h3 id="c-implementation">C++ Implementation</h3>
<p>This C++ code example uses the same idea for space optimization:</p>
<div class="sourceCode" id="cb7"><pre
class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Solution <span class="op">{</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span><span class="op">:</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> mergeStones<span class="op">(</span>vector<span class="op">&lt;</span><span class="dt">int</span><span class="op">&gt;&amp;</span> stones<span class="op">,</span> <span class="dt">int</span> k<span class="op">)</span> <span class="op">{</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>        <span class="dt">int</span> n <span class="op">=</span> stones<span class="op">.</span>size<span class="op">();</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="op">((</span>n <span class="op">-</span> <span class="dv">1</span><span class="op">)</span> <span class="op">%</span> <span class="op">(</span>k <span class="op">-</span> <span class="dv">1</span><span class="op">)</span> <span class="op">!=</span> <span class="dv">0</span><span class="op">)</span> <span class="cf">return</span> <span class="op">-</span><span class="dv">1</span><span class="op">;</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>        vector<span class="op">&lt;</span>vector<span class="op">&lt;</span><span class="dt">int</span><span class="op">&gt;&gt;</span> dp<span class="op">(</span>n<span class="op">,</span> vector<span class="op">&lt;</span><span class="dt">int</span><span class="op">&gt;(</span>n<span class="op">,</span> INT_MAX<span class="op">));</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>        vector<span class="op">&lt;</span><span class="dt">int</span><span class="op">&gt;</span> sum<span class="op">(</span>n <span class="op">+</span> <span class="dv">1</span><span class="op">,</span> <span class="dv">0</span><span class="op">);</span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&lt;</span> n<span class="op">;</span> <span class="op">++</span>i<span class="op">)</span> <span class="op">{</span></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>            sum<span class="op">[</span>i <span class="op">+</span> <span class="dv">1</span><span class="op">]</span> <span class="op">=</span> sum<span class="op">[</span>i<span class="op">]</span> <span class="op">+</span> stones<span class="op">[</span>i<span class="op">];</span></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> length <span class="op">=</span> k<span class="op">;</span> length <span class="op">&lt;=</span> n<span class="op">;</span> <span class="op">++</span>length<span class="op">)</span> <span class="op">{</span></span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a>            <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">+</span> length <span class="op">-</span> <span class="dv">1</span> <span class="op">&lt;</span> n<span class="op">;</span> <span class="op">++</span>i<span class="op">)</span> <span class="op">{</span></span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a>                <span class="dt">int</span> j <span class="op">=</span> i <span class="op">+</span> length <span class="op">-</span> <span class="dv">1</span><span class="op">;</span></span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a>                <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> m <span class="op">=</span> <span class="dv">1</span><span class="op">;</span> m <span class="op">&lt;</span> length<span class="op">;</span> <span class="op">++</span>m<span class="op">)</span> <span class="op">{</span></span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a>                    <span class="cf">if</span> <span class="op">(</span>m <span class="op">%</span> <span class="op">(</span>k <span class="op">-</span> <span class="dv">1</span><span class="op">)</span> <span class="op">==</span> <span class="dv">0</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a>                        dp<span class="op">[</span>i<span class="op">][</span>j<span class="op">]</span> <span class="op">=</span> min<span class="op">(</span>dp<span class="op">[</span>i<span class="op">][</span>j<span class="op">],</span> dp<span class="op">[</span>i<span class="op">][</span>i <span class="op">+</span> m <span class="op">-</span> <span class="dv">1</span><span class="op">]</span> <span class="op">+</span> dp<span class="op">[</span>i <span class="op">+</span> m<span class="op">][</span>j<span class="op">]);</span></span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a>                    <span class="op">}</span></span>
<span id="cb7-21"><a href="#cb7-21" aria-hidden="true" tabindex="-1"></a>                <span class="op">}</span></span>
<span id="cb7-22"><a href="#cb7-22" aria-hidden="true" tabindex="-1"></a>                <span class="cf">if</span> <span class="op">((</span>length <span class="op">-</span> <span class="dv">1</span><span class="op">)</span> <span class="op">%</span> <span class="op">(</span>k <span class="op">-</span> <span class="dv">1</span><span class="op">)</span> <span class="op">==</span> <span class="dv">0</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb7-23"><a href="#cb7-23" aria-hidden="true" tabindex="-1"></a>                    dp<span class="op">[</span>i<span class="op">][</span>j<span class="op">]</span> <span class="op">+=</span> sum<span class="op">[</span>j <span class="op">+</span> <span class="dv">1</span><span class="op">]</span> <span class="op">-</span> sum<span class="op">[</span>i<span class="op">];</span></span>
<span id="cb7-24"><a href="#cb7-24" aria-hidden="true" tabindex="-1"></a>                <span class="op">}</span></span>
<span id="cb7-25"><a href="#cb7-25" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb7-26"><a href="#cb7-26" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb7-27"><a href="#cb7-27" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> dp<span class="op">[</span><span class="dv">0</span><span class="op">][</span>n <span class="op">-</span> <span class="dv">1</span><span class="op">];</span></span>
<span id="cb7-28"><a href="#cb7-28" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb7-29"><a href="#cb7-29" aria-hidden="true" tabindex="-1"></a><span class="op">};</span></span></code></pre></div>
<h3 id="conclusion">Conclusion</h3>
<p>By using these space optimization methods, we can lower memory use
while solving the “Maximum Score from Merging Stones” problem. This
makes our solutions better and can work for bigger inputs. To learn more
about dynamic programming techniques, we can read articles like <a
href="https://bestonlinetutorial.com/dynamic_programming/dynamic-programming-fibonacci-number-easy.html">Dynamic
Programming Fibonacci Number</a>.</p>
<h2 id="testing-and-validating-the-merging-stones-solution">Testing and
Validating the Merging Stones Solution</h2>
<p>To make sure our solution for the Maximum Score from Merging Stones
problem is correct, we need to do some thorough testing and validation.
Here are the ways we can test and validate our implementation in
different situations.</p>
<h3 id="test-cases">Test Cases</h3>
<ol type="1">
<li><strong>Basic Test Cases</strong>:
<ul>
<li>Input: <code>stones = [3, 5, 1, 2, 6]</code>, <code>K = 3</code>
<ul>
<li>Expected Output: <code>35</code> (We need to calculate merging steps
and scores by hand).</li>
</ul></li>
<li>Input: <code>stones = [4, 3, 6, 4]</code>, <code>K = 2</code>
<ul>
<li>Expected Output: <code>36</code>.</li>
</ul></li>
</ul></li>
<li><strong>Edge Cases</strong>:
<ul>
<li>Input: <code>stones = [1]</code>, <code>K = 1</code>
<ul>
<li>Expected Output: <code>0</code> (There is only one stone, no merge
possible).</li>
</ul></li>
<li>Input: <code>stones = []</code>, <code>K = 1</code>
<ul>
<li>Expected Output: <code>0</code> (No stones to merge).</li>
</ul></li>
</ul></li>
<li><strong>Large Input Cases</strong>:
<ul>
<li>Input: <code>stones = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]</code>,
<code>K = 2</code>
<ul>
<li>Expected Output: <code>88</code>.</li>
</ul></li>
<li>Input: <code>stones = [10] * 1000</code>, <code>K = 10</code>
<ul>
<li>Expected Output: <code>1000000</code> (This is the max score from
merging same stones).</li>
</ul></li>
</ul></li>
</ol>
<h3 id="validation-technique">Validation Technique</h3>
<ul>
<li><p><strong>Unit Testing</strong>: We can use a unit testing
framework like JUnit for Java, pytest for Python, or Google Test for
C++. Each function, especially the recursive and dynamic parts, needs to
be tested alone.</p></li>
<li><p><strong>Integration Testing</strong>: We should test the whole
solution together to check if parts work well together. This should
include tests that act like the full merging process.</p></li>
<li><p><strong>Performance Testing</strong>: We need to check the time
and memory use for large inputs. This will help us see if the solution
is fast and meets the limits.</p></li>
</ul>
<h3 id="example-code-for-testing-in-python">Example Code for Testing in
Python</h3>
<div class="sourceCode" id="cb8"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> test_merge_stones():</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">assert</span> merge_stones([<span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">6</span>], <span class="dv">3</span>) <span class="op">==</span> <span class="dv">35</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">assert</span> merge_stones([<span class="dv">4</span>, <span class="dv">3</span>, <span class="dv">6</span>, <span class="dv">4</span>], <span class="dv">2</span>) <span class="op">==</span> <span class="dv">36</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">assert</span> merge_stones([<span class="dv">1</span>], <span class="dv">1</span>) <span class="op">==</span> <span class="dv">0</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">assert</span> merge_stones([], <span class="dv">1</span>) <span class="op">==</span> <span class="dv">0</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">assert</span> merge_stones([<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>, <span class="dv">7</span>, <span class="dv">8</span>, <span class="dv">9</span>, <span class="dv">10</span>], <span class="dv">2</span>) <span class="op">==</span> <span class="dv">88</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">assert</span> merge_stones([<span class="dv">10</span>] <span class="op">*</span> <span class="dv">1000</span>, <span class="dv">10</span>) <span class="op">==</span> <span class="dv">1000000</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Run tests</span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>test_merge_stones()</span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&quot;All tests passed!&quot;</span>)</span></code></pre></div>
<p>We should add these tests into our development process. This will
help us make sure the Maximum Score from Merging Stones solution is
strong and reliable.</p>
<h3 id="debugging-techniques">Debugging Techniques</h3>
<ul>
<li><strong>Logging</strong>: We can add logging to see the values of
important variables when running. This will help us find where things go
wrong.</li>
<li><strong>Step-by-step Debugging</strong>: We can use an IDE debugger
to go through the code step by step, especially in recursive functions.
This lets us watch the flow of execution and check variable values.</li>
</ul>
<p>This way of testing and validating will help us make sure the Merging
Stones solution works correctly in different situations and meets
performance needs.</p>
<h2 id="frequently-asked-questions">Frequently Asked Questions</h2>
<h3 id="what-is-the-merging-stones-problem-in-dynamic-programming">1.
What is the Merging Stones problem in dynamic programming?</h3>
<p>The Merging Stones problem is about finding the highest score we can
get by merging a line of stones with some rules. The goal is to merge
the stones in a way that gives us the biggest total score. This score
usually comes from adding together the stones we merge. We can solve
this problem well using dynamic programming. This method helps us look
at smaller parts of the problem for the best solution.</p>
<h3
id="how-does-dynamic-programming-help-in-solving-the-merging-stones-problem">2.
How does dynamic programming help in solving the Merging Stones
problem?</h3>
<p>Dynamic programming helps us solve the Merging Stones problem by
breaking it into smaller parts that overlap. We can keep the results of
these parts so we do not need to calculate them again. This saves time
and helps us find the highest score quickly. This method is much faster
than just using simple recursive ways. It works better for bigger sets
of data.</p>
<h3
id="what-is-the-time-complexity-of-the-dynamic-programming-solution-for-merging-stones">3.
What is the time complexity of the dynamic programming solution for
Merging Stones?</h3>
<p>The time complexity for the dynamic programming solution of the
Merging Stones problem is usually O(N^3). Here, N stands for the number
of stones. This happens because we need nested loops to find the maximum
scores for different groups of stones. Even if this complexity seems
high, it is okay for medium-sized inputs. So, dynamic programming is a
good choice.</p>
<h3
id="can-you-provide-a-sample-implementation-for-the-merging-stones-problem-in-python">4.
Can you provide a sample implementation for the Merging Stones problem
in Python?</h3>
<p>Sure! Here is a simple Python code to solve the Merging Stones
problem using dynamic programming:</p>
<div class="sourceCode" id="cb9"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> mergeStones(stones, K):</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>    n <span class="op">=</span> <span class="bu">len</span>(stones)</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (n <span class="op">-</span> <span class="dv">1</span>) <span class="op">%</span> (K <span class="op">-</span> <span class="dv">1</span>) <span class="op">!=</span> <span class="dv">0</span>:</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="op">-</span><span class="dv">1</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>    dp <span class="op">=</span> [[[<span class="dv">0</span>] <span class="op">*</span> n <span class="cf">for</span> _ <span class="kw">in</span> <span class="bu">range</span>(n)] <span class="cf">for</span> _ <span class="kw">in</span> <span class="bu">range</span>(n)]</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>    sum_stones <span class="op">=</span> [[<span class="dv">0</span>] <span class="op">*</span> n <span class="cf">for</span> _ <span class="kw">in</span> <span class="bu">range</span>(n)]</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(n):</span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>        sum_stones[i][i] <span class="op">=</span> stones[i]</span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> j <span class="kw">in</span> <span class="bu">range</span>(i <span class="op">+</span> <span class="dv">1</span>, n):</span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>            sum_stones[i][j] <span class="op">=</span> sum_stones[i][j <span class="op">-</span> <span class="dv">1</span>] <span class="op">+</span> stones[j]</span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> length <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1</span>, n <span class="op">+</span> <span class="dv">1</span>):</span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(n <span class="op">-</span> length <span class="op">+</span> <span class="dv">1</span>):</span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a>            j <span class="op">=</span> i <span class="op">+</span> length <span class="op">-</span> <span class="dv">1</span></span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> length <span class="op">==</span> <span class="dv">1</span>:</span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a>                dp[i][j][<span class="dv">1</span>] <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a>            <span class="cf">for</span> k <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">2</span>, K <span class="op">+</span> <span class="dv">1</span>):</span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true" tabindex="-1"></a>                <span class="cf">for</span> m <span class="kw">in</span> <span class="bu">range</span>(i, j):</span>
<span id="cb9-21"><a href="#cb9-21" aria-hidden="true" tabindex="-1"></a>                    dp[i][j][k] <span class="op">=</span> <span class="bu">max</span>(dp[i][j][k], dp[i][m][k <span class="op">-</span> <span class="dv">1</span>] <span class="op">+</span> dp[m <span class="op">+</span> <span class="dv">1</span>][j][K])</span>
<span id="cb9-22"><a href="#cb9-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-23"><a href="#cb9-23" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> (length <span class="op">-</span> <span class="dv">1</span>) <span class="op">%</span> (K <span class="op">-</span> <span class="dv">1</span>) <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb9-24"><a href="#cb9-24" aria-hidden="true" tabindex="-1"></a>                dp[i][j][<span class="dv">1</span>] <span class="op">+=</span> sum_stones[i][j]</span>
<span id="cb9-25"><a href="#cb9-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-26"><a href="#cb9-26" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> dp[<span class="dv">0</span>][n <span class="op">-</span> <span class="dv">1</span>][<span class="dv">1</span>]</span></code></pre></div>
<h3
id="what-are-some-common-variations-of-the-merging-stones-problem">5.
What are some common variations of the Merging Stones problem?</h3>
<p>There are different versions of the Merging Stones problem. These
versions may change the merging rules or the way we score. For example,
we can change how we count scores based on how many stones we merge.
Sometimes, there are limits on how many stones we can merge at the same
time. These changes can make us use different dynamic programming
methods. It is important to change our approach based on what the
problem asks. For more on similar problems, you can read about the <a
href="https://bestonlinetutorial.com/dynamic_programming/dynamic-programming-minimum-cost-to-merge-stones-hard.html">Minimum
Cost to Merge Stones</a> article.</p>

                        </div>

                    </div>
                    <!--//container-->
                </article>

            </div>
            <!--//main-wrapper-->

            <div id="footer-placeholder"></div>

            <!-- Javascript -->
            <script src="/assets/plugins/popper.min.js" defer></script>
            <script src="/assets/plugins/bootstrap/js/bootstrap.min.js" defer></script>
            <script src="/assets/fontawesome/js/all.min.js" defer></script>
        </body>

        </html>
            
            