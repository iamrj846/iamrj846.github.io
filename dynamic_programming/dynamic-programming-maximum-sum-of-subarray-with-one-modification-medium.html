
    
            <!DOCTYPE html>
        <html lang="en">

        <head>
            <!-- Google tag (gtag.js) -->
            <script async src="https://www.googletagmanager.com/gtag/js?id=G-TFCQEJR7TD"></script>
            <script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
            gtag('config', 'G-TFCQEJR7TD');
            </script>
            
            <title>[Dynamic Programming] Maximum Sum of Subarray with One Modification - Medium</title>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Common CSS & Icons -->
<link rel="icon" href="/favicon.ico" type="image/x-icon">
<link rel="stylesheet" href="/assets/plugins/highlight/styles/monokai-sublime.css">
<link id="theme-style" rel="stylesheet" href="/assets/css/theme-8.css">
<link rel="stylesheet" href="/assets/css/post.css">
            <meta name="description" content="Discover how to maximize subarray sums with one modification using dynamic programming techniques. Boost your coding skills!">
            <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
	        <script src="/assets/js/blog.js"></script>
        </head>

        <body>

            <div id="header-placeholder"></div>

            <div class="main-wrapper">

                <article class="blog-post px-3 py-5 p-md-5">
                    <div class="container single-col-max-width">
                        <header class="blog-post-header">
                            <h1 class="title mb-2">[Dynamic Programming] Maximum Sum of Subarray with One Modification - Medium</h1>
                        </header>

                        <div class="blog-post-body">
                            <p>Dynamic Programming is a strong way to solve hard problems. We can do
this by breaking them into easier parts. One problem we can look at is
finding the maximum sum of a subarray with one change. This means we can
change one number in the subarray to make the total sum bigger. The
dynamic programming method helps us find this maximum sum quickly. We
can do this by looking at different cases of changes and using results
we calculated before.</p>
<p>In this article, we will explore the Maximum Sum of Subarray with One
Modification. We will talk about the problem statement and how to use
dynamic programming in different programming languages. We will use
Java, Python, and C++. We will also learn how to make the solution
better. We will look at edge cases and compare different methods. At the
end, we will answer some common questions.</p>
<ul>
<li>Dynamic Programming Maximum Sum of Subarray with One Modification
Overview</li>
<li>Understanding the Problem Statement for Maximum Sum of Subarray with
One Modification</li>
<li>Dynamic Programming Approach for Maximum Sum of Subarray with One
Modification in Java</li>
<li>Dynamic Programming Approach for Maximum Sum of Subarray with One
Modification in Python</li>
<li>Dynamic Programming Approach for Maximum Sum of Subarray with One
Modification in C++</li>
<li>Optimizing the Solution for Maximum Sum of Subarray with One
Modification</li>
<li>Handling Edge Cases in Maximum Sum of Subarray with One
Modification</li>
<li>Comparative Analysis of Approaches for Maximum Sum of Subarray with
One Modification</li>
<li>Frequently Asked Questions</li>
</ul>
<p>If we want more challenges in dynamic programming, we can check
articles on topics like the <a
href="https://bestonlinetutorial.com/dynamic_programming/dynamic-programming-maximum-subarray-kadanes-algorithm-easy.html">Maximum
Subarray (Kadane’s Algorithm)</a> or <a
href="https://bestonlinetutorial.com/dynamic_programming/dynamic-programming-minimum-path-sum-in-a-grid-no-obstacles-easy.html">Minimum
Path Sum in a Grid</a>.</p>
<h2
id="understanding-the-problem-statement-for-maximum-sum-of-subarray-with-one-modification">Understanding
the Problem Statement for Maximum Sum of Subarray with One
Modification</h2>
<p>We have a problem to find the maximum sum of a subarray. We can do
one change in the array of integers. We can either:</p>
<ul>
<li>Change one number in the array to any other number.</li>
<li>Or we can leave the array as it is.</li>
</ul>
<p>Our aim is to find the highest sum of a subarray after making one
change. This change can help to increase the sum of the subarray that
has negative numbers or small positive numbers.</p>
<h3 id="problem-definition">Problem Definition</h3>
<p>We get an integer array called <code>nums</code>. Our job is to find
the maximum possible sum of a contiguous subarray after changing at most
one number.</p>
<h3 id="constraints">Constraints:</h3>
<ul>
<li>The input array must have at least 1 number.</li>
<li>The numbers can be negative or positive.</li>
</ul>
<h3 id="example">Example:</h3>
<p>For the array <code>nums = [1, -2, 0, 3]</code>, the highest sum
without any change is <code>4</code> from the subarray
<code>[1, -2, 0, 3]</code>. But if we change <code>-2</code> to
<code>2</code>, the sum of the subarray <code>[1, 2, 0, 3]</code>
becomes <code>6</code>, which is bigger.</p>
<h3 id="goal">Goal:</h3>
<ul>
<li>We need to write an algorithm to find the maximum sum of any
subarray after we allow one change.</li>
</ul>
<h3 id="approach">Approach:</h3>
<ul>
<li>We can use dynamic programming to track the maximum sums with and
without changes.</li>
<li>We will go through the array while keeping two values: the best sum
without any change and the best sum with one change.</li>
</ul>
<p>This problem can be solved well with this method. It leads us to a
good solution in linear time, O(n).</p>
<h2
id="dynamic-programming-approach-for-maximum-sum-of-subarray-with-one-modification-in-java">Dynamic
Programming Approach for Maximum Sum of Subarray with One Modification
in Java</h2>
<p>Finding the maximum sum of a subarray with one change is a problem we
can solve well using dynamic programming. The main idea is to keep track
of two states as we go through the array. One state is for the maximum
sum without any changes, and the other is for the maximum sum with one
change.</p>
<h3 id="java-implementation">Java Implementation</h3>
<p>Here is a simple Java code to show the dynamic programming method for
the Maximum Sum of Subarray with One Modification:</p>
<div class="sourceCode" id="cb1"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="kw">class</span> MaximumSumSubarrayOneModification <span class="op">{</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">int</span> <span class="fu">maximumSum</span><span class="op">(</span><span class="dt">int</span><span class="op">[]</span> arr<span class="op">)</span> <span class="op">{</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>        <span class="dt">int</span> n <span class="op">=</span> arr<span class="op">.</span><span class="fu">length</span><span class="op">;</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="op">(</span>n <span class="op">==</span> <span class="dv">0</span><span class="op">)</span> <span class="cf">return</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>        <span class="dt">int</span><span class="op">[]</span> dpNoModify <span class="op">=</span> <span class="kw">new</span> <span class="dt">int</span><span class="op">[</span>n<span class="op">];</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>        <span class="dt">int</span><span class="op">[]</span> dpWithModify <span class="op">=</span> <span class="kw">new</span> <span class="dt">int</span><span class="op">[</span>n<span class="op">];</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>        dpNoModify<span class="op">[</span><span class="dv">0</span><span class="op">]</span> <span class="op">=</span> arr<span class="op">[</span><span class="dv">0</span><span class="op">];</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>        dpWithModify<span class="op">[</span><span class="dv">0</span><span class="op">]</span> <span class="op">=</span> arr<span class="op">[</span><span class="dv">0</span><span class="op">];</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>        <span class="dt">int</span> maxSum <span class="op">=</span> arr<span class="op">[</span><span class="dv">0</span><span class="op">];</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">1</span><span class="op">;</span> i <span class="op">&lt;</span> n<span class="op">;</span> i<span class="op">++)</span> <span class="op">{</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>            dpNoModify<span class="op">[</span>i<span class="op">]</span> <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">max</span><span class="op">(</span>arr<span class="op">[</span>i<span class="op">],</span> dpNoModify<span class="op">[</span>i <span class="op">-</span> <span class="dv">1</span><span class="op">]</span> <span class="op">+</span> arr<span class="op">[</span>i<span class="op">]);</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>            dpWithModify<span class="op">[</span>i<span class="op">]</span> <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">max</span><span class="op">(</span>dpWithModify<span class="op">[</span>i <span class="op">-</span> <span class="dv">1</span><span class="op">]</span> <span class="op">+</span> arr<span class="op">[</span>i<span class="op">],</span> dpNoModify<span class="op">[</span>i <span class="op">-</span> <span class="dv">1</span><span class="op">]);</span></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>            maxSum <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">max</span><span class="op">(</span>maxSum<span class="op">,</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">max</span><span class="op">(</span>dpNoModify<span class="op">[</span>i<span class="op">],</span> dpWithModify<span class="op">[</span>i<span class="op">]));</span></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> maxSum<span class="op">;</span></span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">static</span> <span class="dt">void</span> <span class="fu">main</span><span class="op">(</span><span class="bu">String</span><span class="op">[]</span> args<span class="op">)</span> <span class="op">{</span></span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a>        MaximumSumSubarrayOneModification solution <span class="op">=</span> <span class="kw">new</span> <span class="fu">MaximumSumSubarrayOneModification</span><span class="op">();</span></span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a>        <span class="dt">int</span><span class="op">[]</span> arr <span class="op">=</span> <span class="op">{</span><span class="dv">1</span><span class="op">,</span> <span class="op">-</span><span class="dv">2</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">3</span><span class="op">};</span></span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a>        <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span><span class="st">&quot;Maximum Sum: &quot;</span> <span class="op">+</span> solution<span class="op">.</span><span class="fu">maximumSum</span><span class="op">(</span>arr<span class="op">));</span> <span class="co">// Output: 4</span></span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h3 id="explanation-of-the-code">Explanation of the Code</h3>
<ul>
<li><strong>Initialization</strong>: We start with two arrays called
<code>dpNoModify</code> and <code>dpWithModify</code>. They keep the
maximum sums for each state.</li>
<li><strong>Dynamic Programming Transition</strong>:
<ul>
<li><code>dpNoModify[i]</code>: This is the maximum sum of the subarray
ending at index <code>i</code> without any change.</li>
<li><code>dpWithModify[i]</code>: This is the maximum sum of the
subarray ending at index <code>i</code> with one change.</li>
</ul></li>
<li><strong>Max Calculation</strong>: At each step, we update
<code>maxSum</code> with the highest value from both states.</li>
<li><strong>Time Complexity</strong>: The algorithm works in O(n) time.
Here, n is the length of the input array.</li>
</ul>
<p>This method helps us find the maximum sum we want while keeping the
change rule in mind. It is a good solution for this problem. If you want
to see other similar dynamic programming problems, you can read the
article on <a
href="https://bestonlinetutorial.com/dynamic_programming/dynamic-programming-maximum-subarray-sum-with-one-deletion-medium.html">Maximum
Subarray Sum with One Deletion</a>.</p>
<h2
id="dynamic-programming-approach-for-maximum-sum-of-subarray-with-one-modification-in-python">Dynamic
Programming Approach for Maximum Sum of Subarray with One Modification
in Python</h2>
<p>To solve the problem of finding the maximum sum of a subarray with
one change, we can use dynamic programming. The goal is to get the
highest sum of a contiguous subarray by allowing one change. This change
can be either replacing an element or removing it.</p>
<h3 id="problem-breakdown">Problem Breakdown</h3>
<ol type="1">
<li><strong>Definitions</strong>:
<ul>
<li>Let <code>nums</code> be the input array.</li>
<li>We define two arrays:
<ul>
<li><code>max_ending_here[i]</code>: Maximum subarray sum that ends at
index <code>i</code>.</li>
<li><code>max_ending_here_with_mod[i]</code>: Maximum subarray sum that
ends at index <code>i</code> with one change.</li>
</ul></li>
</ul></li>
<li><strong>Transitions</strong>:
<ul>
<li><p>For <code>max_ending_here[i]</code>, we can use Kadane’s
algorithm:</p>
<div class="sourceCode" id="cb2"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>max_ending_here[i] <span class="op">=</span> <span class="bu">max</span>(nums[i], max_ending_here[i<span class="op">-</span><span class="dv">1</span>] <span class="op">+</span> nums[i])</span></code></pre></div></li>
<li><p>For <code>max_ending_here_with_mod[i]</code>, we can do one of
these:</p>
<ul>
<li>Take the maximum sum up to the previous index with a change.</li>
<li>Add the current element to the maximum sum found without a change up
to the previous index.</li>
<li>Or replace the current element with zero:</li>
</ul>
<div class="sourceCode" id="cb3"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>max_ending_here_with_mod[i] <span class="op">=</span> <span class="bu">max</span>(max_ending_here_with_mod[i<span class="op">-</span><span class="dv">1</span>], max_ending_here[i<span class="op">-</span><span class="dv">1</span>], max_ending_here[i])</span></code></pre></div></li>
</ul></li>
</ol>
<h3 id="python-code-implementation">Python Code Implementation</h3>
<div class="sourceCode" id="cb4"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> max_sum_with_one_modification(nums):</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>    n <span class="op">=</span> <span class="bu">len</span>(nums)</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> n <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="dv">0</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>    max_ending_here <span class="op">=</span> [<span class="dv">0</span>] <span class="op">*</span> n</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>    max_ending_here_with_mod <span class="op">=</span> [<span class="dv">0</span>] <span class="op">*</span> n</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>    max_ending_here[<span class="dv">0</span>] <span class="op">=</span> nums[<span class="dv">0</span>]</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>    max_ending_here_with_mod[<span class="dv">0</span>] <span class="op">=</span> <span class="dv">0</span>  <span class="co"># If we change the first element</span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1</span>, n):</span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>        max_ending_here[i] <span class="op">=</span> <span class="bu">max</span>(nums[i], max_ending_here[i<span class="op">-</span><span class="dv">1</span>] <span class="op">+</span> nums[i])</span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>        max_ending_here_with_mod[i] <span class="op">=</span> <span class="bu">max</span>(max_ending_here_with_mod[i<span class="op">-</span><span class="dv">1</span>], max_ending_here[i<span class="op">-</span><span class="dv">1</span>], max_ending_here[i])</span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="bu">max</span>(<span class="bu">max</span>(max_ending_here), <span class="bu">max</span>(max_ending_here_with_mod))</span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Example usage</span></span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a>nums <span class="op">=</span> [<span class="dv">1</span>, <span class="op">-</span><span class="dv">2</span>, <span class="dv">0</span>, <span class="dv">3</span>]</span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(max_sum_with_one_modification(nums))  <span class="co"># Output: 4</span></span></code></pre></div>
<h3 id="explanation-of-the-code-1">Explanation of the Code</h3>
<ul>
<li><strong>Initialization</strong>: We start with two lists to keep
maximum sums that end at each index.</li>
<li><strong>Looping through the array</strong>: For each index, we
update both <code>max_ending_here</code> and
<code>max_ending_here_with_mod</code>.</li>
<li><strong>Final Result</strong>: The highest value between the two
lists gives the answer we want.</li>
</ul>
<p>This dynamic programming method runs in O(n) time and uses O(n)
space. It is good for this problem.</p>
<h2
id="dynamic-programming-approach-for-maximum-sum-of-subarray-with-one-modification-in-c">Dynamic
Programming Approach for Maximum Sum of Subarray with One Modification
in C++</h2>
<p>To solve the problem of finding the maximum sum of a subarray with
one change using Dynamic Programming in C++, we can follow a simple way.
We will keep two arrays. One will hold the maximum sum without any
change. The other will hold the maximum sum with one change.</p>
<h3 id="approach-1">Approach</h3>
<ol type="1">
<li><strong>Define Variables</strong>:
<ul>
<li><code>n</code>: The length of the input array.</li>
<li><code>maxEndingHere</code>: This keeps the maximum subarray sum
ending at the current index without any change.</li>
<li><code>maxEndingHereWithModification</code>: This keeps the maximum
subarray sum ending at the current index with one change.</li>
<li><code>maxSoFar</code>: This is the overall maximum sum we
found.</li>
</ul></li>
<li><strong>Iterate through the Array</strong>:
<ul>
<li>For each element in the array, we update <code>maxEndingHere</code>
and <code>maxEndingHereWithModification</code>.</li>
<li>We update <code>maxEndingHereWithModification</code> based on the
previous values.</li>
</ul></li>
<li><strong>Update the Maximum</strong>:
<ul>
<li>We keep updating <code>maxSoFar</code> as we go through the
array.</li>
</ul></li>
</ol>
<h3 id="c-code-implementation">C++ Code Implementation</h3>
<div class="sourceCode" id="cb5"><pre
class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;iostream&gt;</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;vector&gt;</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;algorithm&gt;</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> <span class="kw">namespace</span> std<span class="op">;</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> maxSumWithOneModification<span class="op">(</span><span class="at">const</span> vector<span class="op">&lt;</span><span class="dt">int</span><span class="op">&gt;&amp;</span> nums<span class="op">)</span> <span class="op">{</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> n <span class="op">=</span> nums<span class="op">.</span>size<span class="op">();</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="op">(</span>n <span class="op">==</span> <span class="dv">0</span><span class="op">)</span> <span class="cf">return</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> maxEndingHere <span class="op">=</span> nums<span class="op">[</span><span class="dv">0</span><span class="op">];</span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> maxEndingHereWithModification <span class="op">=</span> nums<span class="op">[</span><span class="dv">0</span><span class="op">];</span></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> maxSoFar <span class="op">=</span> nums<span class="op">[</span><span class="dv">0</span><span class="op">];</span></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">1</span><span class="op">;</span> i <span class="op">&lt;</span> n<span class="op">;</span> i<span class="op">++)</span> <span class="op">{</span></span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>        maxEndingHere <span class="op">=</span> max<span class="op">(</span>nums<span class="op">[</span>i<span class="op">],</span> maxEndingHere <span class="op">+</span> nums<span class="op">[</span>i<span class="op">]);</span></span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>        maxEndingHereWithModification <span class="op">=</span> max<span class="op">(</span>maxEndingHereWithModification <span class="op">+</span> nums<span class="op">[</span>i<span class="op">],</span> maxEndingHere<span class="op">);</span></span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>        maxSoFar <span class="op">=</span> max<span class="op">(</span>maxSoFar<span class="op">,</span> max<span class="op">(</span>maxEndingHere<span class="op">,</span> maxEndingHereWithModification<span class="op">));</span></span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> maxSoFar<span class="op">;</span></span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> main<span class="op">()</span> <span class="op">{</span></span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a>    vector<span class="op">&lt;</span><span class="dt">int</span><span class="op">&gt;</span> nums <span class="op">=</span> <span class="op">{-</span><span class="dv">1</span><span class="op">,</span> <span class="op">-</span><span class="dv">2</span><span class="op">,</span> <span class="op">-</span><span class="dv">3</span><span class="op">,</span> <span class="dv">4</span><span class="op">,</span> <span class="op">-</span><span class="dv">1</span><span class="op">,</span> <span class="dv">2</span><span class="op">,</span> <span class="dv">1</span><span class="op">,</span> <span class="op">-</span><span class="dv">5</span><span class="op">,</span> <span class="dv">4</span><span class="op">};</span></span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a>    cout <span class="op">&lt;&lt;</span> <span class="st">&quot;Maximum Sum of Subarray with One Modification: &quot;</span> <span class="op">&lt;&lt;</span> maxSumWithOneModification<span class="op">(</span>nums<span class="op">)</span> <span class="op">&lt;&lt;</span> endl<span class="op">;</span></span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb5-27"><a href="#cb5-27" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h3 id="explanation-of-the-code-2">Explanation of the Code</h3>
<ul>
<li>The function <code>maxSumWithOneModification</code> finds the
maximum sum of the subarray with one change.</li>
<li>We keep running totals for the maximum sums with and without
changes.</li>
<li>The main function tests this with a sample input array.</li>
</ul>
<p>This C++ code runs fast with O(n) time complexity. It can handle
large arrays well. By using dynamic programming ideas, we make sure to
get the best solution step by step.</p>
<h2
id="optimizing-the-solution-for-maximum-sum-of-subarray-with-one-modification">Optimizing
the Solution for Maximum Sum of Subarray with One Modification</h2>
<p>We want to find the maximum sum of a subarray with one change. We can
do this using a method called dynamic programming. Our aim is to find
the highest subarray sum while allowing us to change one element.</p>
<h3 id="key-concepts">Key Concepts</h3>
<ol type="1">
<li><strong>Dynamic Programming Arrays</strong>:
<ul>
<li><code>dp[i]</code>: This shows the maximum sum of a subarray ending
at index <code>i</code> without any change.</li>
<li><code>dp_with_modification[i]</code>: This shows the maximum sum of
a subarray ending at index <code>i</code> with one change.</li>
</ul></li>
<li><strong>Transition Formula</strong>:
<ul>
<li><p>For <code>dp[i]</code>, we use Kadane’s algorithm:</p>
<div class="sourceCode" id="cb6"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>dp[i] <span class="op">=</span> <span class="bu">max</span>(nums[i], dp[i<span class="op">-</span><span class="dv">1</span>] <span class="op">+</span> nums[i])</span></code></pre></div></li>
<li><p>For <code>dp_with_modification[i]</code>, we can do two
things:</p>
<ul>
<li>Keep the current element the same:
<code>dp_with_modification[i] = dp[i]</code>.</li>
<li>Change the current element:
<code>dp_with_modification[i] = max(dp_with_modification[i-1], dp[i-1]) + nums[i]</code>.</li>
</ul></li>
</ul></li>
</ol>
<h3 id="implementation">Implementation</h3>
<p>We can write this in Python like this:</p>
<div class="sourceCode" id="cb7"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> maxSumWithOneModification(nums):</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>    n <span class="op">=</span> <span class="bu">len</span>(nums)</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> n <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="dv">0</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>    dp <span class="op">=</span> [<span class="dv">0</span>] <span class="op">*</span> n</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>    dp_with_modification <span class="op">=</span> [<span class="dv">0</span>] <span class="op">*</span> n</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>    dp[<span class="dv">0</span>] <span class="op">=</span> nums[<span class="dv">0</span>]</span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>    dp_with_modification[<span class="dv">0</span>] <span class="op">=</span> nums[<span class="dv">0</span>]</span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>    max_sum <span class="op">=</span> <span class="bu">max</span>(dp[<span class="dv">0</span>], dp_with_modification[<span class="dv">0</span>])</span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1</span>, n):</span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a>        dp[i] <span class="op">=</span> <span class="bu">max</span>(nums[i], dp[i<span class="op">-</span><span class="dv">1</span>] <span class="op">+</span> nums[i])</span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a>        dp_with_modification[i] <span class="op">=</span> <span class="bu">max</span>(dp_with_modification[i<span class="op">-</span><span class="dv">1</span>], dp[i<span class="op">-</span><span class="dv">1</span>]) <span class="op">+</span> nums[i]</span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a>        max_sum <span class="op">=</span> <span class="bu">max</span>(max_sum, dp[i], dp_with_modification[i])</span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> max_sum</span></code></pre></div>
<h3 id="time-complexity">Time Complexity</h3>
<p>The time complexity is O(n). This is because we go through the array
just one time.</p>
<h3 id="space-complexity">Space Complexity</h3>
<p>The space complexity is O(n). This is because we use two separate
arrays for dynamic programming. But we can make it O(1) by just keeping
the last values we need.</p>
<h3 id="example-1">Example</h3>
<div class="sourceCode" id="cb8"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>nums <span class="op">=</span> [<span class="dv">1</span>, <span class="op">-</span><span class="dv">2</span>, <span class="dv">0</span>, <span class="dv">3</span>]</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(maxSumWithOneModification(nums))  <span class="co"># Output: 4</span></span></code></pre></div>
<p>This way we can find the maximum sum of a subarray with one change.
We keep good performance by using dynamic programming ideas. If you want
to learn more about similar dynamic programming problems, you can check
out the <a
href="https://bestonlinetutorial.com/dynamic_programming/dynamic-programming-maximum-subarray-sum-with-one-deletion-medium.html">Maximum
Subarray Sum with One Deletion</a>.</p>
<h2
id="handling-edge-cases-in-maximum-sum-of-subarray-with-one-modification">Handling
Edge Cases in Maximum Sum of Subarray with One Modification</h2>
<p>When we try to find the maximum sum of a subarray with one change, we
need to think about different edge cases. These cases can change the
final result. Some of these cases are empty arrays, arrays with only
negative numbers, and very short arrays.</p>
<ol type="1">
<li><strong>Empty Array</strong>:
<ul>
<li>For an empty array <code>[]</code>, we should return <code>0</code>.
There are no numbers to add.</li>
<li>Code check:</li>
</ul>
<div class="sourceCode" id="cb9"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="op">(</span>array<span class="op">.</span><span class="fu">length</span> <span class="op">==</span> <span class="dv">0</span><span class="op">)</span> <span class="cf">return</span> <span class="dv">0</span><span class="op">;</span></span></code></pre></div></li>
<li><strong>Single Element Array</strong>:
<ul>
<li>For an array like <code>[5]</code>, the maximum sum after one change
stays <code>5</code>. We can also change it to <code>0</code>, but the
maximum is still <code>5</code>.</li>
<li>Code check:</li>
</ul>
<div class="sourceCode" id="cb10"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="op">(</span>array<span class="op">.</span><span class="fu">length</span> <span class="op">==</span> <span class="dv">1</span><span class="op">)</span> <span class="cf">return</span> array<span class="op">[</span><span class="dv">0</span><span class="op">];</span></span></code></pre></div></li>
<li><strong>All Negative Numbers</strong>:
<ul>
<li>If the array has only negative numbers, like
<code>[-1, -2, -3]</code>, the maximum sum will be the least negative
number. We can change one number to <code>0</code> to get a maximum sum
of <code>0</code>.</li>
<li>Code check:</li>
</ul>
<div class="sourceCode" id="cb11"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> max <span class="op">=</span> <span class="bu">Integer</span><span class="op">.</span><span class="fu">MIN_VALUE</span><span class="op">;</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> num <span class="op">:</span> array<span class="op">)</span> <span class="op">{</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>    max <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">max</span><span class="op">(</span>max<span class="op">,</span> num<span class="op">);</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="cf">return</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">max</span><span class="op">(</span>max<span class="op">,</span> <span class="dv">0</span><span class="op">);</span></span></code></pre></div></li>
<li><strong>Array of Length Two</strong>:
<ul>
<li>For arrays like <code>[1, 2]</code>, we can get <code>2</code> by
changing <code>1</code> to <code>0</code> or <code>3</code> by keeping
it the same.</li>
<li>Code check:</li>
</ul>
<div class="sourceCode" id="cb12"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="op">(</span>array<span class="op">.</span><span class="fu">length</span> <span class="op">==</span> <span class="dv">2</span><span class="op">)</span> <span class="cf">return</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">max</span><span class="op">(</span>array<span class="op">[</span><span class="dv">0</span><span class="op">]</span> <span class="op">+</span> array<span class="op">[</span><span class="dv">1</span><span class="op">],</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">max</span><span class="op">(</span>array<span class="op">[</span><span class="dv">0</span><span class="op">],</span> array<span class="op">[</span><span class="dv">1</span><span class="op">]));</span></span></code></pre></div></li>
<li><strong>Edge Case with Modifications</strong>:
<ul>
<li>If we change an element to <code>0</code>, we must make sure this
does not make our maximum sum wrong. We can recalculate the maximum
after each change.</li>
<li>Code check:</li>
</ul>
<div class="sourceCode" id="cb13"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span><span class="op">[]</span> modifiedArray <span class="op">=</span> <span class="bu">Arrays</span><span class="op">.</span><span class="fu">copyOf</span><span class="op">(</span>array<span class="op">,</span> array<span class="op">.</span><span class="fu">length</span><span class="op">);</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>modifiedArray<span class="op">[</span>i<span class="op">]</span> <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> <span class="co">// changing the i-th element</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="co">// Calculate the maximum sum with this change</span></span></code></pre></div></li>
<li><strong>Large Input Sizes</strong>:
<ul>
<li>For very big arrays, we must make sure our method is fast (O(n)
complexity). This helps us avoid timing out or using too much
memory.</li>
<li>We can use techniques like Kadane’s algorithm while also taking the
change into account.</li>
</ul></li>
</ol>
<p>By thinking about these edge cases, we can make sure our solution for
the maximum sum of subarray with one change works well. It will handle
all possible situations.</p>
<p>If you want to learn more about dynamic programming methods, you can
read the article on <a
href="https://bestonlinetutorial.com/dynamic_programming/dynamic-programming-maximum-subarray-kadanes-algorithm-easy.html">Dynamic
Programming: Maximum Subarray (Kadane’s Algorithm)</a>.</p>
<h2
id="comparative-analysis-of-approaches-for-maximum-sum-of-subarray-with-one-modification">Comparative
Analysis of Approaches for Maximum Sum of Subarray with One
Modification</h2>
<p>We can solve the problem of finding the maximum sum of a subarray
with one change. There are different ways we can look at this for better
efficiency and performance. The main methods are:</p>
<ol type="1">
<li><p><strong>Dynamic Programming Approach</strong>:</p>
<ul>
<li>This method uses a table to track the maximum sums. We consider
changing one element.</li>
<li>We calculate the maximum sum of the subarray that ends at each
index. We do this both with and without the change.</li>
</ul>
<p><strong>Time Complexity</strong>: O(n)<br />
<strong>Space Complexity</strong>: O(n)</p>
<p><strong>Java Implementation</strong>:</p>
<div class="sourceCode" id="cb14"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="dt">int</span> <span class="fu">maximumSum</span><span class="op">(</span><span class="dt">int</span><span class="op">[]</span> arr<span class="op">)</span> <span class="op">{</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> n <span class="op">=</span> arr<span class="op">.</span><span class="fu">length</span><span class="op">;</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span><span class="op">[]</span> dp <span class="op">=</span> <span class="kw">new</span> <span class="dt">int</span><span class="op">[</span>n<span class="op">];</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span><span class="op">[]</span> dpWithModification <span class="op">=</span> <span class="kw">new</span> <span class="dt">int</span><span class="op">[</span>n<span class="op">];</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>    dp<span class="op">[</span><span class="dv">0</span><span class="op">]</span> <span class="op">=</span> arr<span class="op">[</span><span class="dv">0</span><span class="op">];</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> maxSum <span class="op">=</span> arr<span class="op">[</span><span class="dv">0</span><span class="op">];</span></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">1</span><span class="op">;</span> i <span class="op">&lt;</span> n<span class="op">;</span> i<span class="op">++)</span> <span class="op">{</span></span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>        dp<span class="op">[</span>i<span class="op">]</span> <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">max</span><span class="op">(</span>arr<span class="op">[</span>i<span class="op">],</span> dp<span class="op">[</span>i <span class="op">-</span> <span class="dv">1</span><span class="op">]</span> <span class="op">+</span> arr<span class="op">[</span>i<span class="op">]);</span></span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>        dpWithModification<span class="op">[</span>i<span class="op">]</span> <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">max</span><span class="op">(</span>dpWithModification<span class="op">[</span>i <span class="op">-</span> <span class="dv">1</span><span class="op">]</span> <span class="op">+</span> arr<span class="op">[</span>i<span class="op">],</span> dp<span class="op">[</span>i <span class="op">-</span> <span class="dv">1</span><span class="op">]);</span></span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>        maxSum <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">max</span><span class="op">(</span>maxSum<span class="op">,</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">max</span><span class="op">(</span>dp<span class="op">[</span>i<span class="op">],</span> dpWithModification<span class="op">[</span>i<span class="op">]));</span></span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> maxSum<span class="op">;</span></span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div></li>
<li><p><strong>Kadane’s Algorithm Modification</strong>:</p>
<ul>
<li>We can change the classic Kadane’s algorithm to handle one change by
making two states. One state is without change and the other is with one
change.</li>
<li>This helps us track maximum sums while allowing one change.</li>
</ul>
<p><strong>Time Complexity</strong>: O(n)<br />
<strong>Space Complexity</strong>: O(1)</p>
<p><strong>Python Implementation</strong>:</p>
<div class="sourceCode" id="cb15"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> maximumSum(arr):</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>    n <span class="op">=</span> <span class="bu">len</span>(arr)</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>    max_ending_here <span class="op">=</span> max_so_far <span class="op">=</span> arr[<span class="dv">0</span>]</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>    max_with_one_modification <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1</span>, n):</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>        max_ending_here <span class="op">=</span> <span class="bu">max</span>(arr[i], max_ending_here <span class="op">+</span> arr[i])</span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>        max_so_far <span class="op">=</span> <span class="bu">max</span>(max_so_far, max_ending_here)</span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>        max_with_one_modification <span class="op">=</span> <span class="bu">max</span>(max_with_one_modification <span class="op">+</span> arr[i], max_so_far)</span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="bu">max</span>(max_so_far, max_with_one_modification)</span></code></pre></div></li>
<li><p><strong>Space Optimization Technique</strong>:</p>
<ul>
<li>Instead of using two arrays, we can just use a few variables. This
helps us save space while keeping track of what’s needed.</li>
<li>This method still has O(n) time but reduces space to O(1).</li>
</ul>
<p><strong>C++ Implementation</strong>:</p>
<div class="sourceCode" id="cb16"><pre
class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> maximumSum<span class="op">(</span>vector<span class="op">&lt;</span><span class="dt">int</span><span class="op">&gt;&amp;</span> arr<span class="op">)</span> <span class="op">{</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> n <span class="op">=</span> arr<span class="op">.</span>size<span class="op">();</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> maxEndingHere <span class="op">=</span> arr<span class="op">[</span><span class="dv">0</span><span class="op">],</span> maxSoFar <span class="op">=</span> arr<span class="op">[</span><span class="dv">0</span><span class="op">],</span> maxWithModification <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">1</span><span class="op">;</span> i <span class="op">&lt;</span> n<span class="op">;</span> i<span class="op">++)</span> <span class="op">{</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>        maxEndingHere <span class="op">=</span> max<span class="op">(</span>arr<span class="op">[</span>i<span class="op">],</span> maxEndingHere <span class="op">+</span> arr<span class="op">[</span>i<span class="op">]);</span></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>        maxSoFar <span class="op">=</span> max<span class="op">(</span>maxSoFar<span class="op">,</span> maxEndingHere<span class="op">);</span></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>        maxWithModification <span class="op">=</span> max<span class="op">(</span>maxWithModification <span class="op">+</span> arr<span class="op">[</span>i<span class="op">],</span> maxSoFar<span class="op">);</span></span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> max<span class="op">(</span>maxSoFar<span class="op">,</span> maxWithModification<span class="op">);</span></span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div></li>
</ol>
<h3 id="comparative-summary">Comparative Summary:</h3>
<ul>
<li><strong>Dynamic Programming</strong>: This gives a clear way to
solve but can use more space if we do not optimize.</li>
<li><strong>Kadane’s Algorithm Modification</strong>: This keeps the
efficiency while changing to fit the problem.</li>
<li><strong>Space Optimization</strong>: This reduces space use greatly
while keeping the performance.</li>
</ul>
<p>We choose the best approach based on the specific needs of the
problem like input size and memory limits. If you want to learn more
about dynamic programming, you can check <a
href="https://bestonlinetutorial.com/dynamic_programming/dynamic-programming-maximum-subarray-kadanes-algorithm-easy.html">Dynamic
Programming - Maximum Subarray (Kadane’s Algorithm)</a>.</p>
<h2 id="frequently-asked-questions">Frequently Asked Questions</h2>
<h3
id="what-is-the-maximum-sum-of-subarray-with-one-modification-problem">1.
What is the Maximum Sum of Subarray with One Modification problem?</h3>
<p>The Maximum Sum of Subarray with One Modification problem is about
finding the highest sum of a continuous subarray in an array. We can
change one element in the array to any number. This problem is a twist
on the classic maximum subarray problem. It uses dynamic programming to
find a good solution.</p>
<h3
id="how-can-i-solve-the-maximum-sum-of-subarray-with-one-modification-in-java">2.
How can I solve the Maximum Sum of Subarray with One Modification in
Java?</h3>
<p>To solve this problem in Java, we can use a dynamic programming
method. We keep track of two states. One state is for the maximum sum
without any changes. The other state is for the maximum sum with one
change. By going through the array and updating these states, we can
find the best answer quickly. For full code example, check our section
on <a href="#">Dynamic Programming Approach for Maximum Sum of Subarray
with One Modification in Java</a>.</p>
<h3
id="what-is-the-time-complexity-of-the-maximum-sum-of-subarray-with-one-modification">3.
What is the time complexity of the Maximum Sum of Subarray with One
Modification?</h3>
<p>The time complexity for solving this problem with dynamic programming
is O(n). Here, n is the length of the input array. We only go through
the array once while keeping two state variables for the maximum sums.
This way, we make sure the solution is both good and fast. It works well
for big input sizes.</p>
<h3
id="can-you-explain-how-to-handle-edge-cases-in-the-maximum-sum-of-subarray-with-one-modification">4.
Can you explain how to handle edge cases in the Maximum Sum of Subarray
with One Modification?</h3>
<p>When we think about edge cases in this problem, we should look at
empty arrays or arrays with all negative numbers. In an empty array, the
maximum sum is zero. For arrays with only negative numbers, the best
change might be to turn the least negative number into a bigger positive
number. This increases the overall sum. We must remember these edge
cases in our dynamic programming solution.</p>
<h3
id="how-does-the-maximum-sum-of-subarray-with-one-modification-relate-to-other-dynamic-programming-problems">5.
How does the Maximum Sum of Subarray with One Modification relate to
other dynamic programming problems?</h3>
<p>The Maximum Sum of Subarray with One Modification is similar to other
problems in dynamic programming. These include the Maximum Subarray Sum
problem (Kadane’s Algorithm) and the Maximum Sum of Non-Adjacent
Elements. They use similar methods for looking at subarrays or
subsequences. For more information, check out the <a
href="https://bestonlinetutorial.com/dynamic_programming/dynamic-programming-maximum-subarray-kadanes-algorithm-easy.html">Dynamic
Programming - Maximum Subarray (Kadane’s Algorithm)</a> for deeper ideas
and algorithms.</p>

                        </div>

                    </div>
                    <!--//container-->
                </article>

            </div>
            <!--//main-wrapper-->

            <div id="footer-placeholder"></div>

            <!-- Javascript -->
            <script src="/assets/plugins/popper.min.js" defer></script>
            <script src="/assets/plugins/bootstrap/js/bootstrap.min.js" defer></script>
            <script src="/assets/fontawesome/js/all.min.js" defer></script>
        </body>

        </html>
            
            