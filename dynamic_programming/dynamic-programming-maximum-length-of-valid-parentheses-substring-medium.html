
    
            <!DOCTYPE html>
        <html lang="en">

        <head>
            <!-- Google tag (gtag.js) -->
            <script async src="https://www.googletagmanager.com/gtag/js?id=G-TFCQEJR7TD"></script>
            <script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
            gtag('config', 'G-TFCQEJR7TD');
            </script>
            
            <title>[Dynamic Programming] Maximum Length of Valid Parentheses Substring - Medium</title>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebSite",
      "name": "BestOnlineTutorial",
      "url": "https://www.bestonlinetutorial.com/"
    }
    </script>

<!-- Common CSS & Icons -->
<link rel="icon" href="/favicon.ico" type="image/x-icon">
<link rel="stylesheet" href="/assets/plugins/highlight/styles/monokai-sublime.css">
<link id="theme-style" rel="stylesheet" href="/assets/css/theme-8.css">
<link rel="stylesheet" href="/assets/css/post.css">
            <meta name="description" content="Discover how to solve the Maximum Length of Valid Parentheses Substring problem using dynamic programming techniques.">
            <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
	        <script src="/assets/js/blog.js"></script>
        </head>

        <body>

            <div id="header-placeholder"></div>

            <div class="main-wrapper">

                <article class="blog-post px-3 py-5 p-md-5">
                    <div class="container single-col-max-width">
                        <header class="blog-post-header">
                            <h1 class="title mb-2">[Dynamic Programming] Maximum Length of Valid Parentheses Substring - Medium</h1>
                        </header>

                        <div class="blog-post-body">
                            <p>Finding the maximum length of a valid parentheses substring is a
well-known challenge in computer science. A valid parentheses substring
means a string where every opening parenthesis has a matching closing
parenthesis in the right order. We can solve this problem using dynamic
programming or stack methods to find the length of the longest valid
substring quickly.</p>
<p>In this article, we will look at different ways to solve the Maximum
Length of Valid Parentheses Substring problem. We will explain the
dynamic programming approach in Java, Python, and C++. We will also
discuss stack methods for these languages. Plus, we will show how to use
arrays for dynamic programming in Java and Python. At the end, we will
answer common questions about this problem and its solutions.</p>
<ul>
<li>[Dynamic Programming] Maximum Length of Valid Parentheses Substring
Solution Overview</li>
<li>Dynamic Programming Approach in Java for Maximum Length of Valid
Parentheses</li>
<li>Dynamic Programming Approach in Python for Maximum Length of Valid
Parentheses</li>
<li>Dynamic Programming Approach in C++ for Maximum Length of Valid
Parentheses</li>
<li>Stack Based Approach for Maximum Length of Valid Parentheses in
Java</li>
<li>Stack Based Approach for Maximum Length of Valid Parentheses in
Python</li>
<li>Stack Based Approach for Maximum Length of Valid Parentheses in
C++</li>
<li>Using Array for Dynamic Programming in Java</li>
<li>Using Array for Dynamic Programming in Python</li>
<li>Frequently Asked Questions</li>
</ul>
<p>If we want to learn more about dynamic programming, we can check
related topics like the <a
href="https://bestonlinetutorial.com/dynamic_programming/dynamic-programming-fibonacci-number-easy.html">Dynamic
Programming Fibonacci Number</a> or the <a
href="https://bestonlinetutorial.com/dynamic_programming/dynamic-programming-climbing-stairs-easy.html">Dynamic
Programming Climbing Stairs problem</a>.</p>
<h2
id="dynamic-programming-approach-in-java-for-maximum-length-of-valid-parentheses">Dynamic
Programming Approach in Java for Maximum Length of Valid
Parentheses</h2>
<p>We can solve the problem of finding the maximum length of valid
parentheses using dynamic programming in Java. We will create a DP
array. This array will help us keep track of the lengths of valid
parentheses substrings. The main idea is to go through the string. We
will update the DP array based on the closing parentheses we find.</p>
<p>Here is a simple implementation of the dynamic programming approach
in Java:</p>
<div class="sourceCode" id="cb1"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="kw">class</span> MaxValidParentheses <span class="op">{</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">int</span> <span class="fu">longestValidParentheses</span><span class="op">(</span><span class="bu">String</span> s<span class="op">)</span> <span class="op">{</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>        <span class="dt">int</span> n <span class="op">=</span> s<span class="op">.</span><span class="fu">length</span><span class="op">();</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>        <span class="dt">int</span><span class="op">[]</span> dp <span class="op">=</span> <span class="kw">new</span> <span class="dt">int</span><span class="op">[</span>n<span class="op">];</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>        <span class="dt">int</span> maxLen <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">1</span><span class="op">;</span> i <span class="op">&lt;</span> n<span class="op">;</span> i<span class="op">++)</span> <span class="op">{</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> <span class="op">(</span>s<span class="op">.</span><span class="fu">charAt</span><span class="op">(</span>i<span class="op">)</span> <span class="op">==</span> <span class="ch">&#39;)&#39;</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>                <span class="cf">if</span> <span class="op">(</span>s<span class="op">.</span><span class="fu">charAt</span><span class="op">(</span>i <span class="op">-</span> <span class="dv">1</span><span class="op">)</span> <span class="op">==</span> <span class="ch">&#39;(&#39;</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>                    dp<span class="op">[</span>i<span class="op">]</span> <span class="op">=</span> <span class="op">(</span>i <span class="op">&gt;=</span> <span class="dv">2</span> <span class="op">?</span> dp<span class="op">[</span>i <span class="op">-</span> <span class="dv">2</span><span class="op">]</span> <span class="op">:</span> <span class="dv">0</span><span class="op">)</span> <span class="op">+</span> <span class="dv">2</span><span class="op">;</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>                <span class="op">}</span> <span class="cf">else</span> <span class="cf">if</span> <span class="op">(</span>i <span class="op">-</span> dp<span class="op">[</span>i <span class="op">-</span> <span class="dv">1</span><span class="op">]</span> <span class="op">&gt;</span> <span class="dv">0</span> <span class="op">&amp;&amp;</span> s<span class="op">.</span><span class="fu">charAt</span><span class="op">(</span>i <span class="op">-</span> dp<span class="op">[</span>i <span class="op">-</span> <span class="dv">1</span><span class="op">]</span> <span class="op">-</span> <span class="dv">1</span><span class="op">)</span> <span class="op">==</span> <span class="ch">&#39;(&#39;</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>                    dp<span class="op">[</span>i<span class="op">]</span> <span class="op">=</span> dp<span class="op">[</span>i <span class="op">-</span> <span class="dv">1</span><span class="op">]</span> <span class="op">+</span> <span class="op">(</span>i <span class="op">&gt;=</span> <span class="dv">2</span> <span class="op">+</span> dp<span class="op">[</span>i <span class="op">-</span> <span class="dv">1</span><span class="op">]</span> <span class="op">?</span> dp<span class="op">[</span>i <span class="op">-</span> <span class="dv">2</span> <span class="op">-</span> dp<span class="op">[</span>i <span class="op">-</span> <span class="dv">1</span><span class="op">]]</span> <span class="op">:</span> <span class="dv">0</span><span class="op">)</span> <span class="op">+</span> <span class="dv">2</span><span class="op">;</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>                <span class="op">}</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>                maxLen <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">max</span><span class="op">(</span>maxLen<span class="op">,</span> dp<span class="op">[</span>i<span class="op">]);</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> maxLen<span class="op">;</span></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">static</span> <span class="dt">void</span> <span class="fu">main</span><span class="op">(</span><span class="bu">String</span><span class="op">[]</span> args<span class="op">)</span> <span class="op">{</span></span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>        MaxValidParentheses mvp <span class="op">=</span> <span class="kw">new</span> <span class="fu">MaxValidParentheses</span><span class="op">();</span></span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>        <span class="bu">String</span> s <span class="op">=</span> <span class="st">&quot;(()())&quot;</span><span class="op">;</span></span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a>        <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span><span class="st">&quot;Maximum length of valid parentheses: &quot;</span> <span class="op">+</span> mvp<span class="op">.</span><span class="fu">longestValidParentheses</span><span class="op">(</span>s<span class="op">));</span></span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h3 id="explanation-of-the-code">Explanation of the Code:</h3>
<ul>
<li>We create a <code>dp</code> array. The <code>dp[i]</code> stores the
length of the longest valid parentheses ending at index
<code>i</code>.</li>
<li>We start going through the string from index 1.</li>
<li>When we find a closing parenthesis <code>)</code>, we check the
character before it:
<ul>
<li>If it is <code>(</code>, we have a valid pair. So we update
<code>dp[i]</code>.</li>
<li>If it is <code>)</code>, we check if the character before the last
valid substring is <code>(</code>. Then we update the value
accordingly.</li>
</ul></li>
<li>At the end, we keep track of the maximum length we found.</li>
</ul>
<p>This Java code shows how we can use dynamic programming to find the
maximum length of valid parentheses substring. For more reading on
dynamic programming, we can check these articles: <a
href="https://bestonlinetutorial.com/dynamic_programming/dynamic-programming-fibonacci-number-easy.html">Dynamic
Programming: Fibonacci Number</a> or <a
href="https://bestonlinetutorial.com/dynamic_programming/dynamic-programming-longest-valid-parentheses-medium.html">Dynamic
Programming: Longest Valid Parentheses</a>.</p>
<h2
id="dynamic-programming-approach-in-python-for-maximum-length-of-valid-parentheses">Dynamic
Programming Approach in Python for Maximum Length of Valid
Parentheses</h2>
<p>We want to find the maximum length of valid parentheses substring
using dynamic programming in Python. We will use a DP array. Each entry
in this array shows the length of the longest valid substring that ends
at that index.</p>
<h3 id="algorithm">Algorithm</h3>
<ol type="1">
<li>First, we make a DP array. This array will have the same length as
the input string and will start with zeros.</li>
<li>Next, we loop through the string. We start from the second
character.</li>
<li>For each character:
<ul>
<li>If it is a closing parenthesis <code>')'</code>, we check the
character before it:
<ul>
<li>If the character before is an opening parenthesis <code>'('</code>,
we set <code>dp[i] = dp[i-2] + 2</code>.</li>
<li>If the character before is also a closing parenthesis
<code>')'</code>, we need to find a matching opening parenthesis:
<ul>
<li>If <code>s[i - dp[i-1] - 1]</code> is <code>'('</code>, we set
<code>dp[i] = dp[i-1] + dp[i - dp[i-1] - 2] + 2</code>.</li>
</ul></li>
</ul></li>
</ul></li>
<li>In the end, we take the maximum value from the DP array.</li>
</ol>
<h3 id="python-code">Python Code</h3>
<div class="sourceCode" id="cb2"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> longestValidParentheses(s: <span class="bu">str</span>) <span class="op">-&gt;</span> <span class="bu">int</span>:</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>    n <span class="op">=</span> <span class="bu">len</span>(s)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>    dp <span class="op">=</span> [<span class="dv">0</span>] <span class="op">*</span> n</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>    max_length <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1</span>, n):</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> s[i] <span class="op">==</span> <span class="st">&#39;)&#39;</span>:</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> s[i <span class="op">-</span> <span class="dv">1</span>] <span class="op">==</span> <span class="st">&#39;(&#39;</span>:</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>                dp[i] <span class="op">=</span> (dp[i <span class="op">-</span> <span class="dv">2</span>] <span class="cf">if</span> i <span class="op">&gt;=</span> <span class="dv">2</span> <span class="cf">else</span> <span class="dv">0</span>) <span class="op">+</span> <span class="dv">2</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>            <span class="cf">elif</span> i <span class="op">-</span> dp[i <span class="op">-</span> <span class="dv">1</span>] <span class="op">-</span> <span class="dv">1</span> <span class="op">&gt;=</span> <span class="dv">0</span> <span class="kw">and</span> s[i <span class="op">-</span> dp[i <span class="op">-</span> <span class="dv">1</span>] <span class="op">-</span> <span class="dv">1</span>] <span class="op">==</span> <span class="st">&#39;(&#39;</span>:</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>                dp[i] <span class="op">=</span> dp[i <span class="op">-</span> <span class="dv">1</span>] <span class="op">+</span> (dp[i <span class="op">-</span> dp[i <span class="op">-</span> <span class="dv">1</span>] <span class="op">-</span> <span class="dv">2</span>] <span class="cf">if</span> i <span class="op">-</span> dp[i <span class="op">-</span> <span class="dv">1</span>] <span class="op">&gt;=</span> <span class="dv">2</span> <span class="cf">else</span> <span class="dv">0</span>) <span class="op">+</span> <span class="dv">2</span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>            max_length <span class="op">=</span> <span class="bu">max</span>(max_length, dp[i])</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> max_length</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Example usage</span></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>s <span class="op">=</span> <span class="st">&quot;(()))())(&quot;</span></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(longestValidParentheses(s))  <span class="co"># Output: 4</span></span></code></pre></div>
<h3 id="explanation">Explanation</h3>
<p>We start by making a DP array. This array helps us keep track of the
longest valid parentheses lengths. We go through the string. We update
the DP values by looking at the current character and the characters
before it. In the end, we return the maximum value from the DP array.
This value shows the length of the longest valid parentheses
substring.</p>
<p>This dynamic programming method works well. It finds the maximum
length of valid parentheses substring in O(n) time and uses O(n) space.
For more information on dynamic programming, you can check this <a
href="https://bestonlinetutorial.com/dynamic_programming/dynamic-programming-longest-valid-parentheses-medium.html">Dynamic
Programming - Maximum Length of Valid Parentheses</a>.</p>
<h2
id="dynamic-programming-approach-in-c-for-maximum-length-of-valid-parentheses">Dynamic
Programming Approach in C++ for Maximum Length of Valid Parentheses</h2>
<p>We will look at how to find the maximum length of a valid parentheses
substring using Dynamic Programming in C++. We can use a DP array to
track the lengths of valid parentheses. We will go through the string
and check when we can form a valid substring.</p>
<h3 id="c-code-implementation">C++ Code Implementation</h3>
<div class="sourceCode" id="cb3"><pre
class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;iostream&gt;</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;string&gt;</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;vector&gt;</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> <span class="kw">namespace</span> std<span class="op">;</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> longestValidParentheses<span class="op">(</span>string s<span class="op">)</span> <span class="op">{</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> n <span class="op">=</span> s<span class="op">.</span>size<span class="op">();</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>    vector<span class="op">&lt;</span><span class="dt">int</span><span class="op">&gt;</span> dp<span class="op">(</span>n<span class="op">,</span> <span class="dv">0</span><span class="op">);</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> maxLength <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">1</span><span class="op">;</span> i <span class="op">&lt;</span> n<span class="op">;</span> i<span class="op">++)</span> <span class="op">{</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="op">(</span>s<span class="op">[</span>i<span class="op">]</span> <span class="op">==</span> <span class="ch">&#39;)&#39;</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> <span class="op">(</span>s<span class="op">[</span>i <span class="op">-</span> <span class="dv">1</span><span class="op">]</span> <span class="op">==</span> <span class="ch">&#39;(&#39;</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>                dp<span class="op">[</span>i<span class="op">]</span> <span class="op">=</span> <span class="op">(</span>i <span class="op">&gt;=</span> <span class="dv">2</span> <span class="op">?</span> dp<span class="op">[</span>i <span class="op">-</span> <span class="dv">2</span><span class="op">]</span> <span class="op">:</span> <span class="dv">0</span><span class="op">)</span> <span class="op">+</span> <span class="dv">2</span><span class="op">;</span> <span class="co">// Case for &quot;()&quot; </span></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span> <span class="cf">else</span> <span class="cf">if</span> <span class="op">(</span>i <span class="op">-</span> dp<span class="op">[</span>i <span class="op">-</span> <span class="dv">1</span><span class="op">]</span> <span class="op">&gt;</span> <span class="dv">0</span> <span class="op">&amp;&amp;</span> s<span class="op">[</span>i <span class="op">-</span> dp<span class="op">[</span>i <span class="op">-</span> <span class="dv">1</span><span class="op">]</span> <span class="op">-</span> <span class="dv">1</span><span class="op">]</span> <span class="op">==</span> <span class="ch">&#39;(&#39;</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>                dp<span class="op">[</span>i<span class="op">]</span> <span class="op">=</span> dp<span class="op">[</span>i <span class="op">-</span> <span class="dv">1</span><span class="op">]</span> <span class="op">+</span> <span class="op">(</span>i <span class="op">-</span> dp<span class="op">[</span>i <span class="op">-</span> <span class="dv">1</span><span class="op">]</span> <span class="op">&gt;=</span> <span class="dv">2</span> <span class="op">?</span> dp<span class="op">[</span>i <span class="op">-</span> dp<span class="op">[</span>i <span class="op">-</span> <span class="dv">1</span><span class="op">]</span> <span class="op">-</span> <span class="dv">2</span><span class="op">]</span> <span class="op">:</span> <span class="dv">0</span><span class="op">)</span> <span class="op">+</span> <span class="dv">2</span><span class="op">;</span> <span class="co">// Case for &quot;()...&quot;</span></span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>            maxLength <span class="op">=</span> max<span class="op">(</span>maxLength<span class="op">,</span> dp<span class="op">[</span>i<span class="op">]);</span></span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> maxLength<span class="op">;</span></span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> main<span class="op">()</span> <span class="op">{</span></span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a>    string s <span class="op">=</span> <span class="st">&quot;(()())&quot;</span><span class="op">;</span></span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a>    cout <span class="op">&lt;&lt;</span> <span class="st">&quot;Maximum Length of Valid Parentheses: &quot;</span> <span class="op">&lt;&lt;</span> longestValidParentheses<span class="op">(</span>s<span class="op">)</span> <span class="op">&lt;&lt;</span> endl<span class="op">;</span></span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h3 id="explanation-of-the-code-1">Explanation of the Code</h3>
<p>We make a DP array <code>dp</code> with the same size as the input
string <code>s</code>.</p>
<p>We go through each character starting from the second one. For each
closing parenthesis <code>)</code>, we check: - If the last character is
an opening parenthesis <code>(</code>, then we have a valid pair. - If
the last character is a <code>)</code>, we check if there is a matching
<code>(</code> for the longest valid substring we found.</p>
<p>We will update the <code>maxLength</code> when we find a longer valid
substring.</p>
<h3 id="complexity">Complexity</h3>
<ul>
<li><strong>Time Complexity</strong>: O(n), where n is the length of the
string.</li>
<li><strong>Space Complexity</strong>: O(n) for the DP array.</li>
</ul>
<p>This way, we can find the maximum length of a valid parentheses
substring quickly. For more info on dynamic programming methods, we can
check <a
href="https://bestonlinetutorial.com/dynamic_programming/dynamic-programming-longest-valid-parentheses-medium.html">Dynamic
Programming - Maximum Length of Valid Parentheses</a>.</p>
<h2
id="stack-based-approach-for-maximum-length-of-valid-parentheses-in-java">Stack
Based Approach for Maximum Length of Valid Parentheses in Java</h2>
<p>To find the maximum length of valid parentheses substring using a
stack-based approach in Java, we can use a stack. This stack helps us
keep track of the indices of the opening parentheses. We will go through
each character in the string. When we find matching closing parentheses,
we can calculate the lengths of valid parentheses.</p>
<p>Here is how the stack-based approach works in Java:</p>
<ol type="1">
<li><p><strong>Initialization</strong>: First, we create a stack to hold
the indices of the opening parentheses. We also need a variable to keep
track of the last index of a valid substring.</p></li>
<li><p><strong>Iterate through the string</strong>: For each character
in the string:</p>
<ul>
<li>If it is an opening parenthesis <code>(</code>, we push its index
onto the stack.</li>
<li>If it is a closing parenthesis <code>)</code>, we check if the stack
is not empty:
<ul>
<li>If the stack is not empty, we pop the top of the stack and calculate
the length of the valid substring.</li>
<li>If the stack is empty, we update the last index of a valid substring
to the current index.</li>
</ul></li>
</ul></li>
<li><p><strong>Calculate the maximum length</strong>: While we go
through the string, we keep track of the maximum length of valid
parentheses.</p></li>
</ol>
<p>Here is the implementation in Java:</p>
<div class="sourceCode" id="cb4"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="kw">import</span> <span class="im">java</span><span class="op">.</span><span class="im">util</span><span class="op">.</span><span class="im">Stack</span><span class="op">;</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="kw">class</span> MaxLengthValidParentheses <span class="op">{</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">int</span> <span class="fu">longestValidParentheses</span><span class="op">(</span><span class="bu">String</span> s<span class="op">)</span> <span class="op">{</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>        <span class="bu">Stack</span><span class="op">&lt;</span><span class="bu">Integer</span><span class="op">&gt;</span> stack <span class="op">=</span> <span class="kw">new</span> <span class="bu">Stack</span><span class="op">&lt;&gt;();</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>        <span class="dt">int</span> maxLength <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>        <span class="dt">int</span> lastInvalidIndex <span class="op">=</span> <span class="op">-</span><span class="dv">1</span><span class="op">;</span> <span class="co">// To track the last invalid index</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&lt;</span> s<span class="op">.</span><span class="fu">length</span><span class="op">();</span> i<span class="op">++)</span> <span class="op">{</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> <span class="op">(</span>s<span class="op">.</span><span class="fu">charAt</span><span class="op">(</span>i<span class="op">)</span> <span class="op">==</span> <span class="ch">&#39;(&#39;</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>                stack<span class="op">.</span><span class="fu">push</span><span class="op">(</span>i<span class="op">);</span> <span class="co">// Push the index of &#39;(&#39;</span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span> <span class="cf">else</span> <span class="op">{</span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>                <span class="cf">if</span> <span class="op">(</span>stack<span class="op">.</span><span class="fu">isEmpty</span><span class="op">())</span> <span class="op">{</span></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>                    lastInvalidIndex <span class="op">=</span> i<span class="op">;</span> <span class="co">// Update last invalid index</span></span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>                <span class="op">}</span> <span class="cf">else</span> <span class="op">{</span></span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>                    stack<span class="op">.</span><span class="fu">pop</span><span class="op">();</span> <span class="co">// Found a match for &#39;)&#39;</span></span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a>                    <span class="cf">if</span> <span class="op">(</span>stack<span class="op">.</span><span class="fu">isEmpty</span><span class="op">())</span> <span class="op">{</span></span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a>                        maxLength <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">max</span><span class="op">(</span>maxLength<span class="op">,</span> i <span class="op">-</span> lastInvalidIndex<span class="op">);</span> <span class="co">// Calculate length</span></span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a>                    <span class="op">}</span> <span class="cf">else</span> <span class="op">{</span></span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a>                        maxLength <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">max</span><span class="op">(</span>maxLength<span class="op">,</span> i <span class="op">-</span> stack<span class="op">.</span><span class="fu">peek</span><span class="op">());</span> <span class="co">// Calculate length from the last unmatched &#39;(&#39;</span></span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a>                    <span class="op">}</span></span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a>                <span class="op">}</span></span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> maxLength<span class="op">;</span></span>
<span id="cb4-27"><a href="#cb4-27" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb4-28"><a href="#cb4-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-29"><a href="#cb4-29" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">static</span> <span class="dt">void</span> <span class="fu">main</span><span class="op">(</span><span class="bu">String</span><span class="op">[]</span> args<span class="op">)</span> <span class="op">{</span></span>
<span id="cb4-30"><a href="#cb4-30" aria-hidden="true" tabindex="-1"></a>        MaxLengthValidParentheses solution <span class="op">=</span> <span class="kw">new</span> <span class="fu">MaxLengthValidParentheses</span><span class="op">();</span></span>
<span id="cb4-31"><a href="#cb4-31" aria-hidden="true" tabindex="-1"></a>        <span class="bu">String</span> s <span class="op">=</span> <span class="st">&quot;(()())&quot;</span><span class="op">;</span></span>
<span id="cb4-32"><a href="#cb4-32" aria-hidden="true" tabindex="-1"></a>        <span class="dt">int</span> result <span class="op">=</span> solution<span class="op">.</span><span class="fu">longestValidParentheses</span><span class="op">(</span>s<span class="op">);</span></span>
<span id="cb4-33"><a href="#cb4-33" aria-hidden="true" tabindex="-1"></a>        <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span><span class="st">&quot;Maximum Length of Valid Parentheses: &quot;</span> <span class="op">+</span> result<span class="op">);</span></span>
<span id="cb4-34"><a href="#cb4-34" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb4-35"><a href="#cb4-35" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p><strong>Key Points</strong>: - The stack helps us track the indices
of opening parentheses easily. - The algorithm runs in O(n) time
complexity. Here n is the length of the input string. - This approach
calculates the maximum length of valid parentheses by updating the
maximum length as we process the string.</p>
<p>For more information on dynamic programming and related problems, we
can check the article <a
href="https://bestonlinetutorial.com/dynamic_programming/dynamic-programming-longest-valid-parentheses-medium.html">Dynamic
Programming - Longest Valid Parentheses</a>.</p>
<h2
id="stack-based-approach-for-maximum-length-of-valid-parentheses-in-python">Stack
Based Approach for Maximum Length of Valid Parentheses in Python</h2>
<p>We can solve the problem of finding the maximum length of valid
parentheses substring using a stack in Python. Here is a simple way to
do it:</p>
<ol type="1">
<li><p><strong>Start a Stack</strong>: We use a stack to keep track of
the indices of the parentheses. We start with a base index of -1. This
helps us calculate the valid substring.</p></li>
<li><p><strong>Go Through the String</strong>: For every character in
the string:</p>
<ul>
<li>If we see an opening parenthesis <code>(</code>, we push its index
onto the stack.</li>
<li>If we see a closing parenthesis <code>)</code>, we check if the
stack is not empty:
<ul>
<li>If the stack is not empty, we pop the top index from the stack. Then
we calculate the length of the valid substring. We do this by
subtracting the current index from the index at the new top of the
stack. We update the maximum length if this new length is greater than
the previous maximum.</li>
<li>If the stack is empty, we push the current index onto the stack.
This helps us set a new base for future valid substrings.</li>
</ul></li>
</ul></li>
<li><p><strong>Give Back the Maximum Length</strong>: After we go
through the string, we return the maximum length we found.</p></li>
</ol>
<p>Here is the Python code that shows this logic:</p>
<div class="sourceCode" id="cb5"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> maxLengthValidParentheses(s: <span class="bu">str</span>) <span class="op">-&gt;</span> <span class="bu">int</span>:</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>    stack <span class="op">=</span> [<span class="op">-</span><span class="dv">1</span>]  <span class="co"># Start stack with base index</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>    max_length <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i, char <span class="kw">in</span> <span class="bu">enumerate</span>(s):</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> char <span class="op">==</span> <span class="st">&#39;(&#39;</span>:</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>            stack.append(i)  <span class="co"># Push the index of &#39;(&#39;</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>        <span class="cf">else</span>:  <span class="co"># char == &#39;)&#39;</span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> stack:</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>                stack.pop()  <span class="co"># Pop the last index</span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>                <span class="cf">if</span> stack:</span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>                    <span class="co"># Calculate the length of valid substring</span></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>                    max_length <span class="op">=</span> <span class="bu">max</span>(max_length, i <span class="op">-</span> stack[<span class="op">-</span><span class="dv">1</span>])</span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>                <span class="cf">else</span>:</span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>                    <span class="co"># If stack is empty, push current index as base</span></span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>                    stack.append(i)</span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> max_length</span></code></pre></div>
<h3 id="example-usage">Example Usage</h3>
<div class="sourceCode" id="cb6"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>s <span class="op">=</span> <span class="st">&quot;(()())&quot;</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(maxLengthValidParentheses(s))  <span class="co"># Output: 6</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>s <span class="op">=</span> <span class="st">&quot;)()())&quot;</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(maxLengthValidParentheses(s))  <span class="co"># Output: 4</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>s <span class="op">=</span> <span class="st">&quot;()(())&quot;</span></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(maxLengthValidParentheses(s))  <span class="co"># Output: 6</span></span></code></pre></div>
<p>This way runs in O(n) time and uses O(n) space because of the stack.
It is efficient for finding the maximum length of valid parentheses
substring. If you want to read more about dynamic programming, you can
check this article on <a
href="https://bestonlinetutorial.com/dynamic_programming/dynamic-programming-longest-valid-parentheses-medium.html">Dynamic
Programming - Longest Valid Parentheses</a>.</p>
<h2
id="stack-based-approach-for-maximum-length-of-valid-parentheses-in-c">Stack
Based Approach for Maximum Length of Valid Parentheses in C++</h2>
<p>The Stack Based Approach is a simple way to find the maximum length
of valid parentheses substring. This method uses a stack to track the
indices of open parentheses and to find the lengths of valid
substrings.</p>
<h3 id="algorithm-steps">Algorithm Steps:</h3>
<ol type="1">
<li>We start with an empty stack and push -1 onto it. This helps us
handle the base case for valid substrings that start from index 0.</li>
<li>We look at each character in the string:
<ul>
<li>If we see an opening parenthesis <code>'('</code>, we push its index
onto the stack.</li>
<li>If we see a closing parenthesis <code>')'</code>:
<ul>
<li>We pop the top element from the stack.</li>
<li>If the stack is empty after popping, we push the current index onto
the stack.</li>
<li>If the stack is not empty, we find the length of the valid substring
using the current index and the index at the top of the stack.</li>
</ul></li>
</ul></li>
<li>We keep track of the maximum length we find during the
iterations.</li>
</ol>
<h3 id="c-implementation">C++ Implementation:</h3>
<div class="sourceCode" id="cb7"><pre
class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;iostream&gt;</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;stack&gt;</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;string&gt;</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> <span class="kw">namespace</span> std<span class="op">;</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> maxLengthValidParentheses<span class="op">(</span>string s<span class="op">)</span> <span class="op">{</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>    stack<span class="op">&lt;</span><span class="dt">int</span><span class="op">&gt;</span> stk<span class="op">;</span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>    stk<span class="op">.</span>push<span class="op">(-</span><span class="dv">1</span><span class="op">);</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>    <span class="dt">int</span> maxLength <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&lt;</span> s<span class="op">.</span>length<span class="op">();</span> i<span class="op">++)</span> <span class="op">{</span></span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="op">(</span>s<span class="op">[</span>i<span class="op">]</span> <span class="op">==</span> <span class="ch">&#39;(&#39;</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>            stk<span class="op">.</span>push<span class="op">(</span>i<span class="op">);</span></span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span> <span class="cf">else</span> <span class="op">{</span></span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a>            stk<span class="op">.</span>pop<span class="op">();</span></span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> <span class="op">(</span>stk<span class="op">.</span>empty<span class="op">())</span> <span class="op">{</span></span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a>                stk<span class="op">.</span>push<span class="op">(</span>i<span class="op">);</span></span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span> <span class="cf">else</span> <span class="op">{</span></span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a>                maxLength <span class="op">=</span> max<span class="op">(</span>maxLength<span class="op">,</span> i <span class="op">-</span> stk<span class="op">.</span>top<span class="op">());</span></span>
<span id="cb7-21"><a href="#cb7-21" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb7-22"><a href="#cb7-22" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb7-23"><a href="#cb7-23" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb7-24"><a href="#cb7-24" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> maxLength<span class="op">;</span></span>
<span id="cb7-25"><a href="#cb7-25" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb7-26"><a href="#cb7-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-27"><a href="#cb7-27" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> main<span class="op">()</span> <span class="op">{</span></span>
<span id="cb7-28"><a href="#cb7-28" aria-hidden="true" tabindex="-1"></a>    string s <span class="op">=</span> <span class="st">&quot;(()))())(&quot;</span><span class="op">;</span></span>
<span id="cb7-29"><a href="#cb7-29" aria-hidden="true" tabindex="-1"></a>    cout <span class="op">&lt;&lt;</span> <span class="st">&quot;Maximum Length of Valid Parentheses: &quot;</span> <span class="op">&lt;&lt;</span> maxLengthValidParentheses<span class="op">(</span>s<span class="op">)</span> <span class="op">&lt;&lt;</span> endl<span class="op">;</span></span>
<span id="cb7-30"><a href="#cb7-30" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb7-31"><a href="#cb7-31" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h3 id="explanation-of-the-code-2">Explanation of the Code:</h3>
<ul>
<li>The function <code>maxLengthValidParentheses</code> takes a string
<code>s</code> as input.</li>
<li>It starts with a stack and pushes <code>-1</code> to handle the base
case.</li>
<li>As we go through the string, we update the stack and find the
maximum length of valid parentheses based on the indices in the
stack.</li>
<li>The result is shown in the main function.</li>
</ul>
<p>This stack-based approach finds the maximum length of valid
parentheses quickly. It has a time complexity of O(n). So, it works well
for large inputs.</p>
<h2 id="using-array-for-dynamic-programming-in-java">Using Array for
Dynamic Programming in Java</h2>
<p>To find the maximum length of valid parentheses substring using
dynamic programming in Java, we can use an array. This array will store
the lengths of valid parentheses substrings that end at each index. Here
is how we can do it:</p>
<ol type="1">
<li><strong>Initialization</strong>: We need to create a DP array. This
array should be the same length as the input string and we will set all
values to 0.</li>
<li><strong>Iterate Through the String</strong>: We will look at each
character in the string. We need to check if it is a closing
parenthesis.</li>
<li><strong>Check for Matching Opening Parenthesis</strong>: If we find
a closing parenthesis and the character before it is an opening
parenthesis, we will update the DP value.</li>
<li><strong>Update DP Array</strong>: We will use the values from the DP
array to find valid substring lengths.</li>
</ol>
<p>Here is the code to implement it:</p>
<div class="sourceCode" id="cb8"><pre
class="sourceCode java"><code class="sourceCode java"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="kw">public</span> <span class="kw">class</span> MaximumLengthValidParentheses <span class="op">{</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">static</span> <span class="dt">int</span> <span class="fu">longestValidParentheses</span><span class="op">(</span><span class="bu">String</span> s<span class="op">)</span> <span class="op">{</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>        <span class="dt">int</span> maxLength <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>        <span class="dt">int</span><span class="op">[]</span> dp <span class="op">=</span> <span class="kw">new</span> <span class="dt">int</span><span class="op">[</span>s<span class="op">.</span><span class="fu">length</span><span class="op">()];</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> <span class="op">(</span><span class="dt">int</span> i <span class="op">=</span> <span class="dv">1</span><span class="op">;</span> i <span class="op">&lt;</span> s<span class="op">.</span><span class="fu">length</span><span class="op">();</span> i<span class="op">++)</span> <span class="op">{</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> <span class="op">(</span>s<span class="op">.</span><span class="fu">charAt</span><span class="op">(</span>i<span class="op">)</span> <span class="op">==</span> <span class="ch">&#39;)&#39;</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>                <span class="cf">if</span> <span class="op">(</span>s<span class="op">.</span><span class="fu">charAt</span><span class="op">(</span>i <span class="op">-</span> <span class="dv">1</span><span class="op">)</span> <span class="op">==</span> <span class="ch">&#39;(&#39;</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>                    dp<span class="op">[</span>i<span class="op">]</span> <span class="op">=</span> <span class="op">(</span>i <span class="op">&gt;=</span> <span class="dv">2</span> <span class="op">?</span> dp<span class="op">[</span>i <span class="op">-</span> <span class="dv">2</span><span class="op">]</span> <span class="op">:</span> <span class="dv">0</span><span class="op">)</span> <span class="op">+</span> <span class="dv">2</span><span class="op">;</span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>                <span class="op">}</span> <span class="cf">else</span> <span class="cf">if</span> <span class="op">(</span>i <span class="op">-</span> dp<span class="op">[</span>i <span class="op">-</span> <span class="dv">1</span><span class="op">]</span> <span class="op">&gt;</span> <span class="dv">0</span> <span class="op">&amp;&amp;</span> s<span class="op">.</span><span class="fu">charAt</span><span class="op">(</span>i <span class="op">-</span> dp<span class="op">[</span>i <span class="op">-</span> <span class="dv">1</span><span class="op">]</span> <span class="op">-</span> <span class="dv">1</span><span class="op">)</span> <span class="op">==</span> <span class="ch">&#39;(&#39;</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>                    dp<span class="op">[</span>i<span class="op">]</span> <span class="op">=</span> dp<span class="op">[</span>i <span class="op">-</span> <span class="dv">1</span><span class="op">]</span> <span class="op">+</span> <span class="op">(</span>i <span class="op">&gt;=</span> <span class="dv">2</span> <span class="op">+</span> dp<span class="op">[</span>i <span class="op">-</span> <span class="dv">1</span><span class="op">]</span> <span class="op">?</span> dp<span class="op">[</span>i <span class="op">-</span> <span class="dv">2</span> <span class="op">-</span> dp<span class="op">[</span>i <span class="op">-</span> <span class="dv">1</span><span class="op">]]</span> <span class="op">:</span> <span class="dv">0</span><span class="op">)</span> <span class="op">+</span> <span class="dv">2</span><span class="op">;</span></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>                <span class="op">}</span></span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>                maxLength <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">max</span><span class="op">(</span>maxLength<span class="op">,</span> dp<span class="op">[</span>i<span class="op">]);</span></span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a>        <span class="op">}</span></span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> maxLength<span class="op">;</span></span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a>    <span class="kw">public</span> <span class="dt">static</span> <span class="dt">void</span> <span class="fu">main</span><span class="op">(</span><span class="bu">String</span><span class="op">[]</span> args<span class="op">)</span> <span class="op">{</span></span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a>        <span class="bu">String</span> s <span class="op">=</span> <span class="st">&quot;(()())&quot;</span><span class="op">;</span></span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a>        <span class="bu">System</span><span class="op">.</span><span class="fu">out</span><span class="op">.</span><span class="fu">println</span><span class="op">(</span><span class="st">&quot;Maximum Length of Valid Parentheses: &quot;</span> <span class="op">+</span> <span class="fu">longestValidParentheses</span><span class="op">(</span>s<span class="op">));</span></span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb8-23"><a href="#cb8-23" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<h3 id="explanation-of-code">Explanation of Code:</h3>
<ul>
<li><strong>Dynamic Programming Array (<code>dp</code>)</strong>: Each
entry <code>dp[i]</code> shows the length of the longest valid
parentheses substring ending at index <code>i</code>.</li>
<li><strong>Updating Logic</strong>:
<ul>
<li>If the current character is <code>)</code> and the previous
character is <code>(</code>, we have a valid pair. So, we update
<code>dp[i]</code> to <code>dp[i-2] + 2</code>.</li>
<li>If the current character is <code>)</code> and it forms a valid
substring with a previous valid substring, we update <code>dp[i]</code>
in another way.</li>
</ul></li>
<li><strong>Result Calculation</strong>: We keep updating the maximum
length during the loop. At the end, we return this maximum length.</li>
</ul>
<p>This method runs in O(n) time and uses O(n) space. It is efficient
for this problem. If we want to learn more about dynamic programming
techniques, we can check out the <a
href="https://bestonlinetutorial.com/dynamic_programming/dynamic-programming-fibonacci-number-easy.html">Dynamic
Programming on Fibonacci Numbers</a>.</p>
<h2 id="using-array-for-dynamic-programming-in-python">Using Array for
Dynamic Programming in Python</h2>
<p>To solve the problem of finding the longest valid parentheses
substring using dynamic programming in Python, we use an array. This
array helps us keep track of the lengths of valid substrings. We will go
through the string and update the array based on whether the parentheses
are valid.</p>
<h3 id="algorithm-steps-1">Algorithm Steps:</h3>
<ol type="1">
<li><strong>Initialization</strong>: We create an array <code>dp</code>
that is the same size as the string <code>s</code> and set all its
values to zero.</li>
<li><strong>Iterate through the string</strong>: We check each character
in the string starting from the second character:
<ul>
<li>If the character is <code>')'</code> and the one before it is
<code>'('</code>, we set <code>dp[i] = dp[i-2] + 2</code> (if
<code>i &gt;= 2</code>) or <code>dp[i] = 2</code>.</li>
<li>If the character is <code>')'</code> and the one before it is also
<code>')'</code>, we check if the character before the valid substring
is <code>'('</code>. If it is, we set
<code>dp[i] = dp[i-1] + dp[i-dp[i-1]-2] + 2</code>.</li>
</ul></li>
<li><strong>Track the maximum length</strong>: We keep a variable
<code>max_length</code> to store the highest value we find in the
<code>dp</code> array.</li>
</ol>
<h3 id="python-code-implementation">Python Code Implementation:</h3>
<div class="sourceCode" id="cb9"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> longestValidParentheses(s: <span class="bu">str</span>) <span class="op">-&gt;</span> <span class="bu">int</span>:</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>    n <span class="op">=</span> <span class="bu">len</span>(s)</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>    dp <span class="op">=</span> [<span class="dv">0</span>] <span class="op">*</span> n</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>    max_length <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1</span>, n):</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> s[i] <span class="op">==</span> <span class="st">&#39;)&#39;</span>:</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> s[i <span class="op">-</span> <span class="dv">1</span>] <span class="op">==</span> <span class="st">&#39;(&#39;</span>:</span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>                dp[i] <span class="op">=</span> (dp[i <span class="op">-</span> <span class="dv">2</span>] <span class="cf">if</span> i <span class="op">&gt;=</span> <span class="dv">2</span> <span class="cf">else</span> <span class="dv">0</span>) <span class="op">+</span> <span class="dv">2</span></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>            <span class="cf">elif</span> i <span class="op">-</span> dp[i <span class="op">-</span> <span class="dv">1</span>] <span class="op">&gt;</span> <span class="dv">0</span> <span class="kw">and</span> s[i <span class="op">-</span> dp[i <span class="op">-</span> <span class="dv">1</span>] <span class="op">-</span> <span class="dv">1</span>] <span class="op">==</span> <span class="st">&#39;(&#39;</span>:</span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>                dp[i] <span class="op">=</span> dp[i <span class="op">-</span> <span class="dv">1</span>] <span class="op">+</span> (dp[i <span class="op">-</span> dp[i <span class="op">-</span> <span class="dv">1</span>] <span class="op">-</span> <span class="dv">2</span>] <span class="cf">if</span> i <span class="op">-</span> dp[i <span class="op">-</span> <span class="dv">1</span>] <span class="op">&gt;=</span> <span class="dv">2</span> <span class="cf">else</span> <span class="dv">0</span>) <span class="op">+</span> <span class="dv">2</span></span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>            </span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>            max_length <span class="op">=</span> <span class="bu">max</span>(max_length, dp[i])</span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> max_length</span></code></pre></div>
<h3 id="example-usage-1">Example Usage:</h3>
<div class="sourceCode" id="cb10"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>s <span class="op">=</span> <span class="st">&quot;(()))())(&quot;</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(longestValidParentheses(s))  <span class="co"># Output: 4</span></span></code></pre></div>
<p>In this example, the longest valid parentheses substring is
<code>"(())"</code> and its length is 4.</p>
<p>This method runs in O(n) time and uses O(n) space. It is good for
this problem. If we want to learn more about dynamic programming, we can
check out <a
href="https://bestonlinetutorial.com/dynamic_programming/dynamic-programming-unique-paths-in-a-grid-easy.html">Dynamic
Programming - Unique Paths in a Grid</a>.</p>
<h2 id="frequently-asked-questions">Frequently Asked Questions</h2>
<h3
id="what-is-the-dynamic-programming-approach-to-finding-the-maximum-length-of-valid-parentheses">1.
What is the dynamic programming approach to finding the maximum length
of valid parentheses?</h3>
<p>We use dynamic programming to solve problems by breaking them into
easier parts. For the maximum length of valid parentheses, we create a
DP array. Each spot in this array shows the maximum length of valid
parentheses that ends at that position. We go through the string and use
simple rules based on the character. This way, we fill the array and
find the maximum valid length quickly.</p>
<h3 id="how-does-the-stack-based-approach-work-for-valid-parentheses">2.
How does the stack-based approach work for valid parentheses?</h3>
<p>We can use a stack to find the maximum length of valid parentheses.
The stack keeps track of the positions of opening parentheses. When we
see a closing parenthesis, we check if there is a matching opening one
in the stack. If we find it, we calculate the length of the valid
substring. Then, we update the maximum length. This method helps us
handle nested and consecutive valid parentheses easily.</p>
<h3
id="can-you-explain-the-time-and-space-complexity-of-the-maximum-length-of-valid-parentheses-problem">3.
Can you explain the time and space complexity of the maximum length of
valid parentheses problem?</h3>
<p>The time complexity for both the dynamic programming and stack-based
methods is O(n). Here, n is the length of the input string. We need to
go through the string one time. The space complexity for the stack
method is O(n) because we store indices. The dynamic programming method
also needs O(n) space for the DP array.</p>
<h3
id="what-are-some-common-variations-of-the-valid-parentheses-problem">4.
What are some common variations of the valid parentheses problem?</h3>
<p>Some common variations of the valid parentheses problem are finding
the longest valid parentheses substring, counting all valid parentheses
combinations, and checking if a string of parentheses is valid. We can
use similar dynamic programming or stack methods for these variations.
They are good practice for improving our problem-solving skills in
competitive programming.</p>
<h3
id="where-can-i-find-more-examples-of-dynamic-programming-problems-like-valid-parentheses">5.
Where can I find more examples of dynamic programming problems like
valid parentheses?</h3>
<p>For more examples of dynamic programming problems, we can check out
articles like <a
href="https://bestonlinetutorial.com/dynamic_programming/dynamic-programming-fibonacci-number-easy.html">Dynamic
Programming: Fibonacci Number</a> and <a
href="https://bestonlinetutorial.com/dynamic_programming/dynamic-programming-climbing-stairs-easy.html">Dynamic
Programming: Climbing Stairs</a>. These resources give clear
explanations and code examples to help us learn dynamic programming
techniques.</p>

                        </div>

                    </div>
                    <!--//container-->
                </article>

            </div>
            <!--//main-wrapper-->

            <div id="footer-placeholder"></div>

            <!-- Javascript -->
            <script src="/assets/plugins/popper.min.js" defer></script>
            <script src="/assets/plugins/bootstrap/js/bootstrap.min.js" defer></script>
            <script src="/assets/fontawesome/js/all.min.js" defer></script>
        </body>

        </html>
            
            