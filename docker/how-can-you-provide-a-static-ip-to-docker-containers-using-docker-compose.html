
    
            <!DOCTYPE html>
        <html lang="en">

        <head>
            <!-- Google tag (gtag.js) -->
            <script async src="https://www.googletagmanager.com/gtag/js?id=G-TFCQEJR7TD"></script>
            <script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
            gtag('config', 'G-TFCQEJR7TD');
            </script>
            <meta charset="utf-8">
            <meta http-equiv="X-UA-Compatible" content="IE=edge">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            
            <meta property="og:title" content="How Can You Provide a Static IP to Docker Containers Using Docker-Compose?" />
            <meta property="og:description" content="Learn how to assign a static IP to Docker containers using Docker-Compose for better network management and connectivity." />
            <meta property="og:url" content="https://www.bestonlinetutorial.com/docker/how-can-you-provide-a-static-ip-to-docker-containers-using-docker-compose.html" />
            <link rel="canonical" href="https://www.bestonlinetutorial.com/docker/how-can-you-provide-a-static-ip-to-docker-containers-using-docker-compose.html">
            <meta property="og:type" content="article" />
            <meta property="og:site_name" content=“BestOnlineTutorial” />
            <meta name="twitter:title" content="How Can You Provide a Static IP to Docker Containers Using Docker-Compose?" />
            <meta name="twitter:description" content="Learn how to assign a static IP to Docker containers using Docker-Compose for better network management and connectivity." />
            <meta name="pinterest-rich-pin" content="true" />

            <script type="application/ld+json">
                {
                "@context": "https://schema.org",
                "@type": "WebSite",
                "name": "BestOnlineTutorial",
                "url": "https://www.bestonlinetutorial.com/"
                }
            </script>
            <!-- Common CSS & Icons -->
            <link rel="icon" href="/favicon.ico" type="image/x-icon">
            <link rel="stylesheet" href="/assets/plugins/highlight/styles/monokai-sublime.css">
            <link id="theme-style" rel="stylesheet" href="/assets/css/theme-8.css">
            <link rel="stylesheet" href="/assets/css/post.css">
            <title>How Can You Provide a Static IP to Docker Containers Using Docker-Compose?</title>
            <meta name="description" content="Learn how to assign a static IP to Docker containers using Docker-Compose for better network management and connectivity.">
            <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
	        <script src="/assets/js/blog.js"></script>
        </head>

        <body>

            <div id="header-placeholder"></div>

            <div class="main-wrapper">

                <article class="blog-post px-3 py-5 p-md-5">
                    <div class="container single-col-max-width">
                        <header class="blog-post-header">
                            <h1 class="title mb-2">How Can You Provide a Static IP to Docker Containers Using Docker-Compose?</h1>
                        </header>

                        <div class="blog-post-body">
                            <p>Providing a static IP to Docker containers using Docker-Compose is
very important. It helps keep network access the same. This is
especially useful for complex applications. By making a custom network
and giving static IP addresses, we can make sure our services talk to
each other easily. We do not have to worry about the changes that come
with dynamic IP addresses.</p>
<p>In this article, we will look at why static IPs are important for
Docker containers. We will show you how to make a custom network in
Docker-Compose. Then, we will explain how to give static IP addresses
the right way. Also, we will talk about the drawbacks of using static
IPs. Finally, we will give steps to check the static IP assignment in
your Docker containers.</p>
<ul>
<li>Importance of static IPs in Docker containers</li>
<li>Defining a custom network in Docker-Compose for static IPs</li>
<li>Assigning static IP addresses to Docker containers in
Docker-Compose</li>
<li>Limitations of using static IPs in Docker-Compose</li>
<li>Verifying static IP assignment in Docker containers</li>
</ul>
<h2 id="what-is-the-importance-of-static-ips-in-docker-containers">What
is the Importance of Static IPs in Docker Containers</h2>
<p>We find static IPs in Docker containers very important for many
reasons. They help with networking and service discovery. Here are the
main benefits of using static IPs for Docker containers:</p>
<ol type="1">
<li><p><strong>Predictability</strong>: Static IPs make sure that a
container keeps the same IP address when it restarts. This is very
important for services that need a constant address. Examples are
databases or services that other containers access.</p></li>
<li><p><strong>Service Discovery</strong>: When containers are part of a
bigger system, like microservices, having a static IP helps other
services connect reliably. They do not have to deal with changing IP
addresses.</p></li>
<li><p><strong>Firewall and Security Rules</strong>: Static IPs let
administrators set up firewall rules or access lists based on certain IP
addresses. This improves security by controlling the traffic going to
and from containers.</p></li>
<li><p><strong>Legacy Systems Compatibility</strong>: Some older systems
need static IPs for integration. By using static addresses, we can
reduce problems with older systems.</p></li>
<li><p><strong>Simplified Configuration</strong>: For applications that
need configuration files pointing to certain IPs, static IPs make the
setup easier. We need less dynamic resolution.</p></li>
<li><p><strong>Network Isolation</strong>: In places where many
applications run on the same host, static IPs help keep networks
separate. This stops services from accidentally communicating with each
other.</p></li>
<li><p><strong>Load Balancing and Clustering</strong>: Static IPs can
help with load balancing and clustering. Services need to know the
addresses of their peers.</p></li>
</ol>
<p>To use static IPs in Docker, we usually create a custom network in a
<code>docker-compose.yml</code> file. This makes sure that containers
have specific IPs in that network. Here is an example:</p>
<div class="sourceCode" id="cb1"><pre
class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">version</span><span class="kw">:</span><span class="at"> </span><span class="st">&#39;3.7&#39;</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">services</span><span class="kw">:</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">app</span><span class="kw">:</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">image</span><span class="kw">:</span><span class="at"> myapp:latest</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">networks</span><span class="kw">:</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">my_custom_network</span><span class="kw">:</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="fu">ipv4_address</span><span class="kw">:</span><span class="at"> </span><span class="fl">192.168.1.10</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="fu">networks</span><span class="kw">:</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">my_custom_network</span><span class="kw">:</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">driver</span><span class="kw">:</span><span class="at"> bridge</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">ipam</span><span class="kw">:</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">config</span><span class="kw">:</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="kw">-</span><span class="at"> </span><span class="fu">subnet</span><span class="kw">:</span><span class="at"> 192.168.1.0/24</span></span></code></pre></div>
<p>This setup gives the static IP <code>192.168.1.10</code> to the
<code>app</code> service in the custom network called
<code>my_custom_network</code>. By using static IPs, we can make our
Docker applications more reliable and stable in any environment.</p>
<h2
id="how-to-define-a-custom-network-in-docker-compose-for-static-ips">How
to Define a Custom Network in Docker-Compose for Static IPs</h2>
<p>To give static IP addresses to Docker containers using Docker
Compose, we need to create a custom network in our
<code>docker-compose.yml</code> file. This lets containers talk to each
other on the same network. It also helps us assign specific IP
addresses.</p>
<p>Here is the way to define a custom network for static IPs in Docker
Compose:</p>
<div class="sourceCode" id="cb2"><pre
class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">version</span><span class="kw">:</span><span class="at"> </span><span class="st">&#39;3.7&#39;</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="fu">services</span><span class="kw">:</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">app</span><span class="kw">:</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">image</span><span class="kw">:</span><span class="at"> your-app-image</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">networks</span><span class="kw">:</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">your_custom_network</span><span class="kw">:</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="fu">ipv4_address</span><span class="kw">:</span><span class="at"> </span><span class="fl">192.168.1.10</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">db</span><span class="kw">:</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">image</span><span class="kw">:</span><span class="at"> your-db-image</span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">networks</span><span class="kw">:</span></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">your_custom_network</span><span class="kw">:</span></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="fu">ipv4_address</span><span class="kw">:</span><span class="at"> </span><span class="fl">192.168.1.20</span></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a><span class="fu">networks</span><span class="kw">:</span></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">your_custom_network</span><span class="kw">:</span></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">driver</span><span class="kw">:</span><span class="at"> bridge</span></span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">ipam</span><span class="kw">:</span></span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">config</span><span class="kw">:</span></span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="kw">-</span><span class="at"> </span><span class="fu">subnet</span><span class="kw">:</span><span class="at"> 192.168.1.0/24</span></span></code></pre></div>
<p>In this example:</p>
<ul>
<li><strong><code>version</code></strong> tells which version of the
Docker Compose file we are using.</li>
<li>Under <strong><code>services</code></strong>, we define each
service, like <code>app</code> and <code>db</code>, with the Docker
image we want to use.</li>
<li>Each service states which network it connects to and its static IP
address with the <code>ipv4_address</code> property.</li>
<li>The <strong><code>networks</code></strong> section creates a custom
network named <code>your_custom_network</code> with a specific subnet
using the <code>ipam</code> configuration.</li>
</ul>
<p>By defining a custom network like this, we can manage static IP
addresses for our Docker containers easily. This makes communication
between them consistent and helps us keep network settings simple.</p>
<h2
id="how-to-assign-static-ip-addresses-to-docker-containers-in-docker-compose">How
to Assign Static IP Addresses to Docker Containers in
Docker-Compose</h2>
<p>We can assign static IP addresses to Docker containers using Docker
Compose. First, we need to create a custom network in the
<code>docker-compose.yml</code> file. This helps us choose the subnet
for the static IP addresses.</p>
<p>Here is a simple guide:</p>
<ol type="1">
<li><strong>Define a Custom Network</strong>: In your
<code>docker-compose.yml</code>, create a network with a chosen
subnet.</li>
</ol>
<div class="sourceCode" id="cb3"><pre
class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">version</span><span class="kw">:</span><span class="at"> </span><span class="st">&#39;3.7&#39;</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="fu">services</span><span class="kw">:</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">app</span><span class="kw">:</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">image</span><span class="kw">:</span><span class="at"> your-image-name</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">networks</span><span class="kw">:</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">my_custom_network</span><span class="kw">:</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="fu">ipv4_address</span><span class="kw">:</span><span class="at"> </span><span class="fl">192.168.1.10</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a><span class="fu">networks</span><span class="kw">:</span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">my_custom_network</span><span class="kw">:</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">driver</span><span class="kw">:</span><span class="at"> bridge</span></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">ipam</span><span class="kw">:</span></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">config</span><span class="kw">:</span></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="kw">-</span><span class="at"> </span><span class="fu">subnet</span><span class="kw">:</span><span class="at"> 192.168.1.0/24</span></span></code></pre></div>
<ol start="2" type="1">
<li><strong>Assign Static IPs to Containers</strong>: For each service,
we write down the network and the static IP we want.</li>
</ol>
<div class="sourceCode" id="cb4"><pre
class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">services</span><span class="kw">:</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">db</span><span class="kw">:</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">image</span><span class="kw">:</span><span class="at"> postgres</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">networks</span><span class="kw">:</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">my_custom_network</span><span class="kw">:</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="fu">ipv4_address</span><span class="kw">:</span><span class="at"> </span><span class="fl">192.168.1.20</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">web</span><span class="kw">:</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">image</span><span class="kw">:</span><span class="at"> nginx</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">networks</span><span class="kw">:</span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">my_custom_network</span><span class="kw">:</span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="fu">ipv4_address</span><span class="kw">:</span><span class="at"> </span><span class="fl">192.168.1.30</span></span></code></pre></div>
<ol start="3" type="1">
<li><strong>Deploy the Stack</strong>: Now we run the Docker Compose
command to create and start the containers with the static IPs we
set.</li>
</ol>
<div class="sourceCode" id="cb5"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker-compose</span> up <span class="at">-d</span></span></code></pre></div>
<ol start="4" type="1">
<li><strong>Verify the Static IP Assignment</strong>: To check if the
containers have the right static IP addresses, we can run this
command:</li>
</ol>
<div class="sourceCode" id="cb6"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> network inspect my_custom_network</span></code></pre></div>
<p>This command shows the network details. We can see the static IPs for
each container there.</p>
<p>By following these steps, we can easily assign static IP addresses to
Docker containers in Docker Compose. This makes sure our applications
have consistent network settings. For more info about Docker networking,
we can check out <a
href="https://bestonlinetutorial.com/docker/what-are-docker-networks-and-why-are-they-necessary.html">What
are Docker Networks and Why are They Necessary?</a>.</p>
<h2
id="what-are-the-limitations-of-using-static-ips-in-docker-compose">What
are the Limitations of Using Static IPs in Docker-Compose</h2>
<p>Using static IPs in Docker-Compose can help us in some cases. But it
also has some limits we should know about.</p>
<ol type="1">
<li><strong>Network Isolation</strong>:
<ul>
<li>We need to create a custom network for static IPs. This can make the
setup tricky. It is especially true for apps with many containers that
need to talk to each other across different networks.</li>
</ul></li>
<li><strong>Port Conflicts</strong>:
<ul>
<li>If we set multiple containers with the same static IP, it can cause
port conflicts. This leads to service failures. We need to manage IP
assignments carefully.</li>
</ul></li>
<li><strong>Scalability Issues</strong>:
<ul>
<li>Static IPs can make it hard to scale apps. If we want a service to
grow, we must give each new instance a unique IP address by hand. This
can be a lot of work.</li>
</ul></li>
<li><strong>Dynamic Environment Challenges</strong>:
<ul>
<li>In places where we often create and destroy containers, keeping
static IPs can be hard to manage. This is true in systems like CI/CD
pipelines.</li>
</ul></li>
<li><strong>Lack of Flexibility</strong>:
<ul>
<li>If we need to change a container’s static IP (like when the network
changes), we must update the Docker-Compose file. We may also need to
restart containers. This can cause downtime.</li>
</ul></li>
<li><strong>Limited Integration with Docker Swarm</strong>:
<ul>
<li>Docker Swarm does not support static IPs easily. It focuses on
dynamic scaling and high availability. This can make managing services
in a Swarm setup more complicated.</li>
</ul></li>
<li><strong>Increased Complexity</strong>:
<ul>
<li>Having static IPs makes our Docker-Compose files more complex. This
can make them harder to read and keep updated. It can lead to mistakes
in configuration and make troubleshooting harder.</li>
</ul></li>
</ol>
<p>Here is an example of how to define a static IP in
Docker-Compose:</p>
<div class="sourceCode" id="cb7"><pre
class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">version</span><span class="kw">:</span><span class="at"> </span><span class="st">&#39;3.7&#39;</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="fu">services</span><span class="kw">:</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">app</span><span class="kw">:</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">image</span><span class="kw">:</span><span class="at"> your-image</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">networks</span><span class="kw">:</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">custom_network</span><span class="kw">:</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="fu">ipv4_address</span><span class="kw">:</span><span class="at"> </span><span class="fl">192.168.1.10</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a><span class="fu">networks</span><span class="kw">:</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">custom_network</span><span class="kw">:</span></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">driver</span><span class="kw">:</span><span class="at"> bridge</span></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">ipam</span><span class="kw">:</span></span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">config</span><span class="kw">:</span></span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="kw">-</span><span class="at"> </span><span class="fu">subnet</span><span class="kw">:</span><span class="at"> 192.168.1.0/24</span></span></code></pre></div>
<p>In this example, the service <code>app</code> gets a static IP of
<code>192.168.1.10</code> in a custom network. We must make sure this IP
does not clash with others in the same subnet. For more help on Docker
networking, see <a
href="https://bestonlinetutorial.com/docker/what-are-docker-networks-and-why-are-they-necessary.html">What
are Docker Networks and Why are They Necessary?</a>.</p>
<h2 id="how-to-verify-static-ip-assignment-in-docker-containers">How to
Verify Static IP Assignment in Docker Containers</h2>
<p>To check static IP assignment in Docker containers, we can use a few
methods. Here are the simple steps to find out the static IP address for
your Docker containers.</p>
<ol type="1">
<li><p><strong>Using Docker Inspect Command</strong>: We can inspect a
specific container to see its IP address.</p>
<div class="sourceCode" id="cb8"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> inspect <span class="at">-f</span> <span class="st">&#39;{{range .NetworkSettings.Networks}}{{.IPAddress}}{{end}}&#39;</span> <span class="op">&lt;</span>container_name_or_id<span class="op">&gt;</span></span></code></pre></div>
<p>Change <code>&lt;container_name_or_id&gt;</code> to the real name or
ID of your container.</p></li>
<li><p><strong>Using Docker Compose Command</strong>: If we use Docker
Compose, we can run this command to see details of all services and
their assigned IPs.</p>
<div class="sourceCode" id="cb9"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker-compose</span> ps</span></code></pre></div>
<p>This command shows the service names and their current state. To get
more details about each service, including IP addresses, we run:</p>
<div class="sourceCode" id="cb10"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker-compose</span> exec <span class="op">&lt;</span>service_name<span class="op">&gt;</span> ip addr</span></code></pre></div>
<p>Change <code>&lt;service_name&gt;</code> to the name of your service
from <code>docker-compose.yml</code>.</p></li>
<li><p><strong>Check Network Configuration</strong>: If we have a custom
network in our <code>docker-compose.yml</code>, we can check the network
details.</p>
<div class="sourceCode" id="cb11"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> network inspect <span class="op">&lt;</span>network_name<span class="op">&gt;</span></span></code></pre></div>
<p>This command shows all containers connected to that network and their
IP addresses.</p></li>
<li><p><strong>Logging into Container</strong>: We can also log into the
container and check the network interfaces directly.</p>
<div class="sourceCode" id="cb12"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> exec <span class="at">-it</span> <span class="op">&lt;</span>container_name_or_id<span class="op">&gt;</span> /bin/bash</span></code></pre></div>
<p>Inside the container, we can run:</p>
<div class="sourceCode" id="cb13"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="ex">ip</span> addr</span></code></pre></div>
<p>This will list all network interfaces and their IP
addresses.</p></li>
<li><p><strong>Container Logs</strong>: Sometimes the application in the
container writes its IP address in the logs. We can check the logs
with:</p>
<div class="sourceCode" id="cb14"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> logs <span class="op">&lt;</span>container_name_or_id<span class="op">&gt;</span></span></code></pre></div></li>
</ol>
<p>By using these methods, we can verify that static IPs are assigned
correctly to our Docker containers. For more information about Docker
networking, you can check the article on <a
href="https://bestonlinetutorial.com/docker/what-are-docker-networks-and-why-are-they-necessary.html">Docker
Networks</a>.</p>
<h2 id="frequently-asked-questions">Frequently Asked Questions</h2>
<h3
id="how-do-we-assign-a-static-ip-address-to-a-docker-container-using-docker-compose">1.
How do we assign a static IP address to a Docker container using
Docker-Compose?</h3>
<p>To assign a static IP address to a Docker container with
Docker-Compose, we first need to make a custom network in our
<code>docker-compose.yml</code> file. We can set the static IP under the
service definition. For example:</p>
<div class="sourceCode" id="cb15"><pre
class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">version</span><span class="kw">:</span><span class="at"> </span><span class="st">&#39;3.7&#39;</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="fu">services</span><span class="kw">:</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">my_service</span><span class="kw">:</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">image</span><span class="kw">:</span><span class="at"> my_image</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">networks</span><span class="kw">:</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">my_network</span><span class="kw">:</span></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="fu">ipv4_address</span><span class="kw">:</span><span class="at"> </span><span class="fl">192.168.1.10</span></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a><span class="fu">networks</span><span class="kw">:</span></span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">my_network</span><span class="kw">:</span></span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">driver</span><span class="kw">:</span><span class="at"> bridge</span></span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">ipam</span><span class="kw">:</span></span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">config</span><span class="kw">:</span></span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="kw">-</span><span class="at"> </span><span class="fu">subnet</span><span class="kw">:</span><span class="at"> 192.168.1.0/24</span></span></code></pre></div>
<p>This setup makes sure our container gets the static IP we
specified.</p>
<h3
id="what-are-the-benefits-of-using-static-ip-addresses-for-docker-containers">2.
What are the benefits of using static IP addresses for Docker
containers?</h3>
<p>Using static IP addresses for Docker containers helps with network
predictability. It makes communication between services easier. We can
set up firewall rules, service discovery, and link containers in
multi-container apps more simply. Static IPs are important when services
need specific IPs for connection, like databases or old systems. For
more on Docker’s networking features, check out <a
href="https://bestonlinetutorial.com/docker/what-are-docker-networks-and-why-are-they-necessary.html">what
are Docker networks and why are they necessary</a>.</p>
<h3
id="what-limitations-should-we-be-aware-of-when-using-static-ips-in-docker-compose">3.
What limitations should we be aware of when using static IPs in
Docker-Compose?</h3>
<p>When we use static IPs in Docker-Compose, we may face some limits. IP
conflicts can happen if we do not manage them well in the subnet. Also,
if we remove or restart a container, its static IP may not release
right. This can cause connection problems. Moreover, static IPs can make
scaling and load balancing harder in changing environments. We should
plan our network settings carefully.</p>
<h3
id="how-can-we-verify-that-a-docker-container-has-been-assigned-a-static-ip-address">4.
How can we verify that a Docker container has been assigned a static IP
address?</h3>
<p>To check if a Docker container has a static IP, we can run this
command:</p>
<div class="sourceCode" id="cb16"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> inspect <span class="op">&lt;</span>container_name<span class="op">&gt;</span> <span class="kw">|</span> <span class="fu">grep</span> <span class="st">&quot;IPAddress&quot;</span></span></code></pre></div>
<p>This command shows the assigned IP address of the container we
specified. We can confirm if the static IP was set correctly. For more
details, we can look at <a
href="https://bestonlinetutorial.com/docker/how-to-list-and-inspect-docker-images.html">how
to list and inspect Docker images</a>.</p>
<h3
id="can-we-use-static-ip-addresses-in-docker-swarm-or-kubernetes-environments">5.
Can we use static IP addresses in Docker Swarm or Kubernetes
environments?</h3>
<p>In Docker Swarm, we can set static IP addresses, but it is better to
use service discovery features that Swarm provides for better scaling.
Kubernetes has its networking solutions too, usually using service names
instead of static IPs. We can use static IPs in both, but they might not
fit well with the changing nature of container orchestration. To learn
more, see <a
href="https://bestonlinetutorial.com/docker/what-is-docker-swarm-and-how-does-it-enable-container-orchestration.html">how
does Docker Swarm enable container orchestration</a>.</p>

                        </div>

                    </div>
                    <!--//container-->
                </article>

            </div>
            <!--//main-wrapper-->

            <div id="footer-placeholder"></div>

            <!-- Javascript -->
            <script src="/assets/plugins/popper.min.js" defer></script>
            <script src="/assets/plugins/bootstrap/js/bootstrap.min.js" defer></script>
            <script src="/assets/fontawesome/js/all.min.js" defer></script>
        </body>

        </html>
            
            