
    
            <!DOCTYPE html>
        <html lang="en">

        <head>
            <title>How to Mount Host Directories to Docker Containers?</title>
            <meta name="description" content="Learn how to mount host directories to Docker containers for efficient data management and seamless development workflows.">

            <div id="head-placeholder"></div>
            <script src="/assets/js/blog.js" defer></script>
            <link rel="stylesheet" href="/assets/css/post.css">
        </head>

        <body>

            <div id="header-placeholder"></div>

            <div class="main-wrapper">

                <article class="blog-post px-3 py-5 p-md-5">
                    <div class="container single-col-max-width">
                        <header class="blog-post-header">
                            <h1 class="title mb-2">How to Mount Host Directories to Docker Containers?</h1>
                        </header>

                        <div class="blog-post-body">
                            <p>Mounting host directories to Docker containers is a great feature. It
helps developers share files and data between the host system and the
containers. This feature makes data stay the same and allows easy access
to configuration files or application data. We don’t need to rebuild the
image every time we make changes.</p>
<p>In this article, we will talk about how to mount host directories to
Docker containers. We will cover important topics like the syntax for
mounting, using Docker volumes, understanding bind mounts, checking
mounts, and common problems that can happen during this process. Here is
a list of the headers we will look at:</p>
<ul>
<li>How to Properly Mount Host Directories to Docker Containers?</li>
<li>What is the Syntax for Mounting Host Directories in Docker?</li>
<li>How to Use Docker Volumes for Mounting Directories?</li>
<li>What are Bind Mounts and How to Use Them?</li>
<li>How to Verify if Host Directories are Mounted Correctly?</li>
<li>What are Common Issues When Mounting Directories to Docker
Containers?</li>
<li>Frequently Asked Questions</li>
</ul>
<p>For more information on Docker and what it can do, we can check out
articles like <a
href="https://bestonlinetutorial.com/docker/what-is-docker-and-why-should-you-use-it.html">What
is Docker and Why Should You Use It?</a> and <a
href="https://bestonlinetutorial.com/docker/what-are-docker-volumes-and-how-do-they-work.html">What
are Docker Volumes and How Do They Work?</a>.</p>
<h2 id="what-is-the-syntax-for-mounting-host-directories-in-docker">What
is the Syntax for Mounting Host Directories in Docker?</h2>
<p>We can mount host directories to Docker containers by using the
<code>-v</code> or <code>--mount</code> flag in our
<code>docker run</code> command. Here, we show the syntax for both
methods.</p>
<h3 id="using--v-volume-flag">Using <code>-v</code> (Volume) Flag</h3>
<p>The syntax for using the <code>-v</code> flag looks like this:</p>
<div class="sourceCode" id="cb1"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> run <span class="at">-v</span> /path/on/host:/path/in/container image_name</span></code></pre></div>
<ul>
<li><code>/path/on/host</code> is the folder on the host machine.</li>
<li><code>/path/in/container</code> is the folder inside the
container.</li>
<li><code>image_name</code> is the name of the Docker image we are
running.</li>
</ul>
<p>Example:</p>
<div class="sourceCode" id="cb2"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> run <span class="at">-v</span> /home/user/data:/data my_image</span></code></pre></div>
<h3 id="using---mount-flag">Using <code>--mount</code> Flag</h3>
<p>The syntax for using the <code>--mount</code> flag is a bit clearer.
We can use it like this:</p>
<div class="sourceCode" id="cb3"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> run <span class="at">--mount</span> type=bind,source=/path/on/host,target=/path/in/container image_name</span></code></pre></div>
<ul>
<li><code>type=bind</code> tells that we are mounting a host
folder.</li>
<li><code>source</code> is the host folder.</li>
<li><code>target</code> is the folder inside the container.</li>
</ul>
<p>Example:</p>
<div class="sourceCode" id="cb4"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> run <span class="at">--mount</span> type=bind,source=/home/user/data,target=/data my_image</span></code></pre></div>
<p>Both methods let us mount directories from the host to the Docker
container. This helps with sharing data and keeping it safe. For more
details about Docker volumes, we can check <a
href="https://bestonlinetutorial.com/docker/what-are-docker-volumes-and-how-do-they-work.html">this
article</a>.</p>
<h2 id="how-to-use-docker-volumes-for-mounting-directories">How to Use
Docker Volumes for Mounting Directories?</h2>
<p>We like to use Docker volumes for keeping and managing data in Docker
containers. They stay outside of the container filesystem. This makes
them more flexible and easier for us to manage. Let’s see how to use
Docker volumes for mounting directories.</p>
<h3 id="creating-a-docker-volume">Creating a Docker Volume</h3>
<p>We can create a Docker volume by using this command:</p>
<div class="sourceCode" id="cb5"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> volume create my_volume</span></code></pre></div>
<h3 id="mounting-a-volume-to-a-container">Mounting a Volume to a
Container</h3>
<p>We can mount a volume to a Docker container with the <code>-v</code>
or <code>--mount</code> flag when we run the <code>docker run</code>
command. Here is how we do it for both:</p>
<p><strong>Using <code>-v</code>:</strong></p>
<div class="sourceCode" id="cb6"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> run <span class="at">-d</span> <span class="at">-v</span> my_volume:/path/in/container my_image</span></code></pre></div>
<p><strong>Using <code>--mount</code>:</strong></p>
<div class="sourceCode" id="cb7"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> run <span class="at">-d</span> <span class="at">--mount</span> source=my_volume,target=/path/in/container my_image</span></code></pre></div>
<h3 id="managing-docker-volumes">Managing Docker Volumes</h3>
<p>If we want to see all Docker volumes, we use:</p>
<div class="sourceCode" id="cb8"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> volume ls</span></code></pre></div>
<p>To check a specific volume, we can use:</p>
<div class="sourceCode" id="cb9"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> volume inspect my_volume</span></code></pre></div>
<p>If we need to remove a volume, we can use this command:</p>
<div class="sourceCode" id="cb10"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> volume rm my_volume</span></code></pre></div>
<h3 id="advantages-of-using-docker-volumes">Advantages of Using Docker
Volumes</h3>
<ul>
<li><strong>Data Persistence</strong>: Data in volumes stays safe even
if we delete the container.</li>
<li><strong>Performance</strong>: Volumes give better I/O performance
than bind mounts.</li>
<li><strong>Isolation</strong>: Docker manages volumes, which gives
better separation from the host filesystem.</li>
<li><strong>Sharing</strong>: We can easily share volumes between many
containers.</li>
</ul>
<p>For more details on Docker volumes, we can check <a
href="https://bestonlinetutorial.com/docker/what-are-docker-volumes-and-how-do-they-work.html">what
are Docker volumes and how do they work</a>.</p>
<h2 id="what-are-bind-mounts-and-how-to-use-them">What are Bind Mounts
and How to Use Them?</h2>
<p>Bind mounts in Docker help us to link a specific file or folder from
the host system to a container. This lets containers access and change
files on the host directly. It is very helpful for development and
setting up configurations.</p>
<h3 id="how-to-create-a-bind-mount">How to Create a Bind Mount</h3>
<p>To make a bind mount, we can use the <code>-v</code> or
<code>--mount</code> option when we run a container. Here is how we can
do it:</p>
<p><strong>Using <code>-v</code> option:</strong></p>
<div class="sourceCode" id="cb11"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> run <span class="at">-v</span> /path/on/host:/path/in/container image_name</span></code></pre></div>
<p><strong>Using <code>--mount</code> option:</strong></p>
<div class="sourceCode" id="cb12"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> run <span class="at">--mount</span> type=bind,source=/path/on/host,target=/path/in/container image_name</span></code></pre></div>
<h3 id="example">Example</h3>
<ol type="1">
<li><strong>Using <code>-v</code>:</strong></li>
</ol>
<div class="sourceCode" id="cb13"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> run <span class="at">-v</span> /home/user/data:/app/data my_image</span></code></pre></div>
<p>This command links the <code>/home/user/data</code> folder from the
host to <code>/app/data</code> in the container.</p>
<ol start="2" type="1">
<li><strong>Using <code>--mount</code>:</strong></li>
</ol>
<div class="sourceCode" id="cb14"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> run <span class="at">--mount</span> type=bind,source=/home/user/data,target=/app/data my_image</span></code></pre></div>
<h3 id="important-things-to-remember">Important Things to Remember</h3>
<ul>
<li>The source path must be a full path on the host.</li>
<li>Changes we make in the container will show up on the host too and
the other way around.</li>
<li>We need to make sure that the host folder has the right permissions
so the container can access it.</li>
</ul>
<p>Bind mounts are very good for development settings where we want to
keep changes or share setup files between the host and containers. For
more details on Docker volumes, take a look at <a
href="https://bestonlinetutorial.com/docker/what-are-docker-volumes-and-how-do-they-work.html">this
article on Docker volumes</a>.</p>
<h2 id="how-to-verify-if-host-directories-are-mounted-correctly">How to
Verify if Host Directories are Mounted Correctly?</h2>
<p>To make sure that host directories are mounted right in Docker
containers, we can do a few checks. Here are some simple ways to see the
status of our mounts:</p>
<ol type="1">
<li><p><strong>Inspecting the Container</strong>:<br />
We can use the <code>docker inspect</code> command. This command gives
us detailed info about the container, including mounted volumes.</p>
<div class="sourceCode" id="cb15"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> inspect <span class="op">&lt;</span>container_name_or_id<span class="op">&gt;</span></span></code></pre></div>
<p>We should look for the <code>"Mounts"</code> section in the output.
This section will show all the mounted directories and their source
paths.</p></li>
<li><p><strong>Accessing the Container</strong>:<br />
We can also get into the container’s shell to check if the files are
there as we expect.</p>
<div class="sourceCode" id="cb16"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> exec <span class="at">-it</span> <span class="op">&lt;</span>container_name_or_id<span class="op">&gt;</span> /bin/sh</span></code></pre></div>
<p>Once we are inside the container, we can go to the mounted directory
and see its contents.</p>
<div class="sourceCode" id="cb17"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> /path/to/mounted/directory</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ls</span> <span class="at">-la</span></span></code></pre></div></li>
<li><p><strong>Using <code>docker volume ls</code></strong>:<br />
If we use Docker volumes, we can list all volumes. This will help us
make sure the right volume is being used.</p>
<div class="sourceCode" id="cb18"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> volume ls</span></code></pre></div></li>
<li><p><strong>Checking with <code>df</code> Command</strong>:<br />
Inside the container, we can run the <code>df</code> command. This
command shows us info about the file system and the mounted file
systems.</p>
<div class="sourceCode" id="cb19"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">df</span> <span class="at">-h</span></span></code></pre></div>
<p>This will show us the mounted directories and their usage.</p></li>
<li><p><strong>Testing File Creation</strong>:<br />
We can create a test file in the mounted directory from inside the
container. This will help us check the write permissions and if changes
sync quickly.</p>
<div class="sourceCode" id="cb20"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">touch</span> /path/to/mounted/directory/testfile.txt</span></code></pre></div>
<p>After that, we can check the host directory to see if
<code>testfile.txt</code> shows up.</p></li>
<li><p><strong>Logs and Error Messages</strong>:<br />
We should look at Docker logs for any errors related to mounting. We can
view logs by using:</p>
<div class="sourceCode" id="cb21"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> logs <span class="op">&lt;</span>container_name_or_id<span class="op">&gt;</span></span></code></pre></div></li>
</ol>
<p>These steps will help us make sure that host directories are mounted
correctly in our Docker containers. This way, we can fix any problems
easily. For more info on Docker volumes, we can check out <a
href="https://bestonlinetutorial.com/docker/what-are-docker-volumes-and-how-do-they-work.html">what
are Docker volumes and how do they work</a>.</p>
<h2
id="what-are-common-issues-when-mounting-directories-to-docker-containers">What
are Common Issues When Mounting Directories to Docker Containers?</h2>
<p>When we mount host directories to Docker containers, we can see some
common problems. Knowing these issues can help us fix them and make sure
the directories mount correctly.</p>
<ol type="1">
<li><strong>Permission Denied Errors</strong>:
<ul>
<li>This usually happens because the user running the Docker container
does not have enough permissions. We should check that the user can read
and write in the host directory.</li>
</ul>
<div class="sourceCode" id="cb22"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> chown <span class="at">-R</span> <span class="va">$(</span><span class="fu">whoami</span><span class="va">)</span> /path/to/host/directory</span></code></pre></div></li>
<li><strong>File System Incompatibility</strong>:
<ul>
<li>If we try to mount directories from file systems that do not work
together, like NTFS on Linux, we might have problems. We can see missing
file attributes or wrong file permissions. It is better to use a
compatible file system.</li>
</ul></li>
<li><strong>Path Errors</strong>:
<ul>
<li>If we specify the wrong paths, the mounting will fail. We should
make sure that the path to the host directory is absolute and
correct.</li>
</ul>
<div class="sourceCode" id="cb23"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> run <span class="at">-v</span> /absolute/path/to/host/directory:/container/directory image_name</span></code></pre></div></li>
<li><strong>Docker Daemon Issues</strong>:
<ul>
<li>Sometimes the Docker daemon is not running or has problems. This can
cause mounts not to work right. We can check the Docker service
status:</li>
</ul>
<div class="sourceCode" id="cb24"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="ex">systemctl</span> status docker</span></code></pre></div></li>
<li><strong>Volume Conflicts</strong>:
<ul>
<li>Conflicts happen when we mount the same host directory to many
containers. This can cause data issues. We should try to mount
directories to just one container when we can.</li>
</ul></li>
<li><strong>SELinux/AppArmor Restrictions</strong>:
<ul>
<li>Security tools like SELinux or AppArmor may block access to host
files. We need to change the policies or run Docker with the right
flags, like <code>:z</code> or <code>:Z</code> for SELinux.</li>
</ul>
<div class="sourceCode" id="cb25"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> run <span class="at">-v</span> /path/to/host/directory:/container/directory:z image_name</span></code></pre></div></li>
<li><strong>Performance Issues</strong>:
<ul>
<li>Using bind mounts can slow things down, especially on macOS or
Windows because of how file sharing works. We should think about using
Docker volumes for better speed.</li>
</ul></li>
<li><strong>Container Restart Issues</strong>:
<ul>
<li>If a container restarts and the host directory is not there, like
when it is on an external drive, the container may not start. We need to
make sure the host directory is always available.</li>
</ul></li>
<li><strong>Data Loss</strong>:
<ul>
<li>If we set up mounts the wrong way, we might lose data when we stop
or remove containers. It is better to use Docker volumes for data that
needs to last, as we can manage them separately from the container.</li>
</ul></li>
</ol>
<p>For more info on managing Docker volumes, check this link: <a
href="https://bestonlinetutorial.com/docker/what-are-docker-volumes-and-how-do-they-work.html">what
are Docker volumes and how do they work</a>.</p>
<h2 id="frequently-asked-questions">Frequently Asked Questions</h2>
<h3 id="how-do-we-mount-a-host-directory-in-docker">1. How do we mount a
host directory in Docker?</h3>
<p>To mount a host directory in Docker, we can use the <code>-v</code>
flag. We put the directory path on the host and the target path in the
container. The command looks like this:
<code>docker run -v /host/directory:/container/directory image_name</code>.
This command helps the container to access files from the host system.
It makes it easy to share data between our host and the Docker
container.</p>
<h3
id="what-is-the-difference-between-a-bind-mount-and-a-volume-in-docker">2.
What is the difference between a bind mount and a volume in Docker?</h3>
<p>A bind mount connects a specific directory on the host to a
container. A Docker volume is different. It is managed by Docker and
stored in a part of the host filesystem that we cannot access directly.
We prefer volumes for persistent data. They are easier to back up and
share among containers. If we want to learn more about how to manage
Docker volumes, we can check this <a
href="https://bestonlinetutorial.com/docker/what-are-docker-volumes-and-how-do-they-work.html">guide
on Docker volumes</a>.</p>
<h3 id="can-we-mount-files-instead-of-directories-in-docker">3. Can we
mount files instead of directories in Docker?</h3>
<p>Yes, we can mount single files from the host into a Docker container.
The command is similar to mounting directories: we use
<code>docker run -v /host/path/to/file:/container/path/to/file image_name</code>.
This lets us share configuration files or any specific file that is
needed for the container’s operation. It gives us more flexibility in
managing containers.</p>
<h3
id="how-can-we-check-if-our-host-directories-are-mounted-correctly-in-docker">4.
How can we check if our host directories are mounted correctly in
Docker?</h3>
<p>To check if host directories are mounted correctly, we can look at
the container’s mounted volumes. We use the command
<code>docker inspect container_name</code>. We should find the “Mounts”
section in the output. It will show the source path on the host and the
destination path in the container. We can also check inside the
container with
<code>docker exec -it container_name ls /container/path</code> to see if
the files we expect are there.</p>
<h3
id="what-are-common-problems-with-mounting-host-directories-in-docker">5.
What are common problems with mounting host directories in Docker?</h3>
<p>Common problems when mounting host directories include permission
errors, path errors, and SELinux or AppArmor restrictions on some
systems. We need to make sure that the paths are correct and that Docker
has permission to access the directories. For more help with
troubleshooting, we can read this <a
href="https://bestonlinetutorial.com/docker/how-to-troubleshoot-docker-networking-issues.html">guide
on Docker networking issues</a>.</p>

                        </div>

                    </div>
                    <!--//container-->
                </article>

            </div>
            <!--//main-wrapper-->

            <div id="footer-placeholder"></div>

            <!-- Javascript -->
            <script src="/assets/plugins/popper.min.js" defer></script>
            <script src="/assets/plugins/bootstrap/js/bootstrap.min.js" defer></script>
            <script src="/assets/fontawesome/js/all.min.js" defer></script>
        </body>

        </html>
            
            