
    
            <!DOCTYPE html>
        <html lang="en">

        <head>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-TFCQEJR7TD"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-TFCQEJR7TD');
</script>
            <title>How to Override Docker Compose Configurations?</title>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Common CSS & Icons -->
<link rel="icon" href="/favicon.ico" type="image/x-icon">
<link rel="stylesheet" href="/assets/plugins/highlight/styles/monokai-sublime.css">
<link id="theme-style" rel="stylesheet" href="/assets/css/theme-8.css">
<link rel="stylesheet" href="/assets/css/post.css">
            <meta name="description" content="Learn how to easily override Docker Compose configurations with our step-by-step guide. Customize your Docker setup today!">

            <div id="head-placeholder"></div>
            <script src="/assets/js/blog.js" defer></script>
            <link rel="stylesheet" href="/assets/css/post.css">
        </head>

        <body>

            <div id="header-placeholder"></div>

            <div class="main-wrapper">

                <article class="blog-post px-3 py-5 p-md-5">
                    <div class="container single-col-max-width">
                        <header class="blog-post-header">
                            <h1 class="title mb-2">How to Override Docker Compose Configurations?</h1>
                        </header>

                        <div class="blog-post-body">
                            <p>Overriding Docker Compose configurations help us change and customize
our containerized apps easily. This means we can change settings in the
<code>docker-compose.yml</code> file. This lets us adjust environment
variables, service definitions, and other settings without changing the
original file. By using overrides, we can make our app environment fit
our specific needs or deployment situations.</p>
<p>In this article, we will talk about different ways to override Docker
Compose configurations effectively. We will explain how to easily
override configurations. We will also discuss using multiple compose
files for configuration overrides. We will look at overriding
environment variables and changing service settings. Also, we will check
if we can use command line options for overrides. Lastly, we will answer
some common questions about this topic. Here is a summary of sections we
will go over:</p>
<ul>
<li>How Can You Override Docker Compose Configurations Easily?</li>
<li>What Are the Different Methods to Override Configurations?</li>
<li>How to Use Multiple Compose Files for Configuration Overrides?</li>
<li>Can You Override Environment Variables in Docker Compose?</li>
<li>How to Override Service Settings in Docker Compose?</li>
<li>Is It Possible to Use Command Line Options to Override
Configurations?</li>
<li>Frequently Asked Questions</li>
</ul>
<p>If we want to learn more about Docker, we can read articles on <a
href="https://bestonlinetutorial.com/docker/what-is-docker-and-why-should-you-use-it.html">what
Docker is and why you should use it</a> or <a
href="https://bestonlinetutorial.com/docker/how-does-docker-differ-from-virtual-machines.html">the
differences between Docker and virtual machines</a>. These resources can
give us basic knowledge that helps improve our Docker Compose
experience.</p>
<h2 id="what-are-the-different-ways-to-override-configurations">What Are
the Different Ways to Override Configurations?</h2>
<p>Docker Compose gives us many ways to change configurations. This
helps us customize how our apps work in different situations. Here are
the main methods we can use:</p>
<ol type="1">
<li><p><strong>Using <code>docker-compose.override.yml</code>:</strong>
Normally, Docker Compose looks for a file called
<code>docker-compose.override.yml</code> in the same folder as the main
<code>docker-compose.yml</code> file. Any settings in this override file
will mix with the main settings. This lets us change or add to service
definitions.</p>
<p>Example:</p>
<div class="sourceCode" id="cb1"><pre
class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">version</span><span class="kw">:</span><span class="at"> </span><span class="st">&#39;3&#39;</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">services</span><span class="kw">:</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">web</span><span class="kw">:</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">image</span><span class="kw">:</span><span class="at"> myapp:latest</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">ports</span><span class="kw">:</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="st">&quot;8080:80&quot;</span></span></code></pre></div>
<p>In <code>docker-compose.override.yml</code>:</p>
<div class="sourceCode" id="cb2"><pre
class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">version</span><span class="kw">:</span><span class="at"> </span><span class="st">&#39;3&#39;</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="fu">services</span><span class="kw">:</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">web</span><span class="kw">:</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">environment</span><span class="kw">:</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> NODE_ENV=development</span></span></code></pre></div></li>
<li><p><strong>Using Multiple Compose Files:</strong> We can use more
than one Compose file when we run commands. We can use the
<code>-f</code> option to combine different files. This helps us keep
settings for different environments separate.</p>
<p>Example:</p>
<div class="sourceCode" id="cb3"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker-compose</span> <span class="at">-f</span> docker-compose.yml <span class="at">-f</span> docker-compose.prod.yml up</span></code></pre></div></li>
<li><p><strong>Environment Variables:</strong> We can change
configurations with environment variables. These can be set in our shell
or in an <code>.env</code> file. Docker Compose will use these variables
in the configuration files.</p>
<p>Example:</p>
<div class="sourceCode" id="cb4"><pre
class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">version</span><span class="kw">:</span><span class="at"> </span><span class="st">&#39;3&#39;</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="fu">services</span><span class="kw">:</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">app</span><span class="kw">:</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">image</span><span class="kw">:</span><span class="at"> </span><span class="st">&quot;${APP_IMAGE:-myapp:latest}&quot;</span></span></code></pre></div></li>
<li><p><strong>Command Line Options:</strong> Docker Compose lets us
change settings right from the command line when we start services. We
can use options like <code>-d</code> for detached mode or
<code>--scale</code> to change the number of services.</p>
<p>Example:</p>
<div class="sourceCode" id="cb5"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker-compose</span> up <span class="at">--scale</span> web=3</span></code></pre></div></li>
<li><p><strong>Using Profiles (Docker Compose V2.1+):</strong> We can
use profiles to define groups of services that we want to start
together. We can set a profile for a service in the Compose file. Then,
we can turn on specific profiles when we run the command.</p>
<p>Example:</p>
<div class="sourceCode" id="cb6"><pre
class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">version</span><span class="kw">:</span><span class="at"> </span><span class="st">&#39;3.9&#39;</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="fu">services</span><span class="kw">:</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">frontend</span><span class="kw">:</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">image</span><span class="kw">:</span><span class="at"> frontend:latest</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">profiles</span><span class="kw">:</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> frontend</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">backend</span><span class="kw">:</span></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">image</span><span class="kw">:</span><span class="at"> backend:latest</span></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">profiles</span><span class="kw">:</span></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> backend</span></span></code></pre></div>
<p>To activate a profile:</p>
<div class="sourceCode" id="cb7"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker-compose</span> <span class="at">--profile</span> frontend up</span></code></pre></div></li>
</ol>
<p>Each of these methods gives us options to manage and change Docker
Compose settings for our projects. If we want to learn more about
writing Docker Compose files, we can check this guide on <a
href="https://bestonlinetutorial.com/docker/how-to-write-a-simple-docker-compose-yml-file.html">how
to write a simple Docker Compose YAML file</a>.</p>
<h2
id="how-to-use-multiple-compose-files-for-configuration-overrides">How
to Use Multiple Compose Files for Configuration Overrides?</h2>
<p>We can use multiple Docker Compose files to easily change settings
and manage different environments. This way, we avoid repeating code.
Docker Compose has a <code>-f</code> option which helps us specify more
than one YAML file.</p>
<h3 id="basic-usage">Basic Usage</h3>
<p>To combine different Compose files, we can run this command:</p>
<div class="sourceCode" id="cb8"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker-compose</span> <span class="at">-f</span> docker-compose.yml <span class="at">-f</span> docker-compose.override.yml up</span></code></pre></div>
<p>Here, <code>docker-compose.override.yml</code> changes the settings
from <code>docker-compose.yml</code>.</p>
<h3 id="file-naming-convention">File Naming Convention</h3>
<p>By default, Docker Compose looks for a file called
<code>docker-compose.override.yml</code> in the same folder as
<code>docker-compose.yml</code>. If this file is there, it will
automatically be included when we run
<code>docker-compose up</code>.</p>
<h3 id="example-structure">Example Structure</h3>
<p>Let’s look at a simple application with this file layout:</p>
<pre><code>.
├── docker-compose.yml
├── docker-compose.override.yml</code></pre>
<p><strong>docker-compose.yml</strong></p>
<div class="sourceCode" id="cb10"><pre
class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">version</span><span class="kw">:</span><span class="at"> </span><span class="st">&#39;3&#39;</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="fu">services</span><span class="kw">:</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">web</span><span class="kw">:</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">image</span><span class="kw">:</span><span class="at"> myapp:latest</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">ports</span><span class="kw">:</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="st">&quot;5000:5000&quot;</span></span></code></pre></div>
<p><strong>docker-compose.override.yml</strong></p>
<div class="sourceCode" id="cb11"><pre
class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">version</span><span class="kw">:</span><span class="at"> </span><span class="st">&#39;3&#39;</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="fu">services</span><span class="kw">:</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">web</span><span class="kw">:</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">environment</span><span class="kw">:</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> DEBUG=true</span></span></code></pre></div>
<p>When we run <code>docker-compose up</code>, the <code>DEBUG</code>
environment variable will be true. This will change the default settings
in the main Compose file.</p>
<h3 id="specifying-multiple-files-manually">Specifying Multiple Files
Manually</h3>
<p>We can also choose files manually for more control:</p>
<div class="sourceCode" id="cb12"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker-compose</span> <span class="at">-f</span> docker-compose.yml <span class="at">-f</span> docker-compose.prod.yml up</span></code></pre></div>
<p>In this case, both <code>docker-compose.yml</code> and
<code>docker-compose.prod.yml</code> are used. The settings in the
second file will take priority.</p>
<h3 id="merging-behavior">Merging Behavior</h3>
<p>When we use multiple files, Docker Compose combines them. Here are
the rules:</p>
<ul>
<li>Properties change in the order we list them.</li>
<li>Lists get added together, like volumes.</li>
<li>Maps get combined, like environment variables.</li>
</ul>
<h3 id="use-cases">Use Cases</h3>
<ul>
<li><strong>Development vs. Production</strong>: We can use different
files for development and production.</li>
<li><strong>Feature Flags</strong>: We can turn features on or off by
including or excluding certain Compose files.</li>
</ul>
<p>Using multiple Compose files for configuration overrides is a strong
way to customize our Docker setup for different needs. For more details
about Docker Compose, you can check out <a
href="https://bestonlinetutorial.com/docker/what-is-docker-compose-and-how-does-it-simplify-multi-container-applications.html">this
guide</a>.</p>
<h2 id="can-you-override-environment-variables-in-docker-compose">Can
You Override Environment Variables in Docker Compose?</h2>
<p>Yes, we can override environment variables in Docker Compose. We have
several ways to do this.</p>
<ol type="1">
<li><p><strong>Using <code>.env</code> Files</strong>: Docker Compose
reads variables from a <code>.env</code> file in the same folder as your
<code>docker-compose.yml</code> file. We can define our environment
variables in this file. They will replace any values in the
<code>docker-compose.yml</code>.</p>
<p>Here is an example of a <code>.env</code> file:</p>
<pre class="plaintext"><code>DB_USER=myuser
DB_PASSWORD=mypassword</code></pre>
<p>And this is the <code>docker-compose.yml</code> file:</p>
<div class="sourceCode" id="cb14"><pre
class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">version</span><span class="kw">:</span><span class="at"> </span><span class="st">&#39;3.8&#39;</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="fu">services</span><span class="kw">:</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">db</span><span class="kw">:</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">image</span><span class="kw">:</span><span class="at"> postgres</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">environment</span><span class="kw">:</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">POSTGRES_USER</span><span class="kw">:</span><span class="at"> ${DB_USER}</span></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">POSTGRES_PASSWORD</span><span class="kw">:</span><span class="at"> ${DB_PASSWORD}</span></span></code></pre></div></li>
<li><p><strong>Specifying Environment Variables in the
<code>docker-compose.yml</code></strong>: We can also set environment
variables directly in the service section of the
<code>docker-compose.yml</code> file. If we set a variable here, it will
take priority over those in the <code>.env</code> file.</p>
<p>Example:</p>
<div class="sourceCode" id="cb15"><pre
class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">version</span><span class="kw">:</span><span class="at"> </span><span class="st">&#39;3.8&#39;</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="fu">services</span><span class="kw">:</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">db</span><span class="kw">:</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">image</span><span class="kw">:</span><span class="at"> postgres</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">environment</span><span class="kw">:</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">POSTGRES_USER</span><span class="kw">:</span><span class="at"> myuser</span></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">POSTGRES_PASSWORD</span><span class="kw">:</span><span class="at"> mypassword</span></span></code></pre></div></li>
<li><p><strong>Using the Command Line</strong>: We can override
environment variables while running the command. We use the
<code>-e</code> flag with <code>docker-compose run</code>.</p>
<p>Example:</p>
<div class="sourceCode" id="cb16"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker-compose</span> run <span class="at">-e</span> POSTGRES_USER=otheruser <span class="at">-e</span> POSTGRES_PASSWORD=otherpassword db</span></code></pre></div></li>
<li><p><strong>Using the <code>--env-file</code> Option</strong>: We can
also use a different environment file with the <code>--env-file</code>
option when we run <code>docker-compose up</code>.</p>
<p>Example:</p>
<div class="sourceCode" id="cb17"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker-compose</span> <span class="at">--env-file</span> custom.env up</span></code></pre></div></li>
<li><p><strong>Exporting Variables in Shell</strong>: We can export
environment variables in our shell before we run Docker Compose. This
way, those variables will be available for the Docker Compose
command.</p>
<p>Example:</p>
<div class="sourceCode" id="cb18"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="bu">export</span> <span class="va">DB_USER</span><span class="op">=</span>myuser</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="bu">export</span> <span class="va">DB_PASSWORD</span><span class="op">=</span>mypassword</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="ex">docker-compose</span> up</span></code></pre></div></li>
</ol>
<p>With these ways, we can easily manage and override environment
variables in our Docker Compose setups. This lets us have flexible and
changing service setups. For more info on Docker and its settings, check
out <a
href="https://bestonlinetutorial.com/docker/what-is-docker-compose-and-how-does-it-simplify-multi-container-applications.html">What
is Docker Compose and how does it simplify multi-container
applications</a>.</p>
<h2 id="how-to-override-service-settings-in-docker-compose">How to
Override Service Settings in Docker Compose?</h2>
<p>To change service settings in Docker Compose, we can use a few
methods. This includes using more than one Compose file, environment
variables, or command-line options. Here are the main ways we can do
it.</p>
<h3 id="using-multiple-compose-files">Using Multiple Compose Files</h3>
<p>We can make a base <code>docker-compose.yml</code> file and another
file for overrides, like <code>docker-compose.override.yml</code>. When
we run <code>docker-compose up</code>, Docker Compose will automatically
take any settings from the override file.</p>
<p><strong>Example</strong>:</p>
<div class="sourceCode" id="cb19"><pre
class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># docker-compose.yml</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="fu">version</span><span class="kw">:</span><span class="at"> </span><span class="st">&#39;3&#39;</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a><span class="fu">services</span><span class="kw">:</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">web</span><span class="kw">:</span></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">image</span><span class="kw">:</span><span class="at"> nginx</span></span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">ports</span><span class="kw">:</span></span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="st">&quot;80:80&quot;</span></span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">environment</span><span class="kw">:</span></span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> NODE_ENV=production</span></span></code></pre></div>
<div class="sourceCode" id="cb20"><pre
class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># docker-compose.override.yml</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="fu">version</span><span class="kw">:</span><span class="at"> </span><span class="st">&#39;3&#39;</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="fu">services</span><span class="kw">:</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">web</span><span class="kw">:</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">environment</span><span class="kw">:</span></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> NODE_ENV=development</span></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">ports</span><span class="kw">:</span></span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="st">&quot;8080:80&quot;</span></span></code></pre></div>
<p>In this example, we will run the web service with
<code>NODE_ENV</code> as development. It will connect port 8080 on the
host to port 80 on the container.</p>
<h3 id="using-environment-variables">Using Environment Variables</h3>
<p>We can also use environment variables to change service settings. We
can define these variables in our shell or in an <code>.env</code> file.
Docker Compose lets us use these variables in the
<code>docker-compose.yml</code> file.</p>
<p><strong>Example</strong>:</p>
<div class="sourceCode" id="cb21"><pre
class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># docker-compose.yml</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="fu">version</span><span class="kw">:</span><span class="at"> </span><span class="st">&#39;3&#39;</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a><span class="fu">services</span><span class="kw">:</span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">web</span><span class="kw">:</span></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">image</span><span class="kw">:</span><span class="at"> nginx</span></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">ports</span><span class="kw">:</span></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="st">&quot;${WEB_PORT}:80&quot;</span></span></code></pre></div>
<p>Then, we need to define <code>WEB_PORT</code> in our
<code>.env</code> file:</p>
<pre><code>WEB_PORT=8080</code></pre>
<h3 id="command-line-options">Command Line Options</h3>
<p>We can change settings directly from the command line too. We use the
<code>-e</code> flag for environment variables or we can specify service
options.</p>
<p><strong>Example</strong>:</p>
<div class="sourceCode" id="cb23"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker-compose</span> run <span class="at">-e</span> NODE_ENV=development web</span></code></pre></div>
<p>Here, the <code>NODE_ENV</code> variable will change any existing
settings in the <code>docker-compose.yml</code>.</p>
<h3 id="using-profiles">Using Profiles</h3>
<p>Profiles let us make specific settings that we can turn on when we
run our services. We can set different profiles for different
environments.</p>
<p><strong>Example</strong>:</p>
<div class="sourceCode" id="cb24"><pre
class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co"># docker-compose.yml</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="fu">version</span><span class="kw">:</span><span class="at"> </span><span class="st">&#39;3.9&#39;</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a><span class="fu">services</span><span class="kw">:</span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">web</span><span class="kw">:</span></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">image</span><span class="kw">:</span><span class="at"> nginx</span></span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">profiles</span><span class="kw">:</span></span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> dev</span></span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">web_prod</span><span class="kw">:</span></span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">image</span><span class="kw">:</span><span class="at"> nginx</span></span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">profiles</span><span class="kw">:</span></span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> prod</span></span></code></pre></div>
<p>To run a specific profile, we use:</p>
<div class="sourceCode" id="cb25"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker-compose</span> <span class="at">--profile</span> dev up</span></code></pre></div>
<p>This will start the <code>web</code> service using the development
profile.</p>
<h3 id="conclusion">Conclusion</h3>
<p>These methods give us flexibility in changing service settings in
Docker Compose. This way, we can easily adjust settings for different
environments. For more info about Docker Compose, check out <a
href="https://bestonlinetutorial.com/docker/what-is-docker-compose-and-how-does-it-simplify-multi-container-applications.html">What
is Docker Compose and How Does it Simplify Multi-Container
Applications?</a>.</p>
<h2
id="is-it-possible-to-use-command-line-options-to-override-configurations">Is
It Possible to Use Command Line Options to Override Configurations?</h2>
<p>Yes, we can use command line options to change Docker Compose
settings. This helps us adjust settings without changing the
<code>docker-compose.yml</code> file directly. Here are some common
command line options we can use:</p>
<ul>
<li><p><strong><code>-f</code> or <code>--file</code></strong>: This
option lets us pick a different compose file. We can use multiple
<code>-f</code> options to mix different configuration files.</p>
<div class="sourceCode" id="cb26"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker-compose</span> <span class="at">-f</span> docker-compose.yml <span class="at">-f</span> docker-compose.override.yml up</span></code></pre></div></li>
<li><p><strong><code>--env-file</code></strong>: This option helps us
choose a different environment file. It will replace the default
<code>.env</code> file.</p>
<div class="sourceCode" id="cb27"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker-compose</span> <span class="at">--env-file</span> custom.env up</span></code></pre></div></li>
<li><p><strong><code>up --detach</code></strong>: This runs services in
detached mode. It lets us change settings like build context or command
without editing the compose file.</p>
<div class="sourceCode" id="cb28"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker-compose</span> up <span class="at">--detach</span></span></code></pre></div></li>
<li><p><strong>Service-specific overrides</strong>: We can change
service settings right in the command line by using the <code>-e</code>
flag to set environment variables.</p>
<div class="sourceCode" id="cb29"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker-compose</span> run <span class="at">-e</span> MY_ENV_VAR=value my_service</span></code></pre></div></li>
</ul>
<p>By using these command line options, we can manage and change our
Docker Compose settings easily. This gives us flexibility in our
container apps. For more details on using Docker Compose, check out <a
href="https://bestonlinetutorial.com/docker/what-is-docker-compose-and-how-does-it-simplify-multi-container-applications.html">this
article about Docker Compose</a>.</p>
<h2 id="frequently-asked-questions">Frequently Asked Questions</h2>
<h3 id="how-can-we-override-docker-compose-configurations-easily">1. How
can we override Docker Compose configurations easily?</h3>
<p>We can override Docker Compose configurations easily with the
<code>-f</code> option. This lets us use more than one Compose file. For
example, we can run
<code>docker-compose -f docker-compose.yml -f docker-compose.override.yml up</code>.
This command loads multiple Compose files. It helps us change service
settings without changing the original file. This way is great for
different environments like development and production.</p>
<h3
id="what-methods-are-available-to-override-configurations-in-docker-compose">2.
What methods are available to override configurations in Docker
Compose?</h3>
<p>Docker Compose gives us several ways to override configurations. We
can use multiple Compose files, environment variable substitution, and
command line options. We can also set default values in a
<code>.env</code> file. Docker Compose reads this file automatically.
Each way gives us the flexibility to set up our containers how we
want.</p>
<h3
id="can-we-use-environment-variables-to-override-docker-compose-settings">3.
Can we use environment variables to override Docker Compose
settings?</h3>
<p>Yes, we can use environment variables to override Docker Compose
settings. We can define these variables in a <code>.env</code> file or
directly in our shell. This lets us change values in our
<code>docker-compose.yml</code> file. This method is good for sensitive
data like API keys and database passwords. It keeps them safe and not
hard-coded in our config files.</p>
<h3 id="how-do-we-override-service-settings-in-docker-compose">4. How do
we override service settings in Docker Compose?</h3>
<p>To override service settings in Docker Compose, we can use more
Compose files or the <code>-e</code> option. This option lets us set
environment variables for specific services. For example, we can make a
<code>docker-compose.override.yml</code> file. This file can have
changed settings for the service we want to adjust. This keeps our main
file clean while we change settings when we need to.</p>
<h3
id="is-it-possible-to-use-command-line-options-to-override-configurations-1">5.
Is it possible to use command line options to override
configurations?</h3>
<p>Yes, we can use command line options to override configurations in
Docker Compose. Options like <code>--scale</code> can change the number
of container instances for a service. The <code>-e</code> option lets us
set environment variables directly in the command line. This gives us
the chance to make quick changes without changing our Compose files.</p>
<p>For more knowledge about Docker and its features, we can check these
articles: <a
href="https://bestonlinetutorial.com/docker/what-is-docker-and-why-should-you-use-it.html">What
is Docker and Why Should You Use It?</a>, <a
href="https://bestonlinetutorial.com/docker/what-is-docker-compose-and-how-does-it-simplify-multi-container-applications.html">What
is Docker Compose and How Does It Simplify Multi-Container
Applications?</a>, and <a
href="https://bestonlinetutorial.com/docker/how-to-write-a-simple-docker-compose-yml-file.html">How
to Write a Simple Docker Compose YML File</a>.</p>

                        </div>

                    </div>
                    <!--//container-->
                </article>

            </div>
            <!--//main-wrapper-->

            <div id="footer-placeholder"></div>

            <!-- Javascript -->
            <script src="/assets/plugins/popper.min.js" defer></script>
            <script src="/assets/plugins/bootstrap/js/bootstrap.min.js" defer></script>
            <script src="/assets/fontawesome/js/all.min.js" defer></script>
        </body>

        </html>
            
            