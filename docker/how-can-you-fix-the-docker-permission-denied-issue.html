
    
            <!DOCTYPE html>
        <html lang="en">

        <head>
            <!-- Google tag (gtag.js) -->
            <script async src="https://www.googletagmanager.com/gtag/js?id=G-TFCQEJR7TD"></script>
            <script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
            gtag('config', 'G-TFCQEJR7TD');
            </script>
            <meta charset="utf-8">
            <meta http-equiv="X-UA-Compatible" content="IE=edge">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <!-- Common CSS & Icons -->
            <link rel="icon" href="/favicon.ico" type="image/x-icon">
            <link rel="stylesheet" href="/assets/plugins/highlight/styles/monokai-sublime.css">
            <link id="theme-style" rel="stylesheet" href="/assets/css/theme-8.css">
            <link rel="stylesheet" href="/assets/css/post.css">
            <title>How can you fix the Docker permission denied issue?</title>
            <meta name="description" content=""Learn how to resolve the Docker permission denied issue with step-by-step solutions and expert tips. Fix your Docker today!"">
            <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
	        <script src="/assets/js/blog.js"></script>
        </head>

        <body>

            <div id="header-placeholder"></div>

            <div class="main-wrapper">

                <article class="blog-post px-3 py-5 p-md-5">
                    <div class="container single-col-max-width">
                        <header class="blog-post-header">
                            <h1 class="title mb-2">How can you fix the Docker permission denied issue?</h1>
                        </header>

                        <div class="blog-post-body">
                            <p><strong>How to Fix the Docker Permission Denied Issue</strong></p>
<p>To fix the Docker permission denied issue, the best way is to add
your user to the Docker group. This lets you run Docker commands without
needing root access. So, you can avoid those annoying permission denied
errors. You can also use <code>sudo</code> with your Docker commands to
fix the issue for a short time. But adding your user to the Docker group
is the better option for a smoother experience.</p>
<p>In this article, we will look at different ways to solve the Docker
permission denied issue. We will talk about why this problem happens. We
will also give you step-by-step instructions on how to fix it. The
solutions we will cover are:</p>
<ul>
<li>How to Fix the Docker Permission Denied Issue</li>
<li>What Causes the Docker Permission Denied Issue</li>
<li>How to Add Your User to the Docker Group</li>
<li>How to Use Sudo with Docker Commands</li>
<li>How to Change Docker Socket Permissions</li>
<li>How to Set Up Docker to Use a Different User</li>
<li>Frequently Asked Questions</li>
</ul>
<p>By knowing these solutions, we can manage Docker permissions better
and improve our workflow.</p>
<h2 id="what-causes-the-docker-permission-denied-issue">What Causes the
Docker Permission Denied Issue</h2>
<p>The Docker permission denied issue happens when we try to run Docker
commands but do not have the right permissions. Here are the main
reasons for this problem:</p>
<ul>
<li><p><strong>User Not in Docker Group</strong>: The Docker daemon runs
as the root user by default. If our user account is not in the
<code>docker</code> group, we will get permission errors when we try to
run Docker commands.</p></li>
<li><p><strong>Incorrect Docker Socket Permissions</strong>: The Docker
socket file located at <code>/var/run/docker.sock</code> may have strict
permissions. This can stop users who are not in the <code>docker</code>
group from accessing it.</p></li>
<li><p><strong>SELinux Policies</strong>: On systems like CentOS or
Fedora, SELinux can set extra security rules. These rules may stop
Docker from running some commands or using certain resources. This can
lead to permission errors.</p></li>
<li><p><strong>Docker Daemon Not Running</strong>: If the Docker daemon
is not running, any command we issue will fail. Sometimes this looks
like a permission error because there is no response from the
daemon.</p></li>
<li><p><strong>User Privileges</strong>: If we do not have enough
privileges to run Docker commands, we will face permission denied
errors. This often happens if we are a non-root user and are not in the
right group.</p></li>
<li><p><strong>File System Permissions</strong>: If we try to bind mount
a host directory with strict permissions or if the Docker container
tries to access a file or directory without permission, we might see
permission denied messages.</p></li>
</ul>
<p>To fix these problems, we usually need to make sure we are in the
Docker group. We may also need to change socket permissions or update
SELinux settings if needed.</p>
<h2 id="how-to-add-your-user-to-the-docker-group">How to Add Your User
to the Docker Group</h2>
<p>To fix the Docker permission denied problem, we can add our user to
the Docker group. This way, we can run Docker commands without needing
root access. Let’s follow these steps to add our user to the Docker
group.</p>
<ol type="1">
<li><p><strong>Check if the Docker group exists:</strong></p>
<div class="sourceCode" id="cb1"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">getent</span> group docker</span></code></pre></div></li>
<li><p><strong>Add your user to the Docker group:</strong> Change
<code>your_username</code> to your real username.</p>
<div class="sourceCode" id="cb2"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> usermod <span class="at">-aG</span> docker your_username</span></code></pre></div></li>
<li><p><strong>Log out and log back in:</strong> We need to do this step
for the group changes to work. Or we can run:</p>
<div class="sourceCode" id="cb3"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="ex">newgrp</span> docker</span></code></pre></div></li>
<li><p><strong>Verify the changes:</strong> Run this command to see if
our user is now in the Docker group:</p>
<div class="sourceCode" id="cb4"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">groups</span> your_username</span></code></pre></div></li>
<li><p><strong>Test Docker command:</strong> Now we can run Docker
commands without <code>sudo</code>:</p>
<div class="sourceCode" id="cb5"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> run hello-world</span></code></pre></div></li>
</ol>
<p>If we follow these steps, it should fix the permission denied issue
with Docker. For more info about Docker and good practices, we can check
the article on <a
href="https://bestonlinetutorial.com/docker/what-are-the-benefits-of-using-docker-in-development.html">what
are the benefits of using Docker in development</a>.</p>
<h2 id="how-to-use-sudo-with-docker-commands">How to Use Sudo with
Docker Commands</h2>
<p>Using <code>sudo</code> with Docker commands helps users who are not
in the Docker group. It lets us run Docker commands with higher
privileges. This can fix permission denied problems. Here is how we can
do it:</p>
<ol type="1">
<li><p><strong>Running a Docker Command with Sudo</strong>: Just add
<code>sudo</code> before your Docker command. For example, to run a
container, we do:</p>
<div class="sourceCode" id="cb6"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> docker run hello-world</span></code></pre></div></li>
<li><p><strong>Persistent Use of Sudo</strong>: If we often use
<code>sudo</code>, we can set up our shell to always use
<code>sudo</code> for Docker commands. But be careful, because this can
be a security risk.</p></li>
<li><p><strong>Temporary Sudo Session</strong>: We can start a shell
with root privileges by running:</p>
<div class="sourceCode" id="cb7"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> <span class="at">-i</span></span></code></pre></div>
<p>Then we can run our Docker commands without typing <code>sudo</code>
each time.</p></li>
<li><p><strong>Sudo Configuration</strong>: If we want to let a specific
user run Docker commands without a password, we need to edit the sudoers
file:</p>
<div class="sourceCode" id="cb8"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> visudo</span></code></pre></div>
<p>We add this line, changing <code>username</code> to your real
username:</p>
<div class="sourceCode" id="cb9"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="ex">username</span> ALL=<span class="er">(</span><span class="ex">ALL</span><span class="kw">)</span> <span class="ex">NOPASSWD:</span> /usr/bin/docker</span></code></pre></div></li>
<li><p><strong>Check Docker Installation</strong>: We need to check if
Docker is installed right and if the Docker daemon is running:</p>
<div class="sourceCode" id="cb10"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> systemctl status docker</span></code></pre></div></li>
</ol>
<p>This way helps us avoid permission issues while we control Docker
commands. For more details on Docker and how to use it, you can check <a
href="https://bestonlinetutorial.com/docker/how-to-install-docker-on-different-operating-systems.html">this
article on Docker installation</a>.</p>
<h2 id="how-to-change-docker-socket-permissions">How to Change Docker
Socket Permissions</h2>
<p>If we want to fix the Docker permission denied issue, we may need to
change the permissions of the Docker socket. The Docker socket is
usually at <code>/var/run/docker.sock</code>. Normally, it is owned by
the <code>root</code> user and has limited permissions. We can change
these permissions to let non-root users use Docker.</p>
<p>We can change the permissions with this command:</p>
<div class="sourceCode" id="cb11"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> chmod 666 /var/run/docker.sock</span></code></pre></div>
<p>This command gives read and write permissions to all users. This can
fix the permission denied issue. But we should be careful. This can
create a security risk because any user on the system can control
Docker.</p>
<p>For a safer way, we can change the owner of the Docker socket to the
<code>docker</code> group:</p>
<div class="sourceCode" id="cb12"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> chown root:docker /var/run/docker.sock</span></code></pre></div>
<p>After we change the owner, we need to make sure our user is in the
<code>docker</code> group:</p>
<div class="sourceCode" id="cb13"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> usermod <span class="at">-aG</span> docker <span class="va">$USER</span></span></code></pre></div>
<p>We should log out and log back in for the group change to work. This
way, we can manage Docker without changing socket permissions too much.
This keeps our environment more secure.</p>
<p>For more information about Docker and its settings, we can check <a
href="https://bestonlinetutorial.com/docker/how-to-install-docker-on-different-operating-systems.html">how
to install Docker on different operating systems</a>.</p>
<h2 id="how-to-set-up-docker-to-use-a-different-user">How to Set Up
Docker to Use a Different User</h2>
<p>To set up Docker to run with a different user, we can follow these
steps:</p>
<ol type="1">
<li><p><strong>Create a new user</strong> if we do not have one already.
This user will run Docker:</p>
<div class="sourceCode" id="cb14"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> adduser newuser</span></code></pre></div></li>
<li><p><strong>Add the new user to the Docker group</strong>. This will
let the new user run Docker commands without needing
<code>sudo</code>:</p>
<div class="sourceCode" id="cb15"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> usermod <span class="at">-aG</span> docker newuser</span></code></pre></div></li>
<li><p><strong>Change the Docker service configuration</strong>. We need
to tell Docker which user to use. Depending on our operating system, we
may need to create or edit the Docker service file. If we use systemd,
we have to create or edit the file at
<code>/etc/systemd/system/docker.service.d/override.conf</code>:</p>
<div class="sourceCode" id="cb16"><pre
class="sourceCode ini"><code class="sourceCode ini"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="kw">[Service]</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="dt">User</span><span class="ot">=</span><span class="st">newuser</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="dt">Group</span><span class="ot">=</span><span class="st">docker</span></span></code></pre></div></li>
<li><p><strong>Reload the systemd manager configuration</strong>. This
makes the changes take effect:</p>
<div class="sourceCode" id="cb17"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> systemctl daemon-reload</span></code></pre></div></li>
<li><p><strong>Restart the Docker service</strong>. This will apply the
new user settings:</p>
<div class="sourceCode" id="cb18"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> systemctl restart docker</span></code></pre></div></li>
<li><p><strong>Check if Docker is running as the new user</strong>. We
can see this by running:</p>
<div class="sourceCode" id="cb19"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ps</span> aux <span class="kw">|</span> <span class="fu">grep</span> dockerd</span></code></pre></div></li>
</ol>
<p>After we finish these steps, Docker should run under the new user.
Now we can manage containers and images without permission issues. If we
want to learn more about Docker user permissions and settings, we can
look at <a
href="https://bestonlinetutorial.com/docker/how-does-docker-differ-from-virtual-machines.html">Docker
and Virtual Machines</a>.</p>
<h2 id="frequently-asked-questions">Frequently Asked Questions</h2>
<h3 id="what-is-the-permission-denied-error-in-docker">1. What is the
‘permission denied’ error in Docker?</h3>
<p>The ‘permission denied’ error in Docker happens when we try to run
Docker commands but do not have the right permissions. This often occurs
because we are not in the Docker group or we do not have access to the
Docker socket. To fix this, we need to add our user to the Docker group
or use <code>sudo</code> to run Docker commands with higher
privileges.</p>
<h3 id="how-can-i-check-if-i-am-in-the-docker-group">2. How can I check
if I am in the Docker group?</h3>
<p>To check if we are in the Docker group, we can run this command in
the terminal:</p>
<div class="sourceCode" id="cb20"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">groups</span> <span class="va">$USER</span></span></code></pre></div>
<p>If we see “docker” in the list, we have the right permissions. If it
is not there, we should add our user to the Docker group. This will help
us avoid permission denied errors when we run Docker commands.</p>
<h3
id="what-command-should-i-use-with-docker-when-i-encounter-permission-issues">3.
What command should I use with Docker when I encounter permission
issues?</h3>
<p>When we face permission issues while running Docker commands, we can
add <code>sudo</code> in front of our command. For example:</p>
<div class="sourceCode" id="cb21"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> docker run hello-world</span></code></pre></div>
<p>Using <code>sudo</code> lets us run the command with root privileges.
But to make it easier, we should think about adding our user to the
Docker group. This way, we do not need to use <code>sudo</code> every
time.</p>
<h3 id="how-can-i-change-the-permissions-of-the-docker-socket">4. How
can I change the permissions of the Docker socket?</h3>
<p>If we want to change the permissions of the Docker socket, we can use
this command:</p>
<div class="sourceCode" id="cb22"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> chmod 666 /var/run/docker.sock</span></code></pre></div>
<p>This command gives read and write permissions to everyone on the
Docker socket. But we should be careful because this may let
unauthorized users access our Docker daemon.</p>
<h3 id="is-it-safe-to-use-docker-without-sudo">5. Is it safe to use
Docker without sudo?</h3>
<p>Using Docker without <code>sudo</code> can be safe if we add our user
to the Docker group. But we need to trust all users in that group.
Members of the Docker group can get root access on the host through the
Docker daemon. So we should think about the security risks in
environments with many users. For more info on Docker security best
practices, we can look at our article on <a
href="https://bestonlinetutorial.com/docker/what-are-docker-security-best-practices.html">Docker
security best practices</a>.</p>

                        </div>

                    </div>
                    <!--//container-->
                </article>

            </div>
            <!--//main-wrapper-->

            <div id="footer-placeholder"></div>

            <!-- Javascript -->
            <script src="/assets/plugins/popper.min.js" defer></script>
            <script src="/assets/plugins/bootstrap/js/bootstrap.min.js" defer></script>
            <script src="/assets/fontawesome/js/all.min.js" defer></script>
        </body>

        </html>
            
            