
    
            <!DOCTYPE html>
        <html lang="en">

        <head>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-TFCQEJR7TD"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-TFCQEJR7TD');
</script>
            <title>How to Update Services in Docker Swarm?</title>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Common CSS & Icons -->
<link rel="icon" href="/favicon.ico" type="image/x-icon">
<link rel="stylesheet" href="/assets/plugins/highlight/styles/monokai-sublime.css">
<link id="theme-style" rel="stylesheet" href="/assets/css/theme-8.css">
<link rel="stylesheet" href="/assets/css/post.css">
            <meta name="description" content="Learn how to efficiently update services in Docker Swarm with our step-by-step guide. Enhance your deployment skills today!">

            <div id="head-placeholder"></div>
            <script src="/assets/js/blog.js" defer></script>
            <link rel="stylesheet" href="/assets/css/post.css">
        </head>

        <body>

            <div id="header-placeholder"></div>

            <div class="main-wrapper">

                <article class="blog-post px-3 py-5 p-md-5">
                    <div class="container single-col-max-width">
                        <header class="blog-post-header">
                            <h1 class="title mb-2">How to Update Services in Docker Swarm?</h1>
                        </header>

                        <div class="blog-post-body">
                            <p>Updating services in Docker Swarm is very important for us when we
manage container applications in production. Docker Swarm helps us to
deploy and manage a group of Docker engines. This gives us high
availability and scalability. When we update services in Docker Swarm,
we change the current service settings or the images the services run.
This way, we can improve or fix applications without stopping them.</p>
<p>In this article, we will talk about easy ways to update services in
Docker Swarm. We will look at different methods and tools we can use for
this task. We will explain how to use the Docker CLI for updates. We
will also cover how to rollback changes, check service updates, and use
YAML files for service settings. By the end of this guide, we will
understand how to update Docker Swarm services well and manage
applications smoothly.</p>
<ul>
<li>How to Effectively Update Services in Docker Swarm?</li>
<li>What Are the Different Methods to Update Services in Docker
Swarm?</li>
<li>How to Use the Docker CLI to Update Services in Docker Swarm?</li>
<li>How to Rollback Updates in Docker Swarm Services?</li>
<li>How to Monitor Service Updates in Docker Swarm?</li>
<li>How to Use YAML Files for Service Updates in Docker Swarm?</li>
<li>Frequently Asked Questions</li>
</ul>
<p>If you want to learn more about Docker basics, you can read articles
like <a
href="https://bestonlinetutorial.com/docker/what-is-docker-and-why-should-you-use-it.html">What
is Docker and Why Should You Use It?</a> and <a
href="https://bestonlinetutorial.com/docker/how-to-set-up-a-docker-swarm-cluster.html">How
to Set Up a Docker Swarm Cluster</a>. These articles will give you good
information about Docker and help you understand container orchestration
better.</p>
<h2
id="what-are-the-different-methods-to-update-services-in-docker-swarm">What
Are the Different Methods to Update Services in Docker Swarm?</h2>
<p>We can update services in Docker Swarm in different ways. Each way
works better for different situations. Here are the main methods to
update services in Docker Swarm:</p>
<ol type="1">
<li><p><strong>Using Docker CLI:</strong> We can use the Docker
command-line tool to update a service directly. We can change the image,
environment variables, and other settings. For example:</p>
<div class="sourceCode" id="cb1"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> service update <span class="at">--image</span> new-image:tag my_service</span></code></pre></div></li>
<li><p><strong>Using Docker Compose:</strong> If we use Docker Compose
with Swarm, we can change the <code>docker-compose.yml</code> file. In
this file, we can set the desired state in the <code>deploy</code>
section. After we edit it, we run:</p>
<div class="sourceCode" id="cb2"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> stack deploy <span class="at">-c</span> docker-compose.yml my_stack</span></code></pre></div></li>
<li><p><strong>Using YAML Files:</strong> We can also update services by
using YAML files. This lets us set all settings and deploy them with the
Docker CLI. We can create or change a YAML file and deploy:</p>
<div class="sourceCode" id="cb3"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> stack deploy <span class="at">-c</span> my_services.yml my_stack</span></code></pre></div></li>
<li><p><strong>Rolling Updates:</strong> Docker Swarm has rolling
updates. This lets us update services step by step. We can set the
update options like <code>--update-parallelism</code> and
<code>--update-delay</code>:</p>
<div class="sourceCode" id="cb4"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> service update <span class="at">--image</span> new-image:tag <span class="at">--update-parallelism</span> 2 <span class="at">--update-delay</span> 10s my_service</span></code></pre></div></li>
<li><p><strong>Blue-Green Deployment:</strong> This way means we create
a new service with the new version. Then we switch traffic between the
old and new services. First, we deploy the new version:</p>
<div class="sourceCode" id="cb5"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> service create <span class="at">--name</span> my_service_new <span class="at">--image</span> new-image:tag</span></code></pre></div>
<p>Then we switch the routing:</p>
<div class="sourceCode" id="cb6"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> service update <span class="at">--name</span> my_service <span class="at">--with-additional-parameters</span> my_service_new</span></code></pre></div></li>
<li><p><strong>Canary Releases:</strong> We can do canary releases by
updating a small number of replicas. This lets us test the new version
in an environment like production:</p>
<div class="sourceCode" id="cb7"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> service update <span class="at">--image</span> new-image:tag <span class="at">--replicas</span> 1 my_service</span></code></pre></div></li>
</ol>
<p>These ways give us flexibility to manage and update services in
Docker Swarm well. They help us keep downtime low and deployments under
control. For more information on Docker services, visit <a
href="https://bestonlinetutorial.com/docker/what-is-docker-swarm-and-how-does-it-enable-container-orchestration.html">Docker
Swarm Overview</a>.</p>
<h2
id="how-to-use-the-docker-cli-to-update-services-in-docker-swarm">How to
Use the Docker CLI to Update Services in Docker Swarm?</h2>
<p>We can update services in Docker Swarm easily with the Docker Command
Line Interface (CLI). The <code>docker service update</code> command
helps us change existing services without stopping them.</p>
<h3 id="basic-syntax">Basic Syntax</h3>
<div class="sourceCode" id="cb8"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> service update <span class="pp">[</span><span class="ss">OPTIONS</span><span class="pp">]</span> SERVICE</span></code></pre></div>
<h3 id="common-options">Common Options</h3>
<ul>
<li><code>--image</code>: This lets us specify a new image.</li>
<li><code>--replicas</code>: We can change the number of replicas.</li>
<li><code>--env-add</code>: This option helps us add environment
variables.</li>
<li><code>--env-rm</code>: We can remove environment variables with
this.</li>
<li><code>--update-parallelism</code>: This defines how many tasks to
update at the same time.</li>
<li><code>--update-delay</code>: We can set a delay between updates of
tasks.</li>
</ul>
<h3 id="example-updating-an-image">Example: Updating an Image</h3>
<p>If we want to update a service to use a new image, we can run:</p>
<div class="sourceCode" id="cb9"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> service update <span class="at">--image</span> myapp:latest my_service</span></code></pre></div>
<h3 id="example-changing-the-number-of-replicas">Example: Changing the
Number of Replicas</h3>
<p>To change the number of replicas for a service, we can use:</p>
<div class="sourceCode" id="cb10"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> service update <span class="at">--replicas</span> 3 my_service</span></code></pre></div>
<h3 id="example-updating-environment-variables">Example: Updating
Environment Variables</h3>
<p>To add an environment variable, we can run:</p>
<div class="sourceCode" id="cb11"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> service update <span class="at">--env-add</span> MY_VAR=value my_service</span></code></pre></div>
<p>To remove an environment variable, we can use:</p>
<div class="sourceCode" id="cb12"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> service update <span class="at">--env-rm</span> MY_VAR my_service</span></code></pre></div>
<h3 id="rollback-of-service-update">Rollback of Service Update</h3>
<p>If updating causes problems, we can easily go back to the old
version:</p>
<div class="sourceCode" id="cb13"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> service update <span class="at">--rollback</span> my_service</span></code></pre></div>
<h3 id="monitoring-updates">Monitoring Updates</h3>
<p>We can watch the update process with this command:</p>
<div class="sourceCode" id="cb14"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> service ps my_service</span></code></pre></div>
<p>This command shows the status of each task in the service. This way,
we can track how the update is going.</p>
<p>For more details on managing services, check the article on <a
href="https://bestonlinetutorial.com/docker/how-to-create-and-deploy-services-in-docker-swarm.html">how
to create and deploy services in Docker Swarm</a>.</p>
<h2 id="how-to-rollback-updates-in-docker-swarm-services">How to
Rollback Updates in Docker Swarm Services?</h2>
<p>Rolling back updates in Docker Swarm services is very important. It
helps us keep our application stable when a new version causes problems.
Docker Swarm makes it easy to go back to an earlier version of a
service.</p>
<p>To roll back a service, we can use the
<code>docker service rollback</code> command. This command brings the
service back to the last good version. Here is how we can do it:</p>
<ol type="1">
<li><p><strong>Identify the Service</strong>: First, we need to find the
service we want to roll back. We can list all services with this
command:</p>
<div class="sourceCode" id="cb15"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> service ls</span></code></pre></div></li>
<li><p><strong>Rollback Command</strong>: Now, we will use this command
to start the rollback:</p>
<div class="sourceCode" id="cb16"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> service rollback <span class="op">&lt;</span>service_name<span class="op">&gt;</span></span></code></pre></div>
<p>We should replace <code>&lt;service_name&gt;</code> with the name of
our service. For example, if our service is called <code>web</code>, the
command will be:</p>
<div class="sourceCode" id="cb17"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> service rollback web</span></code></pre></div></li>
<li><p><strong>Check Rollback Status</strong>: After we run the
rollback, we need to check the status of the service. This helps us see
if it rolled back successfully:</p>
<div class="sourceCode" id="cb18"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> service ps <span class="op">&lt;</span>service_name<span class="op">&gt;</span></span></code></pre></div>
<p>This command shows us the tasks of the service and their current
state.</p></li>
<li><p><strong>Rollback with Revision</strong>: If we want to roll back
to a certain revision, we can use the <code>--revision</code> flag:</p>
<div class="sourceCode" id="cb19"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> service rollback <span class="op">&lt;</span>service_name<span class="op">&gt;</span> --revision <span class="op">&lt;</span>revision_number<span class="op">&gt;</span></span></code></pre></div>
<p>Here, <code>&lt;revision_number&gt;</code> is the version we want to
go back to.</p></li>
<li><p><strong>Monitoring the Rollback</strong>: To keep an eye on the
updates and make sure everything works well, we can use the
<code>docker service logs</code> command:</p>
<div class="sourceCode" id="cb20"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> service logs <span class="op">&lt;</span>service_name<span class="op">&gt;</span></span></code></pre></div></li>
</ol>
<p>By following these steps, we can manage and roll back service updates
in Docker Swarm. This helps keep our applications stable. For more
details about managing services in Docker Swarm, we can check <a
href="https://bestonlinetutorial.com/docker/what-are-swarm-services-and-how-are-they-different-from-containers.html">Docker
Swarm Services</a>.</p>
<h2 id="how-to-monitor-service-updates-in-docker-swarm">How to Monitor
Service Updates in Docker Swarm?</h2>
<p>We need to monitor service updates in Docker Swarm. This helps us to
make sure our applications run well. It also helps us find problems fast
during updates. Here are the main ways to monitor service updates:</p>
<ol type="1">
<li><p><strong>Using Docker CLI</strong>: We can use the Docker CLI to
check the status of services and their tasks. The command below gives us
detailed info about a service:</p>
<div class="sourceCode" id="cb21"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> service inspect <span class="op">&lt;</span>service_name<span class="op">&gt;</span></span></code></pre></div>
<p>To see the logs for a specific service, we use:</p>
<div class="sourceCode" id="cb22"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> service logs <span class="op">&lt;</span>service_name<span class="op">&gt;</span></span></code></pre></div></li>
<li><p><strong>Visual Monitoring</strong>: Tools like Portainer and
Docker Swarm Visualizer give us a graphical way to see the status of
services, tasks, and nodes in a swarm cluster. After we install these
tools, we can see service updates in real-time.</p></li>
<li><p><strong>Event Monitoring</strong>: Docker creates events for many
actions, including service updates. We can subscribe to these events
with this command:</p>
<div class="sourceCode" id="cb23"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> events <span class="at">--filter</span> event=update</span></code></pre></div>
<p>This command shows us events about service updates as they
happen.</p></li>
<li><p><strong>Health Checks</strong>: We can add health checks to our
services. This helps us monitor how healthy our containers are. We
define health checks in our service setup:</p>
<div class="sourceCode" id="cb24"><pre
class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">healthcheck</span><span class="kw">:</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">test</span><span class="kw">:</span><span class="at"> </span><span class="kw">[</span><span class="st">&quot;CMD&quot;</span><span class="kw">,</span><span class="at"> </span><span class="st">&quot;curl&quot;</span><span class="kw">,</span><span class="at"> </span><span class="st">&quot;-f&quot;</span><span class="kw">,</span><span class="at"> </span><span class="st">&quot;http://localhost/&quot;</span><span class="kw">]</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">interval</span><span class="kw">:</span><span class="at"> 30s</span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">timeout</span><span class="kw">:</span><span class="at"> 10s</span></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">retries</span><span class="kw">:</span><span class="at"> </span><span class="dv">3</span></span></code></pre></div></li>
<li><p><strong>Using Metrics and Monitoring Tools</strong>: We can use
tools like Prometheus, Grafana, or ELK Stack. These tools help us
collect and show service metrics. We can also set alerts based on
service performance and health.</p></li>
<li><p><strong>Container Logs</strong>: Each service’s containers create
logs. We can monitor them with:</p>
<div class="sourceCode" id="cb25"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> logs <span class="op">&lt;</span>container_id<span class="op">&gt;</span></span></code></pre></div>
<p>This helps us track how applications behave during updates.</p></li>
</ol>
<p>By using these monitoring methods, we can manage our services in
Docker Swarm well. This way, updates do not affect service availability.
For more details on setting up Docker Swarm and managing services,
please check <a
href="https://bestonlinetutorial.com/docker/what-is-docker-swarm-and-how-does-it-enable-container-orchestration.html">What
is Docker Swarm and How Does it Enable Container Orchestration?</a>.</p>
<h2 id="how-to-use-yaml-files-for-service-updates-in-docker-swarm">How
to Use YAML Files for Service Updates in Docker Swarm?</h2>
<p>We can update services in Docker Swarm using YAML files. This method
helps us manage services in a clear way. It is useful when we use Docker
Compose. It also helps us keep our service files in version control.</p>
<p>To update a service using a YAML file, we can follow these steps:</p>
<ol type="1">
<li><p><strong>Create or Change the YAML File</strong>: We need to
define our service settings in a <code>docker-compose.yml</code> file.
Here is an example:</p>
<div class="sourceCode" id="cb26"><pre
class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">version</span><span class="kw">:</span><span class="at"> </span><span class="st">&#39;3.8&#39;</span><span class="at"> </span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a><span class="fu">services</span><span class="kw">:</span></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">web</span><span class="kw">:</span></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">image</span><span class="kw">:</span><span class="at"> myapp:latest</span></span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">deploy</span><span class="kw">:</span></span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">replicas</span><span class="kw">:</span><span class="at"> </span><span class="dv">3</span></span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">update_config</span><span class="kw">:</span></span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="fu">parallelism</span><span class="kw">:</span><span class="at"> </span><span class="dv">2</span></span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="fu">delay</span><span class="kw">:</span><span class="at"> 10s</span></span></code></pre></div>
<p>In this YAML file, we can set the image to use. We can also set the
number of replicas and update settings like <code>parallelism</code> and
<code>delay</code>.</p></li>
<li><p><strong>Deploy the Updated Configuration</strong>: We use the
Docker CLI to deploy the new service with the YAML file. We run this
command:</p>
<div class="sourceCode" id="cb27"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> stack deploy <span class="at">-c</span> docker-compose.yml my_stack</span></code></pre></div>
<p>We should replace <code>my_stack</code> with the name of our stack.
This command will apply the changes in the YAML file to the services in
the Docker Swarm.</p></li>
<li><p><strong>Check Service Status</strong>: After we deploy, we can
check the status of our services. This helps us see if the updates
worked:</p>
<div class="sourceCode" id="cb28"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> service ls</span></code></pre></div></li>
<li><p><strong>Rollback if Needed</strong>: If the new settings cause
problems, we can easily rollback. We just need to redeploy the old
version of the YAML file.</p></li>
</ol>
<p>Using YAML files for service updates in Docker Swarm makes it easier
to manage service settings. It also gives us a clear way to control
versions. For more details on Docker Swarm and its services, we can
visit <a
href="https://bestonlinetutorial.com/docker/what-is-docker-swarm-and-how-does-it-enable-container-orchestration.html">What
is Docker Swarm and how does it enable container orchestration?</a>.</p>
<h2 id="frequently-asked-questions">Frequently Asked Questions</h2>
<h3 id="how-do-we-update-a-service-in-docker-swarm">1. How do we update
a service in Docker Swarm?</h3>
<p>To update a service in Docker Swarm, we can use the
<code>docker service update</code> command. This command helps us change
different settings like image version, environment variables, and
resource limits. For example, if we want to update a service named
<code>my_service</code> to a new image version, we run:</p>
<div class="sourceCode" id="cb29"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> service update <span class="at">--image</span> my_image:v2 my_service</span></code></pre></div>
<p>This command lets the service update with very little downtime.</p>
<h3 id="what-happens-during-a-docker-swarm-service-update">2. What
happens during a Docker Swarm service update?</h3>
<p>During a Docker Swarm service update, the orchestrator slowly
replaces old task replicas with new ones based on the update settings.
This process checks if the new replicas work well before ending the old
ones. We can control how the update happens. We can set the number of
updates happening at the same time and the wait time between updates. We
use the <code>--update-parallelism</code> and
<code>--update-delay</code> options for this.</p>
<h3 id="can-we-rollback-a-service-update-in-docker-swarm">3. Can we
rollback a service update in Docker Swarm?</h3>
<p>Yes, we can easily rollback service updates in Docker Swarm. If we
have problems after an update, we can go back to the old version of the
service with the <code>docker service update</code> command and the
<code>--rollback</code> option. For example:</p>
<div class="sourceCode" id="cb30"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> service update <span class="at">--rollback</span> my_service</span></code></pre></div>
<p>This command brings back the service to its last working state. This
helps us keep things running smoothly.</p>
<h3 id="how-can-we-monitor-updates-to-a-docker-swarm-service">4. How can
we monitor updates to a Docker Swarm service?</h3>
<p>To monitor updates to a Docker Swarm service, we can use the
<code>docker service ps</code> command. This command gives us real-time
info about the service’s tasks and their statuses. We can also use
Docker events or logging tools to get detailed logs of updates. To see
the tasks for our service, we run:</p>
<div class="sourceCode" id="cb31"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> service ps my_service</span></code></pre></div>
<p>This helps us find any issues during the update.</p>
<h3
id="is-it-possible-to-update-docker-swarm-services-using-yaml-files">5.
Is it possible to update Docker Swarm services using YAML files?</h3>
<p>Yes! We can define our Docker Swarm services in a YAML file with
Docker Compose. To update a service, we just change the YAML file as
needed and then deploy the updated settings with:</p>
<div class="sourceCode" id="cb32"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> stack deploy <span class="at">-c</span> docker-compose.yml my_stack</span></code></pre></div>
<p>This way is good for easy management and keeping track of service
settings in our Docker Swarm cluster. For more details on how to define
services, check out <a
href="https://bestonlinetutorial.com/docker/what-is-docker-compose-and-how-does-it-simplify-multi-container-applications.html">what
is Docker Compose</a>.</p>

                        </div>

                    </div>
                    <!--//container-->
                </article>

            </div>
            <!--//main-wrapper-->

            <div id="footer-placeholder"></div>

            <!-- Javascript -->
            <script src="/assets/plugins/popper.min.js" defer></script>
            <script src="/assets/plugins/bootstrap/js/bootstrap.min.js" defer></script>
            <script src="/assets/fontawesome/js/all.min.js" defer></script>
        </body>

        </html>
            
            