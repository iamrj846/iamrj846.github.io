
    
            <!DOCTYPE html>
        <html lang="en">

        <head>
            <title>How to Expose Ports in Docker Containers?</title>
            <meta name="description" content="Learn how to expose ports in Docker containers effectively. Follow our step-by-step guide for seamless container networking!">

            
            <script src="/assets/js/blog.js" defer></script>
            <link rel="stylesheet" href="/assets/css/post.css">
        </head>

        <body>

            <div id="header-placeholder"></div>

            <div class="main-wrapper">

                <article class="blog-post px-3 py-5 p-md-5">
                    <div class="container single-col-max-width">
                        <header class="blog-post-header">
                            <h1 class="title mb-2">How to Expose Ports in Docker Containers?</h1>
                        </header>

                        <div class="blog-post-body">
                            <p><strong>Exposing Ports in Docker Containers</strong></p>
<p>Exposing ports in Docker containers helps our applications talk to
the outside world. It lets us access services that run inside the
containers. This important task means we must set up the network
settings. This way, traffic can go through specific ports. It helps
different services and applications work together smoothly.</p>
<p>In this article, we will look at the key parts of exposing ports in
Docker containers. We will talk about good ways to expose ports. We will
also discuss what Docker ports are and why they matter. We will explain
how to expose ports when we run containers. Then, we will see how to use
Dockerfile for managing ports. We will learn about mapping ports with
Docker Compose. Finally, we will share the best tips for exposing Docker
ports. Here are the topics we will cover:</p>
<ul>
<li>How Can You Effectively Expose Ports in Docker Containers?</li>
<li>What Are Docker Ports and Why Are They Important?</li>
<li>How to Expose Ports When Running a Docker Container?</li>
<li>How to Use Dockerfile to Expose Ports?</li>
<li>How to Map Ports Using Docker Compose?</li>
<li>What Are Best Practices for Exposing Ports in Docker?</li>
<li>Frequently Asked Questions</li>
</ul>
<h2 id="what-are-docker-ports-and-why-are-they-important">What Are
Docker Ports and Why Are They Important?</h2>
<p>Docker ports are very important in containerization. They help in
communication between the host system and the Docker containers. Each
Docker container can open specific ports. This lets us access the
services running inside them. Understanding Docker ports is key for good
application deployment and networking.</p>
<h3 id="importance-of-docker-ports">Importance of Docker Ports:</h3>
<ul>
<li><p><strong>Service Accessibility</strong>: When we open ports,
external applications or users can interact with services inside Docker
containers. For example, a web server in a container can handle requests
on port 80.</p></li>
<li><p><strong>Network Configuration</strong>: Docker uses port mapping
to connect container ports to host ports. This mapping helps to make
sure requests to the host go to the right container.</p></li>
<li><p><strong>Isolation and Security</strong>: By controlling which
ports we open, we can make security better and isolate services. Only
the necessary ports should be open to reduce possible attack
points.</p></li>
<li><p><strong>Load Balancing and Scaling</strong>: When we set up ports
correctly, it helps with load balancing. It also makes it easier to
scale services across many containers or hosts.</p></li>
<li><p><strong>Inter-Container Communication</strong>: Docker lets
containers talk to each other through open ports. This helps in
microservices architecture and internal service discovery.</p></li>
</ul>
<p>For more information about Docker’s architecture and how it works,
check out <a
href="https://bestonlinetutorial.com/docker/what-is-a-docker-container-and-how-does-it-operate.html">What
Is a Docker Container and How Does It Operate?</a>.</p>
<h2 id="how-to-expose-ports-when-running-a-docker-container">How to
Expose Ports When Running a Docker Container?</h2>
<p>We can expose ports when we run a Docker container by using the
<code>-p</code> or <code>--publish</code> option in the
<code>docker run</code> command. This option connects a port on the host
to a port on the container. This way, we allow outside access to
services that run inside the container.</p>
<h3 id="basic-syntax">Basic Syntax</h3>
<div class="sourceCode" id="cb1"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> run <span class="at">-p</span> <span class="pp">[</span><span class="ss">HOST_PORT</span><span class="pp">]</span>:<span class="pp">[</span><span class="ss">CONTAINER_PORT</span><span class="pp">]</span> <span class="pp">[</span><span class="ss">IMAGE_NAME</span><span class="pp">]</span></span></code></pre></div>
<h3 id="example">Example</h3>
<p>Let’s say we have a web application that runs on port 80 inside a
container. If we want to expose it on port 8080 of our host, we would
run:</p>
<div class="sourceCode" id="cb2"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> run <span class="at">-p</span> 8080:80 my-web-app</span></code></pre></div>
<h3 id="multiple-ports">Multiple Ports</h3>
<p>We can expose more than one port by using multiple <code>-p</code>
options:</p>
<div class="sourceCode" id="cb3"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> run <span class="at">-p</span> 8080:80 <span class="at">-p</span> 443:443 my-web-app</span></code></pre></div>
<h3 id="using-docker-network">Using Docker Network</h3>
<p>If we use Docker networking, we can also expose ports without mapping
them directly to the host. This helps containers to talk to each other
within the same network:</p>
<div class="sourceCode" id="cb4"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> run <span class="at">--network</span> my-network my-service</span></code></pre></div>
<h3 id="verifying-exposed-ports">Verifying Exposed Ports</h3>
<p>We can check the ports that are exposed by a running container by
using:</p>
<div class="sourceCode" id="cb5"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> ps</span></code></pre></div>
<p>This command shows a list of running containers with their port
mappings.</p>
<p>For more info about Docker container ports, we can check <a
href="https://bestonlinetutorial.com/docker/what-are-docker-container-ports-and-how-do-they-work.html">What
Are Docker Container Ports and How Do They Work?</a>.</p>
<h2 id="how-to-use-dockerfile-to-expose-ports">How to Use Dockerfile to
Expose Ports?</h2>
<p>We can expose ports in a Docker container by using a Dockerfile. We
use the <code>EXPOSE</code> instruction for this. This instruction tells
Docker that the container listens on certain network ports when it runs.
But we should note that <code>EXPOSE</code> does not publish the port.
It just gives information and a hint to people using our image. We still
need to map the ports when we run the container.</p>
<h3 id="basic-syntax-1">Basic Syntax</h3>
<div class="sourceCode" id="cb6"><pre
class="sourceCode dockerfile"><code class="sourceCode dockerfile"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="kw">EXPOSE</span> &lt;port&gt; [&lt;port&gt;/&lt;protocol&gt;...]</span></code></pre></div>
<h3 id="example-dockerfile">Example Dockerfile</h3>
<p>Here is a simple example of a Dockerfile that exposes port 80 for a
web application:</p>
<div class="sourceCode" id="cb7"><pre
class="sourceCode dockerfile"><code class="sourceCode dockerfile"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Use an official nginx image as a parent image</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> nginx:latest</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Expose port 80</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="kw">EXPOSE</span> 80</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Copy static files to nginx directory</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a><span class="kw">COPY</span> ./html /usr/share/nginx/html</span></code></pre></div>
<h3 id="exposing-multiple-ports">Exposing Multiple Ports</h3>
<p>We can expose more than one port by listing them together:</p>
<div class="sourceCode" id="cb8"><pre
class="sourceCode dockerfile"><code class="sourceCode dockerfile"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="kw">EXPOSE</span> 80 443</span></code></pre></div>
<h3 id="specifying-protocols">Specifying Protocols</h3>
<p>If needed, we can say which protocol to use (TCP or UDP):</p>
<div class="sourceCode" id="cb9"><pre
class="sourceCode dockerfile"><code class="sourceCode dockerfile"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="kw">EXPOSE</span> 80/tcp 53/udp</span></code></pre></div>
<h3 id="building-and-running-the-docker-image">Building and Running the
Docker Image</h3>
<p>Once our Dockerfile is ready, we can build and run our Docker
container:</p>
<ol type="1">
<li><p>Build the Docker image:</p>
<div class="sourceCode" id="cb10"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> build <span class="at">-t</span> my-nginx-image .</span></code></pre></div></li>
<li><p>Run the container and map the exposed port to a port on our
host:</p>
<div class="sourceCode" id="cb11"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> run <span class="at">-d</span> <span class="at">-p</span> 8080:80 <span class="at">--name</span> my-nginx-container my-nginx-image</span></code></pre></div></li>
</ol>
<p>This command maps port 80 in the container to port 8080 on the host.
Now we can access the application using
<code>http://localhost:8080</code>.</p>
<p>For more detailed information about Docker and its parts, we can
check <a
href="https://bestonlinetutorial.com/docker/what-are-docker-container-ports-and-how-do-they-work.html">What
Are Docker Container Ports and How Do They Work?</a>.</p>
<h2 id="how-to-map-ports-using-docker-compose">How to Map Ports Using
Docker Compose?</h2>
<p>To map ports using Docker Compose, we define the port mappings in the
<code>docker-compose.yml</code> file. This lets us say how ports on the
host machine connect to ports on the container. The simple way to define
ports in a service looks like this:</p>
<div class="sourceCode" id="cb12"><pre
class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">version</span><span class="kw">:</span><span class="at"> </span><span class="st">&#39;3&#39;</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="fu">services</span><span class="kw">:</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">web</span><span class="kw">:</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">image</span><span class="kw">:</span><span class="at"> nginx</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">ports</span><span class="kw">:</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="st">&quot;8080:80&quot;</span><span class="co">  # Host port 8080 maps to container port 80</span></span></code></pre></div>
<p>In this example, the Nginx web server runs in the container. It
listens on port 80. We map it to port 8080 on the host.</p>
<h3 id="syntax-details">Syntax Details</h3>
<ul>
<li><strong>Host Port:</strong> The first number before the colon
(<code>8080</code> in this case) is the port on the host machine.</li>
<li><strong>Container Port:</strong> The second number after the colon
(<code>80</code> here) is the port on the Docker container.</li>
</ul>
<h3 id="multiple-port-mappings">Multiple Port Mappings</h3>
<p>We can also set up more than one port mapping for one service:</p>
<div class="sourceCode" id="cb13"><pre
class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">version</span><span class="kw">:</span><span class="at"> </span><span class="st">&#39;3&#39;</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="fu">services</span><span class="kw">:</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">app</span><span class="kw">:</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">image</span><span class="kw">:</span><span class="at"> myapp</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">ports</span><span class="kw">:</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="st">&quot;3000:3000&quot;</span><span class="co">  # Maps host port 3000 to container port 3000</span></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="st">&quot;8080:8080&quot;</span><span class="co">  # Maps host port 8080 to container port 8080</span></span></code></pre></div>
<h3 id="using-docker-compose-commands">Using Docker Compose
Commands</h3>
<p>After we make our <code>docker-compose.yml</code>, we can run this
command to start our services:</p>
<div class="sourceCode" id="cb14"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker-compose</span> up</span></code></pre></div>
<p>This command will create and start the containers with the port
mappings we set. Now, our services are available through the mapped
ports on the host.</p>
<p>For more info on Docker networking and ports, we can check <a
href="https://bestonlinetutorial.com/docker/what-are-docker-container-ports-and-how-do-they-work.html">What
Are Docker Container Ports and How Do They Work?</a>.</p>
<h2 id="what-are-best-practices-for-exposing-ports-in-docker">What Are
Best Practices for Exposing Ports in Docker?</h2>
<p>When we work with Docker containers, it is very important to expose
ports in the right way. This helps with security and performance. Here
are some best practices we can follow:</p>
<ol type="1">
<li><p><strong>Limit Exposed Ports</strong>: We should only expose the
ports that our application really needs. This helps to reduce the risk
of attacks.</p>
<div class="sourceCode" id="cb15"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> run <span class="at">-p</span> 8080:80 myapp</span></code></pre></div></li>
<li><p><strong>Use Specific Port Mapping</strong>: We can map container
ports to specific host ports. This helps to avoid conflicts and makes it
clear where to access the application.</p>
<div class="sourceCode" id="cb16"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> run <span class="at">-p</span> 8080:80 <span class="at">-p</span> 8443:443 myapp</span></code></pre></div></li>
<li><p><strong>Document Exposed Ports</strong>: It is good to write down
the ports that we expose in our Dockerfile or README. This keeps
everything clear for other developers.</p></li>
<li><p><strong>Use Environment Variables</strong>: We can set port
numbers using environment variables. This way, we can change the
configuration easily without changing the code.</p>
<div class="sourceCode" id="cb17"><pre
class="sourceCode dockerfile"><code class="sourceCode dockerfile"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="kw">ENV</span> PORT=80</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="kw">EXPOSE</span> $PORT</span></code></pre></div></li>
<li><p><strong>Employ Docker Networking</strong>: We can use Docker
networks to handle communication between containers. This way, we do not
need to expose ports to the host.</p>
<div class="sourceCode" id="cb18"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> network create mynetwork</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> run <span class="at">--network</span><span class="op">=</span>mynetwork myapp</span></code></pre></div></li>
<li><p><strong>Secure Your Applications</strong>: We should use security
groups or firewalls. This helps to control access to exposed ports and
allows only trusted IPs.</p></li>
<li><p><strong>Version Control</strong>: It is important to keep version
control for our Dockerfiles and setups. This helps us track any changes
to exposed ports.</p></li>
<li><p><strong>Monitor and Audit</strong>: We need to check regularly
the ports we exposed in our containers. This makes sure they are still
needed and safe.</p></li>
</ol>
<p>By following these best practices, we can improve the security and
efficiency of our Docker containers. This also helps us manage port
exposure better. For more information about Docker ports, we can check
<a
href="https://bestonlinetutorial.com/docker/what-are-docker-container-ports-and-how-do-they-work.html">What
Are Docker Container Ports and How Do They Work?</a>.</p>
<h2 id="frequently-asked-questions">Frequently Asked Questions</h2>
<h3 id="what-are-docker-ports-and-how-do-they-work">1. What are Docker
ports and how do they work?</h3>
<p>Docker ports are important for letting Docker containers talk to each
other and to outside systems. Each container can show certain ports.
This lets services inside the container be accessed from outside.
Knowing how to show ports in Docker containers is very important for
deploying apps well. To learn more about Docker, check out <a
href="https://bestonlinetutorial.com/docker/what-are-docker-container-ports-and-how-do-they-work.html">what
are Docker container ports and how do they work</a>.</p>
<h3 id="how-can-i-expose-multiple-ports-in-a-single-docker-container">2.
How can I expose multiple ports in a single Docker container?</h3>
<p>We can show multiple ports in a Docker container using the
<code>EXPOSE</code> command in the Dockerfile or the <code>-p</code>
flag when we run a container. For example, to expose ports 80 and 443,
we can use:</p>
<div class="sourceCode" id="cb19"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> run <span class="at">-p</span> 80:80 <span class="at">-p</span> 443:443 your_image</span></code></pre></div>
<p>This connects the container ports to the host. Now, both services are
accessible from outside. To learn more about running a Docker container,
click <a
href="https://bestonlinetutorial.com/docker/how-to-create-a-docker-container-from-an-image.html">here</a>.</p>
<h3
id="what-is-the-difference-between-exposing-and-publishing-ports-in-docker">3.
What is the difference between exposing and publishing ports in
Docker?</h3>
<p>Exposing a port in Docker with the <code>EXPOSE</code> command in the
Dockerfile shows that the port is available for communication. But
publishing a port with the <code>-p</code> flag connects the container
port to a port on the host. This makes it accessible from the outside.
For more details about Docker networking, check <a
href="https://bestonlinetutorial.com/docker/how-does-docker-differ-from-virtual-machines.html">how
Docker differs from virtual machines</a>.</p>
<h3 id="how-do-i-expose-ports-using-docker-compose">4. How do I expose
ports using Docker Compose?</h3>
<p>To expose ports with Docker Compose, we define the ports in our
<code>docker-compose.yml</code> file under the service we want. For
example:</p>
<div class="sourceCode" id="cb20"><pre
class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">services</span><span class="kw">:</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">web</span><span class="kw">:</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">image</span><span class="kw">:</span><span class="at"> your_image</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">ports</span><span class="kw">:</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="st">&quot;80:80&quot;</span></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="st">&quot;443:443&quot;</span></span></code></pre></div>
<p>This setup connects the ports from the container to the host. This
way, our services can be accessed. To learn more about Docker Compose,
visit <a
href="https://bestonlinetutorial.com/docker/how-to-map-ports-using-docker-compose.html">how
to map ports using Docker Compose</a>.</p>
<h3 id="what-are-best-practices-for-exposing-ports-in-docker-1">5. What
are best practices for exposing ports in Docker?</h3>
<p>When we expose ports in Docker, we should only show the ports that we
need. This helps reduce security risks. We can use ports that are not
standard to avoid common attacks. Also, we need to have strong firewall
rules. It is good to write down our port mappings clearly and check our
settings often. For more help on Docker security, look at <a
href="https://bestonlinetutorial.com/docker/what-are-the-benefits-of-using-docker-in-development.html">the
benefits of using Docker in development</a>.</p>

                        </div>

                    </div>
                    <!--//container-->
                </article>

            </div>
            <!--//main-wrapper-->

            <div id="footer-placeholder"></div>

            <!-- Javascript -->
            <script src="/assets/plugins/popper.min.js" defer></script>
            <script src="/assets/plugins/bootstrap/js/bootstrap.min.js" defer></script>
            <script src="/assets/fontawesome/js/all.min.js" defer></script>
        </body>

        </html>
            
            