
    
            <!DOCTYPE html>
        <html lang="en">

        <head>
            <!-- Google tag (gtag.js) -->
            <script async src="https://www.googletagmanager.com/gtag/js?id=G-TFCQEJR7TD"></script>
            <script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
            gtag('config', 'G-TFCQEJR7TD');
            </script>
            <meta charset="utf-8">
            <meta http-equiv="X-UA-Compatible" content="IE=edge">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
<script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebSite",
      "name": "BestOnlineTutorial",
      "url": "https://www.bestonlinetutorial.com/"
    }
    </script>
            <!-- Common CSS & Icons -->
            <link rel="icon" href="/favicon.ico" type="image/x-icon">
            <link rel="stylesheet" href="/assets/plugins/highlight/styles/monokai-sublime.css">
            <link id="theme-style" rel="stylesheet" href="/assets/css/theme-8.css">
            <link rel="stylesheet" href="/assets/css/post.css">
            <title>How can I execute a command on an existing Docker container?</title>
            <meta name="description" content="Learn how to execute commands on existing Docker containers with our easy guide. Master Docker container management today!">
            <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
	        <script src="/assets/js/blog.js"></script>
        </head>

        <body>

            <div id="header-placeholder"></div>

            <div class="main-wrapper">

                <article class="blog-post px-3 py-5 p-md-5">
                    <div class="container single-col-max-width">
                        <header class="blog-post-header">
                            <h1 class="title mb-2">How can I execute a command on an existing Docker container?</h1>
                        </header>

                        <div class="blog-post-body">
                            <h1 id="how-to-execute-a-command-on-an-existing-docker-container">How to
Execute a Command on an Existing Docker Container</h1>
<p>To run a command on a Docker container that is already there, we can
use the <code>docker exec</code> command. This lets us run commands in a
container that is already running. It’s a strong tool for managing our
Docker apps. The basic way to write it is
<code>docker exec -it &lt;container_name_or_id&gt; &lt;command&gt;</code>.
Here <code>&lt;container_name_or_id&gt;</code> is the name or ID of our
container. <code>&lt;command&gt;</code> is the command we want to
run.</p>
<p>In this article, we will look at different ways to run commands on
Docker containers that are already there. We will learn how to use
Docker exec to run commands in active containers. We will also see how
to run commands in stopped containers. We will talk about running
interactive commands and using Docker attach. We will also learn how to
run shell commands in Docker containers with Docker Compose. Lastly, we
will answer some common questions about these topics. Here is a short
list of what we will talk about:</p>
<ul>
<li>How to Execute a Command on an Existing Docker Container</li>
<li>Using Docker Exec to Execute Commands on Running Containers</li>
<li>Executing Commands Inside Stopped Docker Containers</li>
<li>How to Run Interactive Commands on Docker Containers</li>
<li>Using Docker Attach to Execute Commands in Running Containers</li>
<li>Executing Shell Commands in Docker Containers with Docker
Compose</li>
<li>Frequently Asked Questions</li>
</ul>
<h2
id="using-docker-exec-to-execute-commands-on-running-containers">Using
Docker Exec to Execute Commands on Running Containers</h2>
<p>We can use the <code>docker exec</code> command to run a command on a
running Docker container. This command helps us run commands inside a
container that is already running. It gives us access to the container’s
environment.</p>
<h3 id="basic-syntax">Basic Syntax</h3>
<div class="sourceCode" id="cb1"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> exec <span class="pp">[</span><span class="ss">OPTIONS</span><span class="pp">]</span> CONTAINER COMMAND <span class="pp">[</span><span class="ss">ARG...</span><span class="pp">]</span></span></code></pre></div>
<ul>
<li><strong>CONTAINER</strong>: This is the name or ID of the running
container.</li>
<li><strong>COMMAND</strong>: This is the command we want to run inside
the container.</li>
<li><strong>ARG</strong>: These are optional arguments for the
command.</li>
</ul>
<h3 id="example-usage">Example Usage</h3>
<ol type="1">
<li><p><strong>Run a Simple Command</strong></p>
<p>To list files in the <code>/tmp</code> directory of a container
called <code>my-container</code>, we can use this command:</p>
<div class="sourceCode" id="cb2"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> exec my-container ls /tmp</span></code></pre></div></li>
<li><p><strong>Run an Interactive Shell</strong></p>
<p>If we want to open an interactive shell like bash in the container,
we use:</p>
<div class="sourceCode" id="cb3"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> exec <span class="at">-it</span> my-container /bin/bash</span></code></pre></div>
<p>We use <code>-it</code> to set up a pseudo-TTY and keep the input
open.</p></li>
<li><p><strong>Execute a Command with Environment Variables</strong></p>
<p>If we need to set environment variables when running a command, we
can use the <code>-e</code> flag like this:</p>
<div class="sourceCode" id="cb4"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> exec <span class="at">-e</span> MY_VAR=value my-container printenv MY_VAR</span></code></pre></div></li>
</ol>
<h3 id="common-options">Common Options</h3>
<ul>
<li><code>-d</code>: This runs the command in the background.</li>
<li><code>--user</code>: This lets us specify the username or UID for
running the command.</li>
<li><code>--privileged</code>: This gives extra privileges to the
command.</li>
</ul>
<h3 id="example-of-running-a-command-as-a-different-user">Example of
Running a Command as a Different User</h3>
<p>To run a command as a specific user inside the container, we can
do:</p>
<div class="sourceCode" id="cb5"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> exec <span class="at">--user</span> username my-container whoami</span></code></pre></div>
<h3 id="checking-running-containers">Checking Running Containers</h3>
<p>Before we run commands, we should check if our container is running.
We can list all running containers with this command:</p>
<div class="sourceCode" id="cb6"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> ps</span></code></pre></div>
<p>For more details about using Docker commands, we can check the <a
href="https://bestonlinetutorial.com/docker/what-is-a-docker-container-and-how-does-it-operate.html">Docker
documentation</a>.</p>
<h2 id="executing-commands-inside-stopped-docker-containers">Executing
Commands Inside Stopped Docker Containers</h2>
<p>To run commands in a stopped Docker container, we first need to
restart the container. Docker does not let us run commands directly in a
stopped container. Here is how we can do it:</p>
<ol type="1">
<li><p><strong>Start the Stopped Container</strong>: We can start the
container using the <code>docker start</code> command. Just replace
<code>&lt;container_name_or_id&gt;</code> with the name or ID of your
container.</p>
<div class="sourceCode" id="cb7"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> start <span class="op">&lt;</span>container_name_or_id<span class="op">&gt;</span></span></code></pre></div></li>
<li><p><strong>Execute the Command</strong>: After we start the
container, we can run the command inside it using
<code>docker exec</code>. The <code>-it</code> flags help us interact
with the container.</p>
<div class="sourceCode" id="cb8"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> exec <span class="at">-it</span> <span class="op">&lt;</span>container_name_or_id<span class="op">&gt;</span> <span class="op">&lt;</span>command<span class="op">&gt;</span></span></code></pre></div>
<p>For example, if we want to list files in the <code>/app</code>
directory of the container, we can do:</p>
<div class="sourceCode" id="cb9"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> exec <span class="at">-it</span> <span class="op">&lt;</span>container_name_or_id<span class="op">&gt;</span> ls /app</span></code></pre></div></li>
<li><p><strong>Stop the Container After Execution</strong>: If we want
to stop the container again after running the command, we can use:</p>
<div class="sourceCode" id="cb10"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> stop <span class="op">&lt;</span>container_name_or_id<span class="op">&gt;</span></span></code></pre></div></li>
</ol>
<p>Remember, if we want to run a command without keeping the container
running, we can use a different way with Docker. We can create a new
container from the same image and run the command we need:</p>
<div class="sourceCode" id="cb11"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> run <span class="at">--rm</span> <span class="op">&lt;</span>image_name<span class="op">&gt;</span> <span class="op">&lt;</span>command<span class="op">&gt;</span></span></code></pre></div>
<p>This way, we can execute commands without needing to restart a
stopped container.</p>
<h2 id="how-to-run-interactive-commands-on-docker-containers">How to Run
Interactive Commands on Docker Containers</h2>
<p>We can run interactive commands on Docker containers by using the
<code>docker exec</code> command with the <code>-it</code> flags. This
helps us to access the terminal of a running container.</p>
<h3 id="example-of-running-interactive-commands">Example of Running
Interactive Commands</h3>
<ol type="1">
<li><p><strong>Find the Container ID or Name</strong>: First, we need to
find the container where we want to run commands. We can list running
containers by using:</p>
<div class="sourceCode" id="cb12"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> ps</span></code></pre></div></li>
<li><p><strong>Execute a Command</strong>: Next, we use the
<code>docker exec</code> command with <code>-it</code> to run a command
interactively. For example, to start a bash shell in a running container
called <code>my_container</code>, we use:</p>
<div class="sourceCode" id="cb13"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> exec <span class="at">-it</span> my_container /bin/bash</span></code></pre></div>
<p>If the container has a different shell, like sh, we can run:</p>
<div class="sourceCode" id="cb14"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> exec <span class="at">-it</span> my_container /bin/sh</span></code></pre></div></li>
</ol>
<h3 id="running-other-commands-interactively">Running Other Commands
Interactively</h3>
<p>We can also run other commands interactively. For example, to start
an interactive Python shell, we can use:</p>
<div class="sourceCode" id="cb15"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> exec <span class="at">-it</span> my_container python</span></code></pre></div>
<h3 id="detaching-from-the-container">Detaching from the Container</h3>
<p>To exit from the shell without stopping the container, we can use the
escape sequence <code>Ctrl + P</code> then <code>Ctrl + Q</code>. This
lets us leave the interactive session while the container continues to
run.</p>
<h3 id="using-docker-compose">Using Docker Compose</h3>
<p>If we are using Docker Compose, we can run interactive commands in a
service from our <code>docker-compose.yml</code> file. For example:</p>
<div class="sourceCode" id="cb16"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker-compose</span> exec my_service /bin/bash</span></code></pre></div>
<p>We change <code>my_service</code> with the name of our service.</p>
<p>For more information on managing Docker containers interactively, we
can check this article on <a
href="https://bestonlinetutorial.com/docker/how-to-work-with-docker-containers-using-the-docker-cli.html">Docker
commands</a>.</p>
<h2
id="using-docker-attach-to-execute-commands-in-running-containers">Using
Docker Attach to Execute Commands in Running Containers</h2>
<p>The <code>docker attach</code> command helps us connect our terminal
to a running Docker container. It lets us access the standard input,
output, and error streams. This is great for working with the main
process of the container. Let’s see how we can use it right.</p>
<h3 id="basic-syntax-1">Basic Syntax</h3>
<div class="sourceCode" id="cb17"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> attach <span class="pp">[</span><span class="ss">OPTIONS</span><span class="pp">]</span> CONTAINER</span></code></pre></div>
<h3 id="example-usage-1">Example Usage</h3>
<ol type="1">
<li><p><strong>Attach to a Running Container</strong>: To attach to a
container, we need the container ID or name. For example, if our
container is named <code>my_container</code>:</p>
<div class="sourceCode" id="cb18"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> attach my_container</span></code></pre></div></li>
<li><p><strong>Detaching from the Container</strong>: If we want to
detach without stopping the container, we can use the
<code>CTRL + P</code> and then <code>CTRL + Q</code> keys. This helps us
exit the attach session while keeping the container running.</p></li>
</ol>
<h3 id="options">Options</h3>
<ul>
<li><code>--no-stdin</code>: This option does not attach STDIN.</li>
<li><code>--detach-keys</code>: This lets us change the key combination
for detaching.</li>
</ul>
<h3 id="limitations">Limitations</h3>
<ul>
<li>We can only attach to the main process of the container. If the main
process is not interactive, like a web server, we can’t interact
well.</li>
<li>If we start a container with <code>-d</code> (detached mode), we can
still attach to it. But we won’t see any output until we do so.</li>
</ul>
<h3 id="use-case-scenario">Use Case Scenario</h3>
<p>If we have a container running a shell, we can attach to it to run
commands directly:</p>
<div class="sourceCode" id="cb19"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> run <span class="at">-it</span> <span class="at">--name</span> my_container ubuntu /bin/bash</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="co"># After running the above, we can detach using CTRL + P, CTRL + Q</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> attach my_container</span></code></pre></div>
<p>This way, we can run commands interactively in the running container.
The <code>docker attach</code> command is a good tool for debugging or
monitoring in real time.</p>
<p>For more information on Docker commands and features, we can check <a
href="https://bestonlinetutorial.com/docker/how-to-list-running-docker-containers.html">this
article on how to list running Docker containers</a>.</p>
<h2
id="executing-shell-commands-in-docker-containers-with-docker-compose">Executing
Shell Commands in Docker Containers with Docker Compose</h2>
<p>We can execute shell commands in Docker containers using Docker
Compose. We use the <code>docker-compose exec</code> command for this.
This command lets us run commands in a specific service container that
we define in our <code>docker-compose.yml</code> file.</p>
<h3 id="basic-syntax-2">Basic Syntax</h3>
<div class="sourceCode" id="cb20"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker-compose</span> exec <span class="op">&lt;</span>service_name<span class="op">&gt;</span> <span class="op">&lt;</span>command<span class="op">&gt;</span></span></code></pre></div>
<h3 id="example">Example</h3>
<p>Let’s say we have a service called <code>web</code> in our
<code>docker-compose.yml</code>. We can run a shell command like
this:</p>
<div class="sourceCode" id="cb21"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker-compose</span> exec web ls <span class="at">-la</span></span></code></pre></div>
<h3 id="running-an-interactive-shell">Running an Interactive Shell</h3>
<p>If we want to open an interactive shell session like bash or sh
inside a running container, we can do this:</p>
<div class="sourceCode" id="cb22"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker-compose</span> exec <span class="at">-it</span> <span class="op">&lt;</span>service_name<span class="op">&gt;</span> /bin/bash</span></code></pre></div>
<p>or</p>
<div class="sourceCode" id="cb23"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker-compose</span> exec <span class="at">-it</span> <span class="op">&lt;</span>service_name<span class="op">&gt;</span> /bin/sh</span></code></pre></div>
<h3 id="handling-multiple-commands">Handling Multiple Commands</h3>
<p>We can also run multiple commands at once. We can chain them with
<code>&amp;&amp;</code>:</p>
<div class="sourceCode" id="cb24"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker-compose</span> exec <span class="op">&lt;</span>service_name<span class="op">&gt;</span> sh <span class="at">-c</span> <span class="st">&quot;command1 &amp;&amp; command2&quot;</span></span></code></pre></div>
<h3 id="environment-variables">Environment Variables</h3>
<p>If we need to send environment variables while running commands, we
can use the <code>-e</code> flag:</p>
<div class="sourceCode" id="cb25"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker-compose</span> exec <span class="at">-e</span> VAR_NAME=value <span class="op">&lt;</span>service_name<span class="op">&gt;</span> <span class="op">&lt;</span>command<span class="op">&gt;</span></span></code></pre></div>
<h3 id="example-with-environment-variables">Example with Environment
Variables</h3>
<div class="sourceCode" id="cb26"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker-compose</span> exec <span class="at">-e</span> MY_VAR=value web printenv MY_VAR</span></code></pre></div>
<p>For more help on Docker Compose and what it can do, we can read the
article on <a
href="https://bestonlinetutorial.com/docker/what-is-docker-compose-and-how-does-it-simplify-multi-container-applications.html">what
is Docker Compose and how does it simplify multi-container
applications</a>.</p>
<h2 id="frequently-asked-questions">Frequently Asked Questions</h2>
<h3 id="how-do-we-execute-a-command-on-a-running-docker-container">How
do we execute a command on a running Docker container?</h3>
<p>To execute a command on a running Docker container, we use the
<code>docker exec</code> command. We write the container name and the
command we want to run after that. For example, to run a bash shell
inside a container called <code>my_container</code>, we can use:</p>
<div class="sourceCode" id="cb27"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> exec <span class="at">-it</span> my_container bash</span></code></pre></div>
<p>This lets us interact with the container’s environment directly.</p>
<h3 id="can-we-execute-commands-in-a-stopped-docker-container">Can we
execute commands in a stopped Docker container?</h3>
<p>No, we cannot execute commands in a stopped Docker container because
it is not running. But we can start the container again using the
<code>docker start</code> command. Then, we can use
<code>docker exec</code> to run commands when it is running. To restart
a stopped container called <code>my_container</code>, we can use:</p>
<div class="sourceCode" id="cb28"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> start my_container</span></code></pre></div>
<p>After that, we can execute the command we want.</p>
<h3 id="how-do-we-run-an-interactive-command-on-a-docker-container">How
do we run an interactive command on a Docker container?</h3>
<p>To run an interactive command on a Docker container, we use the
<code>docker exec</code> command with the <code>-it</code> flags. This
allows us to interact with the container’s terminal. For example:</p>
<div class="sourceCode" id="cb29"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> exec <span class="at">-it</span> my_container /bin/bash</span></code></pre></div>
<p>This command opens a bash shell inside the running container. We can
then execute commands interactively.</p>
<h3
id="what-is-the-difference-between-docker-exec-and-docker-attach">What
is the difference between <code>docker exec</code> and
<code>docker attach</code>?</h3>
<p><code>docker exec</code> is for running a new command in a running
container. It allows us to open a new shell session or execute a command
without changing the main process. On the other hand,
<code>docker attach</code> connects our terminal to the main process of
a running container. This lets us interact with it directly. We should
use <code>docker exec</code> for running commands and
<code>docker attach</code> for interacting with the main process.</p>
<h3
id="how-can-we-execute-commands-in-a-docker-container-using-docker-compose">How
can we execute commands in a Docker container using Docker Compose?</h3>
<p>To execute commands in a Docker container managed by Docker Compose,
we can use the <code>docker-compose exec</code> command. For example, to
run a bash shell in a service named <code>web</code>, we use:</p>
<div class="sourceCode" id="cb30"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker-compose</span> exec web bash</span></code></pre></div>
<p>This command lets us interact with the specified service container
directly. It works like <code>docker exec</code>.</p>

                        </div>

                    </div>
                    <!--//container-->
                </article>

            </div>
            <!--//main-wrapper-->

            <div id="footer-placeholder"></div>

            <!-- Javascript -->
            <script src="/assets/plugins/popper.min.js" defer></script>
            <script src="/assets/plugins/bootstrap/js/bootstrap.min.js" defer></script>
            <script src="/assets/fontawesome/js/all.min.js" defer></script>
        </body>

        </html>
            
            