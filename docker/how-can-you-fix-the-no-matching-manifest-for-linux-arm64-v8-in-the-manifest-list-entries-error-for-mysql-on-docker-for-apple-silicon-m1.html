
    
            <!DOCTYPE html>
        <html lang="en">

        <head>
            <!-- Google tag (gtag.js) -->
            <script async src="https://www.googletagmanager.com/gtag/js?id=G-TFCQEJR7TD"></script>
            <script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
            gtag('config', 'G-TFCQEJR7TD');
            </script>
            <meta charset="utf-8">
            <meta http-equiv="X-UA-Compatible" content="IE=edge">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <!-- Common CSS & Icons -->
            <link rel="icon" href="/favicon.ico" type="image/x-icon">
            <link rel="stylesheet" href="/assets/plugins/highlight/styles/monokai-sublime.css">
            <link id="theme-style" rel="stylesheet" href="/assets/css/theme-8.css">
            <link rel="stylesheet" href="/assets/css/post.css">
            <title>How Can You Fix the "No Matching Manifest for linux/arm64/v8 in the Manifest List Entries" Error for MySQL on Docker for Apple Silicon/M1?</title>
            <meta name="description" content="Learn how to resolve the No Matching Manifest for linux/arm64/v8 error in MySQL on Docker for Apple Silicon M1. Fix it now!">
            <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
	        <script src="/assets/js/blog.js"></script>
        </head>

        <body>

            <div id="header-placeholder"></div>

            <div class="main-wrapper">

                <article class="blog-post px-3 py-5 p-md-5">
                    <div class="container single-col-max-width">
                        <header class="blog-post-header">
                            <h1 class="title mb-2">How Can You Fix the "No Matching Manifest for linux/arm64/v8 in the Manifest List Entries" Error for MySQL on Docker for Apple Silicon/M1?</h1>
                        </header>

                        <div class="blog-post-body">
                            <p>To fix the “No Matching Manifest for linux/arm64/v8 in the Manifest
List Entries” error for MySQL on Docker for Apple Silicon/M1, we can
start by using a different MySQL image. This image should work well with
ARM architecture. Instead of the usual MySQL image, we can use an
ARM64-compatible image or create a custom MySQL Docker image just for
our needs. This way, we can run MySQL smoothly on our Apple Silicon
device without any problems.</p>
<p>In this article, we will look at different ways to fix the “No
Matching Manifest for linux/arm64/v8” error in Docker, especially for
MySQL on Apple Silicon. We will learn about what the error means. We
will see how to use different MySQL images, how to build our own Docker
image, how to turn on experimental features in Docker, how to use
Rosetta 2 for better compatibility, and answer some common questions
about this problem. Here’s what we will talk about:</p>
<ul>
<li>Understanding the No Matching Manifest for linux/arm64/v8 Error in
Docker</li>
<li>How to Use an Alternative MySQL Image for Apple Silicon</li>
<li>How to Build a Custom MySQL Docker Image for linux/arm64/v8</li>
<li>How to Enable Experimental Features in Docker for Apple Silicon</li>
<li>How to Use Rosetta 2 for Compatibility with MySQL on Docker</li>
<li>Frequently Asked Questions</li>
</ul>
<h2
id="understanding-the-no-matching-manifest-for-linuxarm64v8-error-in-docker">Understanding
the No Matching Manifest for linux/arm64/v8 Error in Docker</h2>
<p>The “No Matching Manifest for linux/arm64/v8 in the Manifest List
Entries” error happens when we try to pull a Docker image that does not
work with ARM architecture. This is common for Apple Silicon devices
like M1 or M2. The issue is that the image we want does not have an ARM
version in Docker Hub or any other image repository.</p>
<h3 id="key-points">Key Points:</h3>
<ul>
<li><strong>Architecture Compatibility</strong>: Docker images are made
for different CPU types like <code>amd64</code> (x86_64) and
<code>arm64</code>. If an image only supports <code>amd64</code>, then
ARM-based machines can’t run it.</li>
<li><strong>Manifest Lists</strong>: Docker uses manifest lists to find
out which image to pull based on the host’s architecture. If Docker
can’t find a suitable image, it shows this error.</li>
<li><strong>Common Causes</strong>: If we try to run images made for
<code>linux/amd64</code> on a <code>linux/arm64/v8</code> system without
the right support, we get this error.</li>
</ul>
<h3 id="example-command-causing-the-error">Example Command Causing the
Error:</h3>
<div class="sourceCode" id="cb1"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> pull mysql:latest</span></code></pre></div>
<p>If the <code>mysql:latest</code> image does not have an ARM version,
we will see the manifest error.</p>
<h3 id="solution-approaches">Solution Approaches:</h3>
<p>To fix this error and run MySQL on Docker for Apple Silicon, we will
look at some methods. We will explain these methods in detail in the
next sections.</p>
<h2 id="how-to-use-an-alternative-mysql-image-for-apple-silicon">How to
Use an Alternative MySQL Image for Apple Silicon</h2>
<p>To fix the “No Matching Manifest for linux/arm64/v8 in the Manifest
List Entries” error when we use MySQL on Docker for Apple Silicon (M1),
we can use a different MySQL image that works with ARM architecture. A
good choice is the <code>mysql:8.0</code> image. It has ARM
versions.</p>
<p>To get an ARM-compatible MySQL image, we can tell Docker to use the
right architecture with the platform flag. Here is how we do it:</p>
<div class="sourceCode" id="cb2"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> pull <span class="at">--platform</span> linux/arm64/v8 mysql:8.0</span></code></pre></div>
<p>After we pull the image, we can run it with this command:</p>
<div class="sourceCode" id="cb3"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> run <span class="at">--name</span> mysql-arm <span class="at">-e</span> MYSQL_ROOT_PASSWORD=root <span class="at">-d</span> <span class="at">--platform</span> linux/arm64/v8 mysql:8.0</span></code></pre></div>
<p>In this command: - <code>--name mysql-arm</code> gives a name to the
container. - <code>-e MYSQL_ROOT_PASSWORD=root</code> sets the root
password for MySQL. - <code>-d</code> runs the container in the
background.</p>
<p>If we want a different MySQL image that is better for ARM, we can use
<code>arm64v8/mysql</code>. This version is made for ARM. We can pull
and run it like this:</p>
<div class="sourceCode" id="cb4"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> pull arm64v8/mysql</span></code></pre></div>
<p>Then we run it:</p>
<div class="sourceCode" id="cb5"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> run <span class="at">--name</span> mysql-arm <span class="at">-e</span> MYSQL_ROOT_PASSWORD=root <span class="at">-d</span> arm64v8/mysql</span></code></pre></div>
<p>Using an alternative MySQL image helps us work with Apple Silicon. It
avoids the manifest error. For more details on Docker images and their
types, we can check <a
href="https://bestonlinetutorial.com/docker/what-are-docker-images-and-how-do-they-work.html">what
are docker images and how do they work</a>.</p>
<h2 id="how-to-build-a-custom-mysql-docker-image-for-linuxarm64v8">How
to Build a Custom MySQL Docker Image for linux/arm64/v8</h2>
<p>To build a custom MySQL Docker image for the
<code>linux/arm64/v8</code> architecture, we need to create a
<code>Dockerfile</code>. This file will tell Docker what base image to
use and how to set it up for ARM. Here are the steps we can follow.</p>
<ol type="1">
<li><strong>Create a Dockerfile</strong>: First, we create a file called
<code>Dockerfile</code> in our project folder.</li>
</ol>
<div class="sourceCode" id="cb6"><pre
class="sourceCode dockerfile"><code class="sourceCode dockerfile"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Use an official MySQL base image that supports linux/arm64/v8</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> mysql:8.0</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Set environment variables for MySQL root password and database</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="kw">ENV</span> MYSQL_ROOT_PASSWORD=rootpassword</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a><span class="kw">ENV</span> MYSQL_DATABASE=mydatabase</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Expose MySQL port</span></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a><span class="kw">EXPOSE</span> 3306</span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Copy an initialization script (if needed)</span></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a><span class="kw">COPY</span> ./init.sql /docker-entrypoint-initdb.d/</span></code></pre></div>
<ol start="2" type="1">
<li><strong>Create an Initialization Script</strong> (optional): If we
have a script to set up our database, we can create a file named
<code>init.sql</code> in the same folder.</li>
</ol>
<div class="sourceCode" id="cb7"><pre
class="sourceCode sql"><code class="sourceCode sql"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="kw">CREATE</span> <span class="kw">TABLE</span> <span class="cf">IF</span> <span class="kw">NOT</span> <span class="kw">EXISTS</span> users (</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">id</span> <span class="dt">INT</span> AUTO_INCREMENT <span class="kw">PRIMARY</span> <span class="kw">KEY</span>,</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>    username <span class="dt">VARCHAR</span>(<span class="dv">255</span>) <span class="kw">NOT</span> <span class="kw">NULL</span>,</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">password</span> <span class="dt">VARCHAR</span>(<span class="dv">255</span>) <span class="kw">NOT</span> <span class="kw">NULL</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>);</span></code></pre></div>
<ol start="3" type="1">
<li><strong>Build the Docker Image</strong>: Next, we open our terminal.
We go to the folder with our <code>Dockerfile</code> and run this
command to build the image for ARM.</li>
</ol>
<div class="sourceCode" id="cb8"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> buildx build <span class="at">--platform</span> linux/arm64/v8 <span class="at">-t</span> custom-mysql-image .</span></code></pre></div>
<ol start="4" type="1">
<li><strong>Run the Docker Container</strong>: After we build the image,
we can run a container from it by using this command:</li>
</ol>
<div class="sourceCode" id="cb9"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> run <span class="at">--name</span> mysql-arm <span class="at">-d</span> <span class="at">-p</span> 3306:3306 custom-mysql-image</span></code></pre></div>
<ol start="5" type="1">
<li><strong>Verify the Container</strong>: Finally, we check if our
MySQL container is running properly. We can do this with:</li>
</ol>
<div class="sourceCode" id="cb10"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> ps</span></code></pre></div>
<p>This setup helps us run a MySQL instance in a Docker container made
for the <code>linux/arm64/v8</code> architecture. This is good for Apple
Silicon/M1 devices. We should make sure Docker can build multi-platform
images with <code>buildx</code>. For more information on Docker and
multi-platform images, we can check <a
href="https://bestonlinetutorial.com/docker/how-to-use-docker-with-arm-based-architecture.html">this
article</a>.</p>
<h2
id="how-to-enable-experimental-features-in-docker-for-apple-silicon">How
to Enable Experimental Features in Docker for Apple Silicon</h2>
<p>To enable experimental features in Docker for Apple Silicon (M1/M2),
we need to change the Docker configuration file. Let us follow these
steps:</p>
<ol type="1">
<li><p><strong>Open Docker Desktop</strong>: First, we launch Docker
Desktop on our Apple Silicon Mac.</p></li>
<li><p><strong>Access Docker Settings</strong>: Next, we click on the
Docker icon in the menu bar. Then we select “Preferences”.</p></li>
<li><p><strong>Go to the Daemon Settings</strong>: In the Preferences
window, we look for the “Docker Engine” tab.</p></li>
<li><p><strong>Edit the Configuration</strong>: Here, we add this JSON
code to enable experimental features:</p>
<div class="sourceCode" id="cb11"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;experimental&quot;</span><span class="fu">:</span> <span class="kw">true</span><span class="fu">,</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;features&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;buildkit&quot;</span><span class="fu">:</span> <span class="kw">true</span> </span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">}</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div></li>
<li><p><strong>Apply Changes</strong>: Now, we click “Apply &amp;
Restart” to save our changes and restart Docker.</p></li>
<li><p><strong>Verify Experimental Features</strong>: After Docker
restarts, we can check if experimental features are on. We run this
command in our terminal:</p>
<div class="sourceCode" id="cb12"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> version <span class="at">--format</span> <span class="st">&#39;{{.Server.Experimental}}&#39;</span></span></code></pre></div>
<p>It should show <code>true</code>. This means that experimental
features are now on.</p></li>
</ol>
<p>By enabling experimental features, we can use new tools and
improvements in Docker. These are made for Apple Silicon
architecture.</p>
<h2 id="how-to-use-rosetta-2-for-compatibility-with-mysql-on-docker">How
to Use Rosetta 2 for Compatibility with MySQL on Docker</h2>
<p>To run MySQL on Docker for Apple Silicon or M1 devices, we can use
Rosetta 2. It helps x86_64 applications work on ARM architecture. Here
is how we can set it up:</p>
<ol type="1">
<li><p><strong>Install Rosetta 2</strong> (if we don’t have it yet):
Open our terminal and run:</p>
<div class="sourceCode" id="cb13"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="ex">softwareupdate</span> <span class="at">--install-rosetta</span></span></code></pre></div></li>
<li><p><strong>Run Docker Desktop under Rosetta</strong>: We need to run
Docker with Rosetta. Go to our Applications folder, find Docker,
right-click it, and choose “Get Info”. We should check the “Open using
Rosetta” box.</p></li>
<li><p><strong>Pull the MySQL image</strong>: We can use the terminal to
pull an x86 MySQL image:</p>
<div class="sourceCode" id="cb14"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> pull mysql:latest</span></code></pre></div></li>
<li><p><strong>Run the MySQL container</strong>: Let’s start the MySQL
container with the right environment variables:</p>
<div class="sourceCode" id="cb15"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> run <span class="at">--name</span> mysql-container <span class="at">-e</span> MYSQL_ROOT_PASSWORD=root <span class="at">-d</span> mysql:latest</span></code></pre></div></li>
<li><p><strong>Access MySQL</strong>: To get into the MySQL server, we
can use this command:</p>
<div class="sourceCode" id="cb16"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> exec <span class="at">-it</span> mysql-container mysql <span class="at">-uroot</span> <span class="at">-proot</span></span></code></pre></div></li>
</ol>
<p>With Rosetta 2, we can run MySQL on Docker for Apple Silicon devices.
This way, it works well with x86_64 images. For more info about using
Docker on different architectures, check <a
href="https://bestonlinetutorial.com/docker/how-to-use-docker-with-arm-based-architecture.html">this
article</a>.</p>
<h2 id="frequently-asked-questions">Frequently Asked Questions</h2>
<h3
id="what-is-the-no-matching-manifest-for-linuxarm64v8-error-in-docker">What
is the “No Matching Manifest for linux/arm64/v8” error in Docker?</h3>
<p>The “No Matching Manifest for linux/arm64/v8” error happens when
Docker does not find a fitting image for the ARM64 system. This is
common on Apple Silicon (M1) devices. It usually means that the MySQL
image you want does not support ARM architecture. To fix this, we can
use a different MySQL image that works with ARM64 or create our own
image.</p>
<h3 id="how-can-i-run-mysql-on-docker-for-apple-silicon">How can I run
MySQL on Docker for Apple Silicon?</h3>
<p>To run MySQL on Docker for Apple Silicon, we can use an
ARM-compatible MySQL image. Another option is to make a custom MySQL
Docker image that supports ARM. Using images from places like
<code>mysql/mysql-server</code> can be useful. But we have to check if
they are compatible with ARM64. We can also look for multi-architecture
images that support many systems.</p>
<h3 id="what-are-the-best-mysql-docker-images-for-arm-architecture">What
are the best MySQL Docker images for ARM architecture?</h3>
<p>Some of the best MySQL Docker images that work with ARM architecture
include <code>arm64v8/mysql</code> and some tags of
<code>mysql/mysql-server</code>. We should check the image’s support for
ARM64 by using the <code>docker manifest inspect</code> command. This
way, we know we are pulling an image that fits our system.</p>
<h3
id="how-do-i-enable-experimental-features-in-docker-on-apple-silicon">How
do I enable experimental features in Docker on Apple Silicon?</h3>
<p>To enable experimental features in Docker on Apple Silicon, we need
to change the Docker configuration file. We can do this by editing the
<code>~/.docker/config.json</code> file. We add
<code>"experimental": "enabled"</code> to the file. After we save the
file, we should restart Docker for the changes to work. This allows us
to use advanced features that may help with architecture issues.</p>
<h3 id="can-i-use-rosetta-2-to-run-mysql-on-docker">Can I use Rosetta 2
to run MySQL on Docker?</h3>
<p>Yes, we can use Rosetta 2 to run x86_64 MySQL images on Apple
Silicon. Rosetta 2 helps apps made for Intel Macs to run on ARM Macs.
When we pull a MySQL Docker image, we need to say what architecture to
use. This can help us run x86_64 MySQL containers smoothly on our M1
device.</p>

                        </div>

                    </div>
                    <!--//container-->
                </article>

            </div>
            <!--//main-wrapper-->

            <div id="footer-placeholder"></div>

            <!-- Javascript -->
            <script src="/assets/plugins/popper.min.js" defer></script>
            <script src="/assets/plugins/bootstrap/js/bootstrap.min.js" defer></script>
            <script src="/assets/fontawesome/js/all.min.js" defer></script>
        </body>

        </html>
            
            