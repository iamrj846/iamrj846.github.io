
    
            <!DOCTYPE html>
        <html lang="en">

        <head>
            <!-- Google tag (gtag.js) -->
            <script async src="https://www.googletagmanager.com/gtag/js?id=G-TFCQEJR7TD"></script>
            <script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
            gtag('config', 'G-TFCQEJR7TD');
            </script>
            <meta charset="utf-8">
            <meta http-equiv="X-UA-Compatible" content="IE=edge">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
<script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebSite",
      "name": "BestOnlineTutorial",
      "url": "https://www.bestonlinetutorial.com/"
    }
    </script>
            <!-- Common CSS & Icons -->
            <link rel="icon" href="/favicon.ico" type="image/x-icon">
            <link rel="stylesheet" href="/assets/plugins/highlight/styles/monokai-sublime.css">
            <link id="theme-style" rel="stylesheet" href="/assets/css/theme-8.css">
            <link rel="stylesheet" href="/assets/css/post.css">
            <title>How Can I Access the Shell of a Docker Container?</title>
            <meta name="description" content="Learn how to access the shell of a Docker container with our step-by-step guide. Master Docker commands easily!">
            <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
	        <script src="/assets/js/blog.js"></script>
        </head>

        <body>

            <div id="header-placeholder"></div>

            <div class="main-wrapper">

                <article class="blog-post px-3 py-5 p-md-5">
                    <div class="container single-col-max-width">
                        <header class="blog-post-header">
                            <h1 class="title mb-2">How Can I Access the Shell of a Docker Container?</h1>
                        </header>

                        <div class="blog-post-body">
                            <p>To get into the shell of a Docker container, we can use the
<code>docker exec</code> command. This command helps us run commands
inside a container that is already running. This skill is very important
for developers and system admins who work with Docker. It gives us a way
to interact directly with the container’s files and processes.</p>
<p>In this article, we will look at different ways to access the shell
of a Docker container. We will cover both running and stopped
containers. We will also talk about using SSH for safe access. Here are
the topics we will discuss:</p>
<ul>
<li>How to Access the Shell of a Docker Container</li>
<li>What Command Do I Use to Access the Shell of a Docker Container</li>
<li>How Can I Use Docker Exec to Access the Shell of a Running
Container</li>
<li>How Can I Use Docker Attach to Access the Shell of a Container</li>
<li>How Can I Access the Shell of a Stopped Docker Container</li>
<li>How Can I Access the Shell of a Docker Container with SSH</li>
<li>Frequently Asked Questions</li>
</ul>
<p>By learning these methods, we can manage Docker containers
better.</p>
<h2
id="what-command-do-i-use-to-access-the-shell-of-a-docker-container">What
Command Do I Use to Access the Shell of a Docker Container</h2>
<p>We can access the shell of a Docker container by using the
<code>docker exec</code> command. This command helps us run commands
inside a running container. The basic format looks like this:</p>
<div class="sourceCode" id="cb1"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> exec <span class="at">-it</span> <span class="op">&lt;</span>container_name_or_id<span class="op">&gt;</span> <span class="op">&lt;</span>shell<span class="op">&gt;</span></span></code></pre></div>
<h3 id="example-commands">Example Commands:</h3>
<ol type="1">
<li><p>To get a bash shell in a running container, we can use:</p>
<div class="sourceCode" id="cb2"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> exec <span class="at">-it</span> <span class="op">&lt;</span>container_name_or_id<span class="op">&gt;</span> /bin/bash</span></code></pre></div></li>
<li><p>If the container does not have bash, we can try sh:</p>
<div class="sourceCode" id="cb3"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> exec <span class="at">-it</span> <span class="op">&lt;</span>container_name_or_id<span class="op">&gt;</span> /bin/sh</span></code></pre></div></li>
</ol>
<h3 id="explanation-of-options">Explanation of Options:</h3>
<ul>
<li><code>-i</code>: This option runs the container in interactive
mode.</li>
<li><code>-t</code>: This gives us a pseudo-TTY. It is needed for
interactive shells.</li>
</ul>
<p>We can list running containers to find the
<code>&lt;container_name_or_id&gt;</code>. We do this with:</p>
<div class="sourceCode" id="cb4"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> ps</span></code></pre></div>
<p>This command shows all active containers. It also shows their IDs and
names. This way, we can find which container we want to access. For more
details about managing Docker containers, we can look at <a
href="https://bestonlinetutorial.com/docker/how-to-list-running-docker-containers.html">how
to list running Docker containers</a>.</p>
<h2
id="how-can-we-use-docker-exec-to-access-the-shell-of-a-running-container">How
Can We Use Docker Exec to Access the Shell of a Running Container</h2>
<p>We can use the <code>docker exec</code> command to access the shell
of a running Docker container. This command helps us run commands in a
container that is already running. It also lets us get into a shell.</p>
<h3 id="basic-syntax">Basic Syntax</h3>
<div class="sourceCode" id="cb5"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> exec <span class="at">-it</span> <span class="op">&lt;</span>container_name_or_id<span class="op">&gt;</span> <span class="op">&lt;</span>shell<span class="op">&gt;</span></span></code></pre></div>
<ul>
<li><code>-i</code>: This means interactive mode. It keeps STDIN
open.</li>
<li><code>-t</code>: This gives us a pseudo-TTY.</li>
<li><code>&lt;container_name_or_id&gt;</code>: This is the name or ID of
the running container.</li>
<li><code>&lt;shell&gt;</code>: This is the shell we want to access.
Common options are <code>/bin/bash</code> or <code>/bin/sh</code>.</li>
</ul>
<h3 id="example">Example</h3>
<p>If we want to access the bash shell of a running container called
<code>my_container</code>, we can use this command:</p>
<div class="sourceCode" id="cb6"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> exec <span class="at">-it</span> my_container /bin/bash</span></code></pre></div>
<p>If the container does not have <code>bash</code>, we can use
<code>sh</code>:</p>
<div class="sourceCode" id="cb7"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> exec <span class="at">-it</span> my_container /bin/sh</span></code></pre></div>
<h3 id="listing-running-containers">Listing Running Containers</h3>
<p>To see the name or ID of the running container, we can list all
running containers like this:</p>
<div class="sourceCode" id="cb8"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> ps</span></code></pre></div>
<p>This command shows the container IDs, names, and other important
info.</p>
<h3 id="accessing-containers-with-different-shells">Accessing Containers
with Different Shells</h3>
<p>If we are not sure which shell is in the container, we can try both
<code>bash</code> and <code>sh</code>. For example:</p>
<div class="sourceCode" id="cb9"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> exec <span class="at">-it</span> my_container /bin/bash</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="co"># If that does not work, we can try</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> exec <span class="at">-it</span> my_container /bin/sh</span></code></pre></div>
<p>Using <code>docker exec</code> is a simple way to access the shell of
a running Docker container. It helps us manage and fix applications
inside containers easily.</p>
<p>For more details about Docker commands and how to use them, we can
check the <a
href="https://bestonlinetutorial.com/docker/how-to-work-with-docker-containers-using-the-docker-cli.html">Docker
CLI documentation</a>.</p>
<h2
id="how-can-we-use-docker-attach-to-access-the-shell-of-a-container">How
Can We Use Docker Attach to Access the Shell of a Container</h2>
<p>To access the shell of a running Docker container, we can use the
<code>docker attach</code> command. This command helps us connect to the
input, output, and error streams of a running container. It’s good to
remember that <code>docker attach</code> connects us to the main process
of the container.</p>
<h3 id="command-syntax">Command Syntax</h3>
<p>The basic way to use <code>docker attach</code> is like this:</p>
<div class="sourceCode" id="cb10"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> attach <span class="op">&lt;</span>container_name_or_id<span class="op">&gt;</span></span></code></pre></div>
<h3 id="example-usage">Example Usage</h3>
<ol type="1">
<li><p>First, we need to list all running containers to find the one we
want to access:</p>
<div class="sourceCode" id="cb11"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> ps</span></code></pre></div></li>
<li><p>Next, we use the <code>docker attach</code> command with the name
or ID of the container:</p>
<div class="sourceCode" id="cb12"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> attach my_container</span></code></pre></div></li>
</ol>
<h3 id="important-notes">Important Notes</h3>
<ul>
<li>When we attach to a container, we can see its output and send input
to it. If the container started with a command that is not interactive,
we might not see a shell prompt.</li>
<li>To detach from the container, we can use the key sequence
<code>Ctrl + P</code> and then <code>Ctrl + Q</code>. This will take us
back to our terminal without stopping the container.</li>
<li>If we want to access a shell like Bash or Sh inside the container,
it is often better to use <code>docker exec</code>. This gives us a new
interactive shell session.</li>
</ul>
<p>For more detailed info on managing Docker containers, we can check
out <a
href="https://bestonlinetutorial.com/docker/how-to-use-docker-for-web-development-environments.html">how
to use Docker for web development environments</a>.</p>
<h2 id="how-can-i-access-the-shell-of-a-stopped-docker-container">How
Can I Access the Shell of a Stopped Docker Container</h2>
<p>To access the shell of a stopped Docker container, we usually use the
<code>docker start</code> command. This starts the container in
interactive mode. Then we use <code>docker exec</code> to get into the
shell. But since the container is stopped, we need to think about how to
get in properly.</p>
<ol type="1">
<li><p><strong>Start the Container with a Shell</strong>: We can start
the stopped container and open a shell right away. We use the
<code>-i</code> and <code>-t</code> flags for this. Just replace
<code>container_id</code> with the ID or name of your container.</p>
<div class="sourceCode" id="cb13"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> start <span class="at">-i</span> container_id</span></code></pre></div>
<p>This command starts the container and connects to its standard input.
Now we can interact with it.</p></li>
<li><p><strong>Using Docker Exec</strong>: If the container is already
running, we can access its shell with the <code>docker exec</code>
command. But the container must be running first. If it’s stopped, we
start it with the command above.</p>
<p>When the container is running, we can run this command to access the
shell:</p>
<div class="sourceCode" id="cb14"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> exec <span class="at">-it</span> container_id /bin/bash</span></code></pre></div>
<p>If the container uses a different shell, we can change
<code>/bin/bash</code> to <code>/bin/sh</code> or any other shell in the
container.</p></li>
<li><p><strong>Using Docker Commit</strong>: If we want to save the
state of the stopped container first, we can create a new image from it.
Then we can run a new container from that image to access its shell:</p>
<div class="sourceCode" id="cb15"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> commit container_id new_image_name</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> run <span class="at">-it</span> new_image_name /bin/bash</span></code></pre></div></li>
<li><p><strong>Accessing Logs</strong>: If we want to see what happened
before the container stopped, we can check its logs:</p>
<div class="sourceCode" id="cb16"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> logs container_id</span></code></pre></div></li>
</ol>
<p>This way, we have the methods to access the shell of a stopped Docker
container easily. For more information on Docker containers, we can look
at <a
href="https://bestonlinetutorial.com/docker/what-is-a-docker-container-and-how-does-it-operate.html">what
is a Docker container and how does it operate</a>.</p>
<h2 id="how-can-we-access-the-shell-of-a-docker-container-with-ssh">How
Can We Access the Shell of a Docker Container with SSH</h2>
<p>To access the shell of a Docker container with SSH, we need to make
sure the container can support SSH access. Here are the steps to do
this:</p>
<ol type="1">
<li><p><strong>Install SSH Server in the Docker Container</strong><br />
We create a Dockerfile that will install an SSH server, like OpenSSH,
and set it up.</p>
<div class="sourceCode" id="cb17"><pre
class="sourceCode dockerfile"><code class="sourceCode dockerfile"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> ubuntu:latest</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="kw">RUN</span> <span class="ex">apt-get</span> update <span class="kw">&amp;&amp;</span> <span class="ex">apt-get</span> install <span class="at">-y</span> openssh-server</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a><span class="kw">RUN</span> <span class="fu">mkdir</span> /var/run/sshd</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a><span class="kw">RUN</span> <span class="bu">echo</span> <span class="st">&#39;root:password&#39;</span> <span class="kw">|</span> <span class="ex">chpasswd</span></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a><span class="kw">CMD</span> [<span class="st">&quot;/usr/sbin/sshd&quot;</span>, <span class="st">&quot;-D&quot;</span>]</span></code></pre></div></li>
<li><p><strong>Build the Docker Image</strong><br />
Next, we build the image using the Dockerfile.</p>
<div class="sourceCode" id="cb18"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> build <span class="at">-t</span> my-ssh-container .</span></code></pre></div></li>
<li><p><strong>Run the Docker Container</strong><br />
Now, we start a container from our built image. We also need to forward
the SSH port, which is default 22.</p>
<div class="sourceCode" id="cb19"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> run <span class="at">-d</span> <span class="at">-p</span> 2222:22 <span class="at">--name</span> ssh-container my-ssh-container</span></code></pre></div></li>
<li><p><strong>Access the Container via SSH</strong><br />
We can use an SSH client to connect to the container using the mapped
port. If needed, we replace <code>localhost</code> with the Docker host
IP.</p>
<div class="sourceCode" id="cb20"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ssh</span> root@localhost <span class="at">-p</span> 2222</span></code></pre></div>
<p>We enter the password we set in the Dockerfile, which is
<code>password</code>.</p></li>
<li><p><strong>Verify SSH Access</strong><br />
After we connect, we can run commands inside the container
shell.</p></li>
</ol>
<p>We must make sure the container is running before we try to connect
with SSH. This way, we can access the shell of a Docker container using
SSH. This gives us a familiar interface if we often use SSH.</p>
<p>For more info on Docker and what it can do, we can check <a
href="https://bestonlinetutorial.com/docker/what-is-docker-and-why-should-you-use-it.html">what
is Docker and why should you use it</a> and <a
href="https://bestonlinetutorial.com/docker/how-to-install-docker-on-different-operating-systems.html">how
to install Docker on different operating systems</a>.</p>
<h2 id="frequently-asked-questions">Frequently Asked Questions</h2>
<h3 id="how-do-i-enter-the-shell-of-a-docker-container">1. How do I
enter the shell of a Docker container?</h3>
<p>We can access the shell of a running Docker container by using the
<code>docker exec</code> command. We write the container name or ID and
the shell we want to use. For example, if we want to use bash, we
type:</p>
<div class="sourceCode" id="cb21"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> exec <span class="at">-it</span> <span class="op">&lt;</span>container_name_or_id<span class="op">&gt;</span> /bin/bash</span></code></pre></div>
<p>This command lets us interact with the container’s shell. We can run
commands right there.</p>
<h3 id="can-i-access-a-stopped-docker-containers-shell">2. Can I access
a stopped Docker container’s shell?</h3>
<p>We cannot access the shell of a stopped Docker container directly.
But we can start the container in interactive mode. We use this
command:</p>
<div class="sourceCode" id="cb22"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> start <span class="at">-i</span> <span class="op">&lt;</span>container_name_or_id<span class="op">&gt;</span></span></code></pre></div>
<p>This command starts the container and connects our terminal to it. We
can then interact with it like we are inside the shell.</p>
<h3 id="what-is-the-difference-between-docker-exec-and-docker-attach">3.
What is the difference between Docker exec and Docker attach?</h3>
<p><code>docker exec</code> helps us run a new command in a running
container. It lets us access the shell or run scripts without changing
the main process. On the other hand, <code>docker attach</code> connects
our terminal to the main process of the running container. This may not
always give us a shell. It depends on how the container started.</p>
<h3 id="how-can-i-access-a-docker-container-using-ssh">4. How can I
access a Docker container using SSH?</h3>
<p>To access a Docker container using SSH, we need to install an SSH
server inside the container. Then we can use the SSH command:</p>
<div class="sourceCode" id="cb23"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ssh</span> user@<span class="op">&lt;</span>container_ip<span class="op">&gt;</span></span></code></pre></div>
<p>We should ensure that the container’s ports are set up correctly for
outside access. Also, the SSH service must be running.</p>
<h3
id="are-there-alternatives-to-accessing-docker-containers-directly">5.
Are there alternatives to accessing Docker containers directly?</h3>
<p>Yes, we can use different tools and platforms like Docker Desktop or
Portainer. They help us manage our Docker containers with a friendly
interface. These tools make it easier to manage containers without using
command-line access. For more information on Docker’s features, we can
visit <a
href="https://bestonlinetutorial.com/docker/what-is-docker-and-why-should-you-use-it.html">What
is Docker and Why Should You Use It?</a>.</p>

                        </div>

                    </div>
                    <!--//container-->
                </article>

            </div>
            <!--//main-wrapper-->

            <div id="footer-placeholder"></div>

            <!-- Javascript -->
            <script src="/assets/plugins/popper.min.js" defer></script>
            <script src="/assets/plugins/bootstrap/js/bootstrap.min.js" defer></script>
            <script src="/assets/fontawesome/js/all.min.js" defer></script>
        </body>

        </html>
            
            