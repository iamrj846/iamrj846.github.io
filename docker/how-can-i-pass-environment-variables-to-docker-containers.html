
    
            <!DOCTYPE html>
        <html lang="en">

        <head>
            <!-- Google tag (gtag.js) -->
            <script async src="https://www.googletagmanager.com/gtag/js?id=G-TFCQEJR7TD"></script>
            <script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
            gtag('config', 'G-TFCQEJR7TD');
            </script>
            <meta charset="utf-8">
            <meta http-equiv="X-UA-Compatible" content="IE=edge">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
<script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebSite",
      "name": "BestOnlineTutorial",
      "url": "https://www.bestonlinetutorial.com/"
    }
    </script>
            <!-- Common CSS & Icons -->
            <link rel="icon" href="/favicon.ico" type="image/x-icon">
            <link rel="stylesheet" href="/assets/plugins/highlight/styles/monokai-sublime.css">
            <link id="theme-style" rel="stylesheet" href="/assets/css/theme-8.css">
            <link rel="stylesheet" href="/assets/css/post.css">
            <title>How Can I Pass Environment Variables to Docker Containers?</title>
            <meta name="description" content="Learn how to pass environment variables to Docker containers easily. Enhance your Docker setup with our step-by-step guide!">
            <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
	        <script src="/assets/js/blog.js"></script>
        </head>

        <body>

            <div id="header-placeholder"></div>

            <div class="main-wrapper">

                <article class="blog-post px-3 py-5 p-md-5">
                    <div class="container single-col-max-width">
                        <header class="blog-post-header">
                            <h1 class="title mb-2">How Can I Pass Environment Variables to Docker Containers?</h1>
                        </header>

                        <div class="blog-post-body">
                            <p>To pass environment variables to Docker containers, we can use
several ways. These include the Docker command line, Dockerfile, Docker
Compose, and env files. Each method helps us set important settings and
secrets. This way, our applications can run well in containerized
environments. It is important for us to understand how to manage
environment variables. This helps us improve our Docker workflow and
makes our applications more flexible.</p>
<p>In this article, we will look at different ways to pass environment
variables to Docker containers. We will talk about these methods:</p>
<ul>
<li>How Can I Pass Environment Variables to Docker Containers Using the
Docker Command Line</li>
<li>How Can I Pass Environment Variables to Docker Containers Using a
Dockerfile</li>
<li>How Can I Pass Environment Variables to Docker Containers Using
Docker Compose</li>
<li>How Can I Pass Environment Variables to Docker Containers Using an
Env File</li>
<li>How Can I Pass Environment Variables to Docker Containers Using
Runtime Variables</li>
<li>Frequently Asked Questions</li>
</ul>
<p>By the end, we will understand how to manage environment variables
well in our Docker setup. If you want to learn more about Docker basics,
you can check <a
href="https://bestonlinetutorial.com/docker/what-is-docker-and-why-should-you-use-it.html">what
is Docker and why should you use it</a> and <a
href="https://bestonlinetutorial.com/docker/how-does-docker-differ-from-virtual-machines.html">how
Docker differs from virtual machines</a>.</p>
<h2
id="how-can-we-pass-environment-variables-to-docker-containers-using-the-docker-command-line">How
Can We Pass Environment Variables to Docker Containers Using the Docker
Command Line</h2>
<p>We can pass environment variables to Docker containers while they
run. We do this by using the <code>-e</code> or <code>--env</code>
option with the <code>docker run</code> command. This lets us set up
environment variables for how our container will work.</p>
<h3 id="example">Example:</h3>
<div class="sourceCode" id="cb1"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> run <span class="at">-e</span> MY_ENV_VAR=value my_image</span></code></pre></div>
<p>We can also pass many environment variables at once:</p>
<div class="sourceCode" id="cb2"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> run <span class="at">-e</span> VAR1=value1 <span class="at">-e</span> VAR2=value2 my_image</span></code></pre></div>
<p>If we want to pass environment variables from our hostâ€™s environment,
we can use the <code>--env-file</code> option. This reads variables from
a file. Each line in the file must follow the format
<code>KEY=VALUE</code>.</p>
<h3 id="example-of-env-file-env.list">Example of env file
(<code>env.list</code>):</h3>
<pre><code>MY_ENV_VAR=value
ANOTHER_VAR=another_value</code></pre>
<h3 id="running-with-the-env-file">Running with the env file:</h3>
<div class="sourceCode" id="cb4"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> run <span class="at">--env-file</span> ./env.list my_image</span></code></pre></div>
<p>To check that the environment variables are set inside the container,
we can run a command like <code>env</code> or <code>printenv</code>:</p>
<div class="sourceCode" id="cb5"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> run <span class="at">-e</span> MY_ENV_VAR=value my_image env</span></code></pre></div>
<p>This will show all the environment variables. So we can see if
<code>MY_ENV_VAR</code> is set.</p>
<p>Using the Docker command line to pass environment variables helps our
applications have the right setup. We avoid hardcoding values in our
image or code. For more information on Docker and what it can do, check
out <a
href="https://bestonlinetutorial.com/docker/what-are-the-benefits-of-using-docker-in-development.html">What
are the benefits of using Docker in development</a>.</p>
<h2
id="how-can-we-pass-environment-variables-to-docker-containers-using-a-dockerfile">How
Can We Pass Environment Variables to Docker Containers Using a
Dockerfile</h2>
<p>We can pass environment variables to Docker containers by using the
<code>ENV</code> command in a Dockerfile. This lets us define
environment variables that our application inside the container can
use.</p>
<h3 id="syntax">Syntax</h3>
<div class="sourceCode" id="cb6"><pre
class="sourceCode dockerfile"><code class="sourceCode dockerfile"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="kw">ENV</span> &lt;key&gt;=&lt;value&gt; ...</span></code></pre></div>
<h3 id="example-dockerfile">Example Dockerfile</h3>
<p>Here is a simple example of setting environment variables in a
Dockerfile:</p>
<div class="sourceCode" id="cb7"><pre
class="sourceCode dockerfile"><code class="sourceCode dockerfile"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Use an official base image</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> ubuntu:latest</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Set environment variables</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="kw">ENV</span> APP_ENV=production</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a><span class="kw">ENV</span> DB_HOST=db.example.com</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a><span class="kw">ENV</span> DB_USER=root</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a><span class="kw">ENV</span> DB_PASS=secret</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Install dependencies and copy application files</span></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a><span class="kw">RUN</span> <span class="ex">apt-get</span> update <span class="kw">&amp;&amp;</span> <span class="ex">apt-get</span> install <span class="at">-y</span> python3</span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Copy application code</span></span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a><span class="kw">COPY</span> . /app</span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Set the working directory</span></span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a><span class="kw">WORKDIR</span> /app</span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Run the application</span></span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a><span class="kw">CMD</span> [<span class="st">&quot;python3&quot;</span>, <span class="st">&quot;app.py&quot;</span>]</span></code></pre></div>
<p>In this Dockerfile: - We use the <code>ENV</code> command to set
<code>APP_ENV</code>, <code>DB_HOST</code>, <code>DB_USER</code>, and
<code>DB_PASS</code> as environment variables. - Our application code
can access these variables when it runs in the container.</p>
<h3 id="accessing-environment-variables-in-application-code">Accessing
Environment Variables in Application Code</h3>
<p>In a Python application, we can get these environment variables using
the <code>os</code> module:</p>
<div class="sourceCode" id="cb8"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> os</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>app_env <span class="op">=</span> os.getenv(<span class="st">&#39;APP_ENV&#39;</span>)</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>db_host <span class="op">=</span> os.getenv(<span class="st">&#39;DB_HOST&#39;</span>)</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>db_user <span class="op">=</span> os.getenv(<span class="st">&#39;DB_USER&#39;</span>)</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>db_pass <span class="op">=</span> os.getenv(<span class="st">&#39;DB_PASS&#39;</span>)</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f&quot;Environment: </span><span class="sc">{</span>app_env<span class="sc">}</span><span class="ss">, DB Host: </span><span class="sc">{</span>db_host<span class="sc">}</span><span class="ss">, User: </span><span class="sc">{</span>db_user<span class="sc">}</span><span class="ss">&quot;</span>)</span></code></pre></div>
<h3 id="build-the-docker-image">Build the Docker Image</h3>
<p>To build the Docker image with this Dockerfile, we can use this
command:</p>
<div class="sourceCode" id="cb9"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> build <span class="at">-t</span> myapp .</span></code></pre></div>
<h3 id="run-the-docker-container">Run the Docker Container</h3>
<p>Then, we can run the container and our environment variables will be
available:</p>
<div class="sourceCode" id="cb10"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> run myapp</span></code></pre></div>
<p>Using a Dockerfile to set environment variables is a good way to
handle configuration settings in our containerized applications. For
more information about Docker and what it can do, we can read <a
href="https://bestonlinetutorial.com/docker/what-is-docker-and-why-should-you-use-it.html">what
is Docker and why should you use it</a>.</p>
<h2
id="how-can-i-pass-environment-variables-to-docker-containers-using-docker-compose">How
Can I Pass Environment Variables to Docker Containers Using Docker
Compose</h2>
<p>To pass environment variables to Docker containers with Docker
Compose, we can define them in the <code>docker-compose.yml</code> file.
Hereâ€™s how we can do it:</p>
<ol type="1">
<li><p><strong>Inline in the
<code>docker-compose.yml</code>:</strong></p>
<p>We can write environment variables directly under the service
definition.</p>
<div class="sourceCode" id="cb11"><pre
class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">version</span><span class="kw">:</span><span class="at"> </span><span class="st">&#39;3.8&#39;</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="fu">services</span><span class="kw">:</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">web</span><span class="kw">:</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">image</span><span class="kw">:</span><span class="at"> nginx</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">environment</span><span class="kw">:</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> NODE_ENV=production</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> API_URL=http://api.example.com</span></span></code></pre></div></li>
<li><p><strong>Using a <code>.env</code> file:</strong></p>
<p>We can also create a <code>.env</code> file in the same folder as our
<code>docker-compose.yml</code>. Docker Compose will load the variables
from this file.</p>
<p><strong><code>.env</code> file:</strong></p>
<pre><code>NODE_ENV=production
API_URL=http://api.example.com</code></pre>
<p><strong><code>docker-compose.yml</code>:</strong></p>
<div class="sourceCode" id="cb13"><pre
class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">version</span><span class="kw">:</span><span class="at"> </span><span class="st">&#39;3.8&#39;</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="fu">services</span><span class="kw">:</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">web</span><span class="kw">:</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">image</span><span class="kw">:</span><span class="at"> nginx</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">environment</span><span class="kw">:</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> NODE_ENV</span></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> API_URL</span></span></code></pre></div></li>
<li><p><strong>Using the <code>env_file</code> option:</strong></p>
<p>We can specify an external file for environment variables using the
<code>env_file</code> option.</p>
<p><strong><code>docker-compose.yml</code>:</strong></p>
<div class="sourceCode" id="cb14"><pre
class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">version</span><span class="kw">:</span><span class="at"> </span><span class="st">&#39;3.8&#39;</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="fu">services</span><span class="kw">:</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">web</span><span class="kw">:</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">image</span><span class="kw">:</span><span class="at"> nginx</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">env_file</span><span class="kw">:</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> .env</span></span></code></pre></div></li>
<li><p><strong>Runtime Variables:</strong></p>
<p>We can change environment variables at runtime when we start our
Docker Compose app using the command line:</p>
<div class="sourceCode" id="cb15"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="va">NODE_ENV</span><span class="op">=</span>production <span class="va">API_URL</span><span class="op">=</span>http://api.example.com <span class="ex">docker-compose</span> up</span></code></pre></div></li>
</ol>
<p>This way allows us to manage the configuration in our Docker
containers. It makes it easier to deploy apps in different environments.
For more details about Docker Compose and what it can do, we can check
the <a
href="https://bestonlinetutorial.com/docker/what-is-docker-compose-and-how-does-it-simplify-multi-container-applications.html">Docker
Compose documentation</a>.</p>
<h2
id="how-can-i-pass-environment-variables-to-docker-containers-using-an-env-file">How
Can I Pass Environment Variables to Docker Containers Using an Env
File</h2>
<p>To pass environment variables to Docker containers using an
<code>.env</code> file, we can follow these steps:</p>
<ol type="1">
<li><p><strong>Create the <code>.env</code> File</strong>: First, we
need to make a file called <code>.env</code> in our project folder. In
this file, we write our environment variables like this:
<code>KEY=VALUE</code>. For example:</p>
<pre class="plaintext"><code>DATABASE_URL=mysql://user:password@host:port/dbname
API_KEY=your_api_key</code></pre></li>
<li><p><strong>Using the <code>.env</code> File in Docker Run</strong>:
When we run a Docker container, we can use the <code>--env-file</code>
option to tell Docker to use our env file. Here is how we do it:</p>
<div class="sourceCode" id="cb17"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> run <span class="at">--env-file</span> .env your_image_name</span></code></pre></div></li>
<li><p><strong>Using the <code>.env</code> File in Docker
Compose</strong>: If we use Docker Compose, we can add the
<code>.env</code> file in the <code>docker-compose.yml</code> file.
Docker Compose will read the <code>.env</code> file from the current
folder automatically. Here is an example:</p>
<div class="sourceCode" id="cb18"><pre
class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">version</span><span class="kw">:</span><span class="at"> </span><span class="st">&#39;3&#39;</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="fu">services</span><span class="kw">:</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">app</span><span class="kw">:</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">image</span><span class="kw">:</span><span class="at"> your_image_name</span></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">env_file</span><span class="kw">:</span></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> .env</span></span></code></pre></div></li>
<li><p><strong>Accessing Environment Variables</strong>: Inside the
container, we can get the environment variables just like we do in our
application. We can use our programming languageâ€™s methods or libraries
to access them.</p></li>
</ol>
<p>By using an <code>.env</code> file, we can easily manage and pass
many environment variables to our Docker containers. This helps us with
our applicationâ€™s configuration management. For more details about
Docker, we can check <a
href="https://bestonlinetutorial.com/docker/what-is-docker-and-why-should-you-use-it.html">what
is Docker and why should you use it</a>.</p>
<h2
id="how-can-we-pass-environment-variables-to-docker-containers-using-runtime-variables">How
Can We Pass Environment Variables to Docker Containers Using Runtime
Variables</h2>
<p>We can pass environment variables to Docker containers when we run
them. We use the <code>-e</code> or <code>--env</code> option with the
<code>docker run</code> command. This helps us define environment
variables right from the command line when starting a container.</p>
<h3 id="example-1">Example</h3>
<div class="sourceCode" id="cb19"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> run <span class="at">-e</span> MY_ENV_VAR=my_value my_image</span></code></pre></div>
<p>In this example, we set <code>MY_ENV_VAR</code> to
<code>my_value</code> inside the container created from
<code>my_image</code>.</p>
<h3 id="multiple-environment-variables">Multiple Environment
Variables</h3>
<p>We can also pass many environment variables by using the
<code>-e</code> option more than once:</p>
<div class="sourceCode" id="cb20"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> run <span class="at">-e</span> VAR1=value1 <span class="at">-e</span> VAR2=value2 my_image</span></code></pre></div>
<h3 id="using-environment-variable-from-host">Using Environment Variable
from Host</h3>
<p>We can use existing environment variables from our host system by
referencing them:</p>
<div class="sourceCode" id="cb21"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> run <span class="at">-e</span> MY_ENV_VAR=<span class="va">${HOST_VAR}</span> my_image</span></code></pre></div>
<p>If <code>HOST_VAR</code> is set in our hostâ€™s environment, its value
goes to <code>MY_ENV_VAR</code> in the container.</p>
<h3 id="environment-variables-with-docker-compose">Environment Variables
with Docker Compose</h3>
<p>When we use Docker Compose, we can pass runtime variables directly in
the <code>docker-compose.yml</code> file:</p>
<div class="sourceCode" id="cb22"><pre
class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">version</span><span class="kw">:</span><span class="at"> </span><span class="st">&#39;3&#39;</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="fu">services</span><span class="kw">:</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">my_service</span><span class="kw">:</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">image</span><span class="kw">:</span><span class="at"> my_image</span></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">environment</span><span class="kw">:</span></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> MY_ENV_VAR=my_value</span></span></code></pre></div>
<p>This makes it easier to manage environment variables for many
services.</p>
<h3 id="summary">Summary</h3>
<p>Using runtime variables with the <code>docker run</code> command is a
simple way to pass environment settings to Docker containers. We do not
need to change Dockerfiles or Compose files. For more details about
Docker usage, we can check <a
href="https://bestonlinetutorial.com/docker/how-to-use-docker-in-a-microservices-architecture.html">this
article on Docker environment variables</a>.</p>
<h2 id="frequently-asked-questions">Frequently Asked Questions</h2>
<h3 id="how-do-we-set-environment-variables-in-a-docker-container">1.
How do we set environment variables in a Docker container?</h3>
<p>We can set environment variables in a Docker container in different
ways. We can use command line options, Dockerfiles, Docker Compose, or
.env files. For example, when using the Docker command line, we can use
the <code>-e</code> flag with <code>KEY=VALUE</code> when we run a
container. This helps us pass settings and secrets easily.</p>
<h3
id="can-we-use-an-env-file-to-pass-environment-variables-to-docker">2.
Can we use an env file to pass environment variables to Docker?</h3>
<p>Yes, we can use an .env file to send environment variables to Docker
containers. The <code>.env</code> file should have key-value pairs like
<code>KEY=VALUE</code>. When we use Docker Compose, we can mention the
<code>.env</code> file in our <code>docker-compose.yml</code>. This
helps us manage our environment variables better and keep private data
safe.</p>
<h3
id="what-is-the-difference-between-passing-environment-variables-in-docker-and-docker-compose">3.
What is the difference between passing environment variables in Docker
and Docker Compose?</h3>
<p>Passing environment variables in Docker means using command line
flags or Dockerfiles. Docker Compose gives us a more organized way to do
this with a <code>docker-compose.yml</code> file. Docker Compose can
also use .env files. This makes it easier to manage many containers and
their settings all in one place.</p>
<h3
id="how-can-we-access-environment-variables-inside-a-running-docker-container">4.
How can we access environment variables inside a running Docker
container?</h3>
<p>We can access environment variables inside a running Docker container
by using the <code>printenv</code> or <code>echo</code> command in the
terminal. For example, we can run
<code>docker exec -it &lt;container_name&gt; /bin/sh -c 'echo $MY_VARIABLE'</code>
to see the value of a specific environment variable.</p>
<h3
id="are-there-any-security-issues-when-using-environment-variables-in-docker">5.
Are there any security issues when using environment variables in
Docker?</h3>
<p>Yes, we need to think about security when we use environment
variables in Docker. Sensitive information like API keys or passwords
must be handled carefully. It is best to use Docker secrets for
sensitive data, especially in production. We should also avoid putting
sensitive information directly in Dockerfiles or files that we
share.</p>
<p>For more details on Docker and related topics, we can check articles
like <a
href="https://bestonlinetutorial.com/docker/what-is-docker-and-why-should-you-use-it.html">What
is Docker and Why Should You Use It?</a> and <a
href="https://bestonlinetutorial.com/docker/what-are-the-benefits-of-using-docker-in-development.html">What
are the Benefits of Using Docker in Development?</a>.</p>

                        </div>

                    </div>
                    <!--//container-->
                </article>

            </div>
            <!--//main-wrapper-->

            <div id="footer-placeholder"></div>

            <!-- Javascript -->
            <script src="/assets/plugins/popper.min.js" defer></script>
            <script src="/assets/plugins/bootstrap/js/bootstrap.min.js" defer></script>
            <script src="/assets/fontawesome/js/all.min.js" defer></script>
        </body>

        </html>
            
            