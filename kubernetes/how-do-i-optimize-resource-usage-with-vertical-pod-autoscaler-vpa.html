
    
            <!DOCTYPE html>
        <html lang="en">

        <head>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-TFCQEJR7TD"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-TFCQEJR7TD');
</script>
            <title>How Do I Optimize Resource Usage with Vertical Pod Autoscaler (VPA)?</title>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Common CSS & Icons -->
<link rel="icon" href="/favicon.ico" type="image/x-icon">
<link rel="stylesheet" href="/assets/plugins/highlight/styles/monokai-sublime.css">
<link id="theme-style" rel="stylesheet" href="/assets/css/theme-8.css">
<link rel="stylesheet" href="/assets/css/post.css">
            <meta name="description" content="Learn how to optimize resource usage with Vertical Pod Autoscaler (VPA) in Kubernetes for efficient application performance.">

            <div id="head-placeholder"></div>
            <script src="/assets/js/blog.js" defer></script>
            <link rel="stylesheet" href="/assets/css/post.css">
        </head>

        <body>

            <div id="header-placeholder"></div>

            <div class="main-wrapper">

                <article class="blog-post px-3 py-5 p-md-5">
                    <div class="container single-col-max-width">
                        <header class="blog-post-header">
                            <h1 class="title mb-2">How Do I Optimize Resource Usage with Vertical Pod Autoscaler (VPA)?</h1>
                        </header>

                        <div class="blog-post-body">
                            <p>The Vertical Pod Autoscaler (VPA) is a part of Kubernetes. It
automatically changes the resource requests and limits for the
containers in our pods. It does this based on how much we use and past
data. VPA keeps an eye on how much resources our applications use. It
helps us make sure our apps have the right amount of resources. This
way, we can improve performance and use resources better in a Kubernetes
cluster.</p>
<p>In this article, we will look at how to use the Vertical Pod
Autoscaler to improve resource usage. We will cover how to install and
set up VPA for our applications. We will also talk about how to monitor
it, its benefits, real-life examples, tips for solving issues, and best
practices for using it well. Here are the main topics we will cover:</p>
<ul>
<li>How Can I Optimize Resource Usage with Vertical Pod Autoscaler
(VPA)?</li>
<li>What is Vertical Pod Autoscaler and How Does it Work?</li>
<li>How to Install Vertical Pod Autoscaler?</li>
<li>How Do I Configure Vertical Pod Autoscaler for My Application?</li>
<li>How Can I Monitor Resource Usage with Vertical Pod Autoscaler?</li>
<li>What are the Benefits of Using Vertical Pod Autoscaler?</li>
<li>Can You Provide Real Life Use Cases for Vertical Pod
Autoscaler?</li>
<li>How to Troubleshoot Vertical Pod Autoscaler Issues?</li>
<li>What are Best Practices for Using Vertical Pod Autoscaler?</li>
<li>Frequently Asked Questions</li>
</ul>
<p>For more reading about Kubernetes, you might like these articles: <a
href="https://bestonlinetutorial.com/kubernetes/what-is-kubernetes-and-how-does-it-simplify-container-management.html">What
is Kubernetes and How Does it Simplify Container Management?</a> and <a
href="https://bestonlinetutorial.com/kubernetes/how-do-i-monitor-my-kubernetes-cluster.html">How
Do I Monitor My Kubernetes Cluster?</a>.</p>
<h2 id="what-is-vertical-pod-autoscaler-and-how-does-it-work">What is
Vertical Pod Autoscaler and How Does it Work?</h2>
<p>The Vertical Pod Autoscaler (VPA) is part of Kubernetes. It
automatically changes the resource requests and limits for your pods. It
helps us use resources better. It does this by watching how much
resources our containers actually use. Then it suggests or makes changes
to their resource settings based on what it sees.</p>
<h3 id="how-vpa-works">How VPA Works</h3>
<ol type="1">
<li><strong>Monitoring Usage</strong>: VPA looks at CPU and memory usage
from the pods over time.</li>
<li><strong>Recommendations</strong>: VPA gives us advice on how to
change resource requests and limits for each pod based on the usage
data.</li>
<li><strong>Automatic Updates</strong>: We can set up VPA to
automatically change the resource requests and limits for running pods.
It can restart them with new settings or create new ones with updated
settings.</li>
</ol>
<h3 id="vpa-components">VPA Components</h3>
<ul>
<li><strong>VPA Controller</strong>: This part runs in our cluster. It
watches the pods, gathers metrics, and changes their resource requests
and limits based on a set policy.</li>
<li><strong>VPA Admission Controller</strong>: This part stops pod
creation requests. It changes the resource requests based on what VPA
recommends.</li>
</ul>
<h3 id="installation-example">Installation Example</h3>
<p>To install VPA, we can use these commands:</p>
<div class="sourceCode" id="cb1"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> apply <span class="at">-f</span> https://raw.githubusercontent.com/kubernetes/autoscaler/master/vertical-pod-autoscaler/deploy/vpa-namespace.yaml</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> apply <span class="at">-f</span> https://raw.githubusercontent.com/kubernetes/autoscaler/master/vertical-pod-autoscaler/deploy/vpa-rbac.yaml</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> apply <span class="at">-f</span> https://raw.githubusercontent.com/kubernetes/autoscaler/master/vertical-pod-autoscaler/deploy/vpa-controller.yaml</span></code></pre></div>
<h3 id="key-features">Key Features</h3>
<ul>
<li><strong>Dynamic Scaling</strong>: It changes resources automatically
as workloads change. This helps us use resources well.</li>
<li><strong>Customizable Policies</strong>: It has different operation
modes like “Off”, “Auto”, or “Recommend”. This helps us make it fit our
needs.</li>
<li><strong>Integration with Metrics Server</strong>: It needs a metrics
server to get real-time data on resource usage.</li>
</ul>
<p>For more information about Kubernetes and its parts, we can check out
<a
href="https://bestonlinetutorial.com/kubernetes/what-are-the-key-components-of-a-kubernetes-cluster.html">What
are the Key Components of a Kubernetes Cluster?</a>.</p>
<h2 id="how-to-install-vertical-pod-autoscaler">How to Install Vertical
Pod Autoscaler?</h2>
<p>To install the Vertical Pod Autoscaler (VPA) in our Kubernetes
cluster, we can follow these steps.</p>
<ol type="1">
<li><p><strong>Prerequisites</strong>: First, we need a running
Kubernetes cluster. We can create one using <a
href="https://bestonlinetutorial.com/kubernetes/how-do-i-install-minikube-for-local-kubernetes-development.html">Minikube</a>
or use any cloud provider we like.</p></li>
<li><p><strong>Install Custom Resource Definitions (CRDs)</strong>: VPA
needs custom resources to work. We need to apply the needed CRDs by
running this command:</p>
<div class="sourceCode" id="cb2"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> apply <span class="at">-f</span> https://raw.githubusercontent.com/kubernetes/autoscaler/master/vertical-pod-autoscaler/config/v1.25.0/vpa-crd.yaml</span></code></pre></div></li>
<li><p><strong>Deploy VPA Components</strong>: VPA has different
components that we must deploy. We can use this command to do that:</p>
<div class="sourceCode" id="cb3"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> apply <span class="at">-f</span> https://raw.githubusercontent.com/kubernetes/autoscaler/master/vertical-pod-autoscaler/deploy/vpa-operator.yaml</span></code></pre></div></li>
<li><p><strong>Verify Installation</strong>: We should check if the VPA
components are working well. We can use this command:</p>
<div class="sourceCode" id="cb4"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> get pods <span class="at">-n</span> kube-system <span class="kw">|</span> <span class="fu">grep</span> vpa</span></code></pre></div>
<p>We should see pods related to VPA in the output.</p></li>
<li><p><strong>Install VPA in Your Namespace</strong>: Now we need to
create a VPA object for our deployment. Below is an example
configuration for a VPA:</p>
<div class="sourceCode" id="cb5"><pre
class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">apiVersion</span><span class="kw">:</span><span class="at"> autoscaling.k8s.io/v1</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="fu">kind</span><span class="kw">:</span><span class="at"> VerticalPodAutoscaler</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="fu">metadata</span><span class="kw">:</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">name</span><span class="kw">:</span><span class="at"> my-app-vpa</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">namespace</span><span class="kw">:</span><span class="at"> default</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="fu">spec</span><span class="kw">:</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">targetRef</span><span class="kw">:</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">apiVersion</span><span class="kw">:</span><span class="at"> apps/v1</span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">kind</span><span class="kw">:</span><span class="at"> Deployment</span></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">name</span><span class="kw">:</span><span class="at"> my-app</span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">updatePolicy</span><span class="kw">:</span></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">updateMode</span><span class="kw">:</span><span class="at"> Auto</span></span></code></pre></div>
<p>We can save this YAML to a file called <code>vpa.yaml</code> and
apply it like this:</p>
<div class="sourceCode" id="cb6"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> apply <span class="at">-f</span> vpa.yaml</span></code></pre></div></li>
<li><p><strong>Monitor VPA</strong>: Finally, we can check the status of
the VPA with this command:</p>
<div class="sourceCode" id="cb7"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> describe vpa my-app-vpa</span></code></pre></div></li>
</ol>
<p>This will give us information about the suggestions made by the VPA
for resource limits and requests for our application.</p>
<h2
id="how-do-we-configure-vertical-pod-autoscaler-for-our-application">How
Do We Configure Vertical Pod Autoscaler for Our Application?</h2>
<p>To configure the Vertical Pod Autoscaler (VPA) for our application,
we can follow these simple steps. This will help us manage resources
better.</p>
<ol type="1">
<li><p><strong>Install VPA</strong>: First, we need to install the
Vertical Pod Autoscaler in our Kubernetes cluster. We can do this with
the following commands:</p>
<div class="sourceCode" id="cb8"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> apply <span class="at">-f</span> https://raw.githubusercontent.com/kubernetes/autoscaler/master/vertical-pod-autoscaler/deploy/vpa-namespace.yaml</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> apply <span class="at">-f</span> https://raw.githubusercontent.com/kubernetes/autoscaler/master/vertical-pod-autoscaler/deploy/vpa-rbac.yaml</span></code></pre></div></li>
<li><p><strong>Create a VPA Object</strong>: Next, we need to define a
VPA custom resource. This resource will specify which deployment we want
to target and what resource recommendations we need. Here is an example
of YAML configuration:</p>
<div class="sourceCode" id="cb9"><pre
class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">apiVersion</span><span class="kw">:</span><span class="at"> autoscaling.k8s.io/v1</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="fu">kind</span><span class="kw">:</span><span class="at"> VerticalPodAutoscaler</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="fu">metadata</span><span class="kw">:</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">name</span><span class="kw">:</span><span class="at"> my-app-vpa</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">namespace</span><span class="kw">:</span><span class="at"> default</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a><span class="fu">spec</span><span class="kw">:</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">targetRef</span><span class="kw">:</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">apiVersion</span><span class="kw">:</span><span class="at"> apps/v1</span></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">kind</span><span class="kw">:</span><span class="at"> Deployment</span></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">name</span><span class="kw">:</span><span class="at"> my-app</span></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">updatePolicy</span><span class="kw">:</span></span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">updateMode</span><span class="kw">:</span><span class="at"> </span><span class="st">&quot;Auto&quot;</span><span class="co">  # Options: &quot;Off&quot;, &quot;Initial&quot;, &quot;Auto&quot;</span></span></code></pre></div>
<p>We should save this in a file called <code>vpa.yaml</code> and apply
it with:</p>
<div class="sourceCode" id="cb10"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> apply <span class="at">-f</span> vpa.yaml</span></code></pre></div></li>
<li><p><strong>Monitor VPA Recommendations</strong>: After we deploy,
VPA will watch the resource use of the pods and give us recommendations.
We can see these recommendations by using this command:</p>
<div class="sourceCode" id="cb11"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> get vpa my-app-vpa <span class="at">-o</span> yaml</span></code></pre></div></li>
<li><p><strong>Adjust Resource Requests and Limits</strong>: Based on
the VPA recommendations, we can change the resource requests and limits
in our deployment configuration. Here is an example:</p>
<div class="sourceCode" id="cb12"><pre
class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">apiVersion</span><span class="kw">:</span><span class="at"> apps/v1</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="fu">kind</span><span class="kw">:</span><span class="at"> Deployment</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="fu">metadata</span><span class="kw">:</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">name</span><span class="kw">:</span><span class="at"> my-app</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">namespace</span><span class="kw">:</span><span class="at"> default</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a><span class="fu">spec</span><span class="kw">:</span></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">replicas</span><span class="kw">:</span><span class="at"> </span><span class="dv">2</span></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">selector</span><span class="kw">:</span></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">matchLabels</span><span class="kw">:</span></span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">app</span><span class="kw">:</span><span class="at"> my-app</span></span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">template</span><span class="kw">:</span></span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">metadata</span><span class="kw">:</span></span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">labels</span><span class="kw">:</span></span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="fu">app</span><span class="kw">:</span><span class="at"> my-app</span></span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">spec</span><span class="kw">:</span></span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">containers</span><span class="kw">:</span></span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> my-app-container</span></span>
<span id="cb12-18"><a href="#cb12-18" aria-hidden="true" tabindex="-1"></a><span class="at">          </span><span class="fu">image</span><span class="kw">:</span><span class="at"> my-app-image:latest</span></span>
<span id="cb12-19"><a href="#cb12-19" aria-hidden="true" tabindex="-1"></a><span class="at">          </span><span class="fu">resources</span><span class="kw">:</span></span>
<span id="cb12-20"><a href="#cb12-20" aria-hidden="true" tabindex="-1"></a><span class="at">            </span><span class="fu">requests</span><span class="kw">:</span></span>
<span id="cb12-21"><a href="#cb12-21" aria-hidden="true" tabindex="-1"></a><span class="at">              </span><span class="fu">memory</span><span class="kw">:</span><span class="at"> </span><span class="st">&quot;512Mi&quot;</span><span class="co">  # Change based on VPA recommendations</span></span>
<span id="cb12-22"><a href="#cb12-22" aria-hidden="true" tabindex="-1"></a><span class="at">              </span><span class="fu">cpu</span><span class="kw">:</span><span class="at"> </span><span class="st">&quot;250m&quot;</span><span class="co">      # Change based on VPA recommendations</span></span>
<span id="cb12-23"><a href="#cb12-23" aria-hidden="true" tabindex="-1"></a><span class="at">            </span><span class="fu">limits</span><span class="kw">:</span></span>
<span id="cb12-24"><a href="#cb12-24" aria-hidden="true" tabindex="-1"></a><span class="at">              </span><span class="fu">memory</span><span class="kw">:</span><span class="at"> </span><span class="st">&quot;1Gi&quot;</span></span>
<span id="cb12-25"><a href="#cb12-25" aria-hidden="true" tabindex="-1"></a><span class="at">              </span><span class="fu">cpu</span><span class="kw">:</span><span class="at"> </span><span class="st">&quot;500m&quot;</span></span></code></pre></div>
<p>We apply the updated deployment with:</p>
<div class="sourceCode" id="cb13"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> apply <span class="at">-f</span> deployment.yaml</span></code></pre></div></li>
<li><p><strong>Verify Configuration</strong>: After we set up the VPA
and update the deployment, we should check our pods to make sure they
run with the recommended resource settings:</p>
<div class="sourceCode" id="cb14"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> get pods <span class="at">-o</span> wide</span></code></pre></div></li>
<li><p><strong>Testing and Iteration</strong>: We need to keep an eye on
our application’s performance. We can adjust the VPA settings to better
allocate resources based on the real usage data.</p></li>
</ol>
<p>By following these steps, we can set up the Vertical Pod Autoscaler
for our application. This will help us use resources better and improve
our application performance. For more details on Kubernetes resource
management, we can check <a
href="https://bestonlinetutorial.com/kubernetes/what-are-kubernetes-pods-and-how-do-i-work-with-them.html">what
are Kubernetes pods and how do I work with them</a>.</p>
<h2
id="how-can-we-monitor-resource-usage-with-vertical-pod-autoscaler-vpa">How
Can We Monitor Resource Usage with Vertical Pod Autoscaler (VPA)?</h2>
<p>We can monitor resource usage with the Vertical Pod Autoscaler (VPA)
by using Kubernetes metrics and some tools. This helps us make sure our
applications use resources well. Here are the steps and tools we can
use:</p>
<ol type="1">
<li><p><strong>Enable Metrics Server</strong>: The VPA needs the
Kubernetes Metrics Server to get resource usage data. We should check
that it is installed and running in our cluster.</p>
<div class="sourceCode" id="cb15"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> apply <span class="at">-f</span> https://github.com/kubernetes-sigs/metrics-server/releases/latest/download/components.yaml</span></code></pre></div></li>
<li><p><strong>Using <code>kubectl</code> to Check Resource
Usage</strong>: We can use the <code>kubectl top</code> command to see
CPU and memory usage of pods.</p>
<div class="sourceCode" id="cb16"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> top pods <span class="at">--namespace</span> your-namespace</span></code></pre></div></li>
<li><p><strong>Check VPA Status</strong>: We should check the status of
our VPA to see what resource requests it recommends. We can use this
command:</p>
<div class="sourceCode" id="cb17"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> get vpa your-vpa-name <span class="at">-n</span> your-namespace</span></code></pre></div>
<p>This command gives us details on the current and suggested resource
requests.</p></li>
<li><p><strong>Prometheus and Grafana</strong>: For better monitoring,
we can use Prometheus and Grafana. We set up Prometheus to collect
metrics from our Kubernetes cluster and show them in Grafana.</p>
<ul>
<li><p>Install Prometheus:</p>
<div class="sourceCode" id="cb18"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> apply <span class="at">-f</span> https://raw.githubusercontent.com/coreos/prometheus-operator/master/bundle.yaml</span></code></pre></div></li>
<li><p>We then configure Grafana to display the resource metrics that
Prometheus collects.</p></li>
</ul></li>
<li><p><strong>Vertical Pod Autoscaler Dashboard</strong>: If we have
VPA with the Kubernetes Dashboard, we can see the resource usage right
from the dashboard.</p></li>
<li><p><strong>Logging and Alerts</strong>: We should set up logging for
our applications with tools like Fluentd or ELK stack. We can also set
alerts based on limits to tell us when resource use is too
high.</p></li>
<li><p><strong>Custom Metrics</strong>: If our application needs special
metrics, we can use the Prometheus client library to show custom metrics
and set up VPA to use these metrics.</p></li>
</ol>
<p>By using these monitoring steps, we can keep track of resource usage
with VPA. This helps us make sure our applications run well and use
resources properly. For more tips on managing our Kubernetes
applications, we can check <a
href="https://bestonlinetutorial.com/kubernetes/how-do-i-monitor-my-kubernetes-cluster.html">How
Do I Monitor My Kubernetes Cluster?</a>.</p>
<h2 id="what-are-the-benefits-of-using-vertical-pod-autoscaler">What are
the Benefits of Using Vertical Pod Autoscaler?</h2>
<p>We can see that the Vertical Pod Autoscaler (VPA) has many benefits
for using resources better in Kubernetes apps. Here are the main
benefits of using VPA:</p>
<ol type="1">
<li><p><strong>Resource Optimization</strong>: VPA changes the resource
requests and limits for your pods. It does this based on how much
resources they really use. This way, your apps get the resources they
need. It also stops giving them too many resources which can waste
them.</p></li>
<li><p><strong>Improved Performance</strong>: When pods have enough
resources, VPA helps your apps run better. This means less delay and
faster response times.</p></li>
<li><p><strong>Dynamic Adaptation</strong>: VPA watches the resource use
of pods all the time. It can change things in real-time. This helps apps
handle different loads without us having to do it by hand.</p></li>
<li><p><strong>Reduced Costs</strong>: By managing resources well, VPA
can lower cloud costs. It does this by stopping the waste from giving
too many resources. This makes our deployments cheaper.</p></li>
<li><p><strong>Integration with Kubernetes</strong>: VPA works well with
Kubernetes. It fits nicely with other Kubernetes tools like Horizontal
Pod Autoscaler (HPA). This gives us a better autoscaling plan that mixes
vertical and horizontal scaling.</p></li>
<li><p><strong>Ease of Use</strong>: VPA makes resource management
easier. This lets developers focus on making apps instead of worrying
about resources. With this simplicity, we can deploy faster.</p></li>
<li><p><strong>Reduced Downtime</strong>: VPA changes resources
automatically. This means it is less likely that resource problems will
make pods restart or cause app downtime. This helps our apps be more
available and reliable.</p></li>
<li><p><strong>Use Case Versatility</strong>: VPA can work for many
types of workloads. It is good for stateful apps, batch jobs, and
microservices. This flexibility means we can use it for different kinds
of apps in Kubernetes.</p></li>
</ol>
<p>By using the Vertical Pod Autoscaler, we can make our Kubernetes
resource management better. It helps our app performance and makes our
cloud costs lower. For more information on Kubernetes resource
management, you can check out <a
href="https://bestonlinetutorial.com/kubernetes/why-should-i-use-kubernetes-for-my-applications.html">this
article on why to use Kubernetes for applications</a>.</p>
<h2
id="can-we-provide-real-life-use-cases-for-vertical-pod-autoscaler">Can
We Provide Real Life Use Cases for Vertical Pod Autoscaler?</h2>
<p>Vertical Pod Autoscaler (VPA) is very helpful in many cases where we
need to optimize resources. Here are some real-life examples of using
VPA in Kubernetes:</p>
<ol type="1">
<li><p><strong>Machine Learning Workloads</strong>:<br />
When we train machine learning models, we often need different CPU and
memory. This depends on the dataset size and how complex the model is.
VPA can change resources based on what we need at the moment. This way,
we use resources well and save money.</p>
<div class="sourceCode" id="cb19"><pre
class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">apiVersion</span><span class="kw">:</span><span class="at"> autoscaling.k8s.io/v1</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="fu">kind</span><span class="kw">:</span><span class="at"> VerticalPodAutoscaler</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a><span class="fu">metadata</span><span class="kw">:</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">name</span><span class="kw">:</span><span class="at"> ml-model</span></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a><span class="fu">spec</span><span class="kw">:</span></span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">targetRef</span><span class="kw">:</span></span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">apiVersion</span><span class="kw">:</span><span class="at"> apps/v1</span></span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">kind</span><span class="kw">:</span><span class="at"> Deployment</span></span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">name</span><span class="kw">:</span><span class="at"> ml-model-deployment</span></span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">updatePolicy</span><span class="kw">:</span></span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">updateMode</span><span class="kw">:</span><span class="at"> </span><span class="st">&quot;Auto&quot;</span></span></code></pre></div></li>
<li><p><strong>Web Applications with Variable Load</strong>:<br />
E-commerce sites often have changing traffic, especially during sales.
VPA can automatically change resource limits for backend services. It
does this based on real-time usage, so we keep performance high without
using too many resources.</p></li>
<li><p><strong>Batch Processing Jobs</strong>:<br />
In cases where we run batch jobs, like data processing or ETL tasks, VPA
can help us optimize resource use. It looks at how long jobs take and
adjusts resources. This helps us use cluster resources
efficiently.</p></li>
<li><p><strong>Microservices Architecture</strong>:<br />
In a microservices setup, different services need different resources.
VPA allows us to set resource requests based on past usage. This way,
each service can scale properly without us having to do it
manually.</p></li>
<li><p><strong>Development and Testing Environments</strong>:<br />
In development, applications may not need as many resources as in
production. VPA can help us change resources in dev/test environments
based on what we actually use. This leads to better resource
management.</p></li>
<li><p><strong>CI/CD Pipelines</strong>:<br />
Continuous Integration/Continuous Deployment processes can also use VPA.
It adjusts resource limits based on how complex builds and tests are.
This way, we optimize resource use during busy times.</p></li>
<li><p><strong>Serverless Frameworks</strong>:<br />
In serverless setups, applications scale with demand. VPA can work with
horizontal scaling to fine-tune the vertical resources for running pods.
This helps us stay responsive and save costs.</p></li>
<li><p><strong>Stateless Applications</strong>:<br />
For stateless applications, load can change a lot. VPA can adjust
resource requests automatically. This ensures good performance during
busy times and avoids wasting resources when it is quiet.</p></li>
</ol>
<p>Using VPA can really help us improve resource use and lower
operational costs in many Kubernetes workloads. For more detailed
information about Kubernetes resource management, we can check out <a
href="https://bestonlinetutorial.com/kubernetes/what-are-the-key-components-of-a-kubernetes-cluster.html">this
article</a>.</p>
<h2 id="how-to-troubleshoot-vertical-pod-autoscaler-issues">How to
Troubleshoot Vertical Pod Autoscaler Issues?</h2>
<p>When we use the Vertical Pod Autoscaler (VPA), we may face some
problems that can change how it works and how well it uses resources.
Here are some simple steps and tips to fix common VPA issues:</p>
<ol type="1">
<li><p><strong>Check VPA Events</strong>: First, we should check the
events related to the VPA. This helps us find any warnings or errors. We
can use this command:</p>
<div class="sourceCode" id="cb20"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> describe vpa <span class="op">&lt;</span>vpa-name<span class="op">&gt;</span></span></code></pre></div></li>
<li><p><strong>Review VPA Status</strong>: Next, we need to look at the
VPA status. This tells us if it is working correctly. We can check it
with this command:</p>
<div class="sourceCode" id="cb21"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> get vpa <span class="op">&lt;</span>vpa-name<span class="op">&gt;</span> -o yaml</span></code></pre></div></li>
<li><p><strong>Inspect Pod Resource Requests and Limits</strong>: We
must make sure our pods have set resource requests and limits. VPA needs
this information to give good recommendations. We can check it
using:</p>
<div class="sourceCode" id="cb22"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> get pod <span class="op">&lt;</span>pod-name<span class="op">&gt;</span> -o yaml</span></code></pre></div></li>
<li><p><strong>Check for Conflicting Configurations</strong>: We need to
check that there are no conflicting settings with other autoscalers like
Horizontal Pod Autoscaler. These can change how VPA works.</p></li>
<li><p><strong>Monitor VPA Recommendations</strong>: We should see the
VPA recommendations to make sure they are applied correctly. Use this
command:</p>
<div class="sourceCode" id="cb23"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> get vpa <span class="op">&lt;</span>vpa-name<span class="op">&gt;</span> -o jsonpath=<span class="st">&#39;{.status.recommendation}&#39;</span></span></code></pre></div></li>
<li><p><strong>Examine VPA Controller Logs</strong>: Next, we can look
at the logs of the VPA controller. This can show us any errors or
warnings. We can check the logs with:</p>
<div class="sourceCode" id="cb24"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> logs <span class="at">-l</span> app=vpa-operator</span></code></pre></div></li>
<li><p><strong>Check Metrics Server</strong>: It is important to ensure
that the metrics server is running and collecting data. VPA needs
metrics to decide on resource use. We can check this by running:</p>
<div class="sourceCode" id="cb25"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> get deployment metrics-server <span class="at">-n</span> kube-system</span></code></pre></div></li>
<li><p><strong>Resource Quotas and Limits</strong>: We also need to make
sure that the namespaces where we use VPA do not have strict resource
quotas. These quotas can stop VPA from changing resources.</p></li>
<li><p><strong>Version Compatibility</strong>: Let’s check if the VPA
version works with our Kubernetes version. We can look at the <a
href="https://github.com/kubernetes/autoscaler/tree/master/vertical-pod-autoscaler">VPA
GitHub repository</a> for this information.</p></li>
<li><p><strong>Review Documentation</strong>: Finally, we should read
the official <a
href="https://github.com/kubernetes/autoscaler/tree/master/vertical-pod-autoscaler">Vertical
Pod Autoscaler documentation</a> for updates, best practices, and more
troubleshooting tips.</p></li>
</ol>
<p>By following these steps, we can solve issues with the Vertical Pod
Autoscaler. This helps us use resources better for our applications.</p>
<h2 id="what-are-best-practices-for-using-vertical-pod-autoscaler">What
are Best Practices for Using Vertical Pod Autoscaler?</h2>
<p>When we use the Vertical Pod Autoscaler (VPA) in Kubernetes, we want
to make sure we manage pod resources well. Following some best practices
can help us do that.</p>
<ol type="1">
<li><p><strong>Set Resource Requests and Limits</strong>: We should
always set requests and limits in our pod specs. This way, VPA can make
good choices about scaling.</p>
<div class="sourceCode" id="cb26"><pre
class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">apiVersion</span><span class="kw">:</span><span class="at"> v1</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="fu">kind</span><span class="kw">:</span><span class="at"> Pod</span></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a><span class="fu">metadata</span><span class="kw">:</span></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">name</span><span class="kw">:</span><span class="at"> example-pod</span></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a><span class="fu">spec</span><span class="kw">:</span></span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">containers</span><span class="kw">:</span></span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> example-container</span></span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">image</span><span class="kw">:</span><span class="at"> example-image</span></span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">resources</span><span class="kw">:</span></span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">requests</span><span class="kw">:</span></span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="fu">cpu</span><span class="kw">:</span><span class="at"> </span><span class="st">&quot;100m&quot;</span></span>
<span id="cb26-12"><a href="#cb26-12" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="fu">memory</span><span class="kw">:</span><span class="at"> </span><span class="st">&quot;200Mi&quot;</span></span>
<span id="cb26-13"><a href="#cb26-13" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">limits</span><span class="kw">:</span></span>
<span id="cb26-14"><a href="#cb26-14" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="fu">cpu</span><span class="kw">:</span><span class="at"> </span><span class="st">&quot;500m&quot;</span></span>
<span id="cb26-15"><a href="#cb26-15" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="fu">memory</span><span class="kw">:</span><span class="at"> </span><span class="st">&quot;1Gi&quot;</span></span></code></pre></div></li>
<li><p><strong>Use VPA Modes Correctly</strong>: We can pick between
<code>Off</code>, <code>Auto</code>, or <code>Initial</code> mode based
on what our workload needs. For production workloads, <code>Auto</code>
is usually the best choice. It lets VPA change resources as
needed.</p></li>
<li><p><strong>Monitor Resource Usage</strong>: We should use tools like
Prometheus or Grafana. They help us see how resources are used over
time. This info helps us adjust VPA settings.</p></li>
<li><p><strong>Change VPA Update Policy</strong>: We can set the VPA
update policy to control how often it changes things. A careful update
policy can stop problems during busy times.</p>
<div class="sourceCode" id="cb27"><pre
class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">apiVersion</span><span class="kw">:</span><span class="at"> autoscaling.k8s.io/v1</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="fu">kind</span><span class="kw">:</span><span class="at"> VerticalPodAutoscaler</span></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a><span class="fu">metadata</span><span class="kw">:</span></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">name</span><span class="kw">:</span><span class="at"> example-vpa</span></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a><span class="fu">spec</span><span class="kw">:</span></span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">updatePolicy</span><span class="kw">:</span></span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">updateMode</span><span class="kw">:</span><span class="at"> </span><span class="st">&quot;Auto&quot;</span><span class="co"> # or &quot;Off&quot; / &quot;Initial&quot;</span></span></code></pre></div></li>
<li><p><strong>Test in Staging Environments</strong>: Before we put VPA
in production, we should test it in a staging environment. This way we
can see how it works with our apps under different loads.</p></li>
<li><p><strong>Avoid Over-provisioning</strong>: We need to follow VPA’s
advice to not use too many resources. We should check and change
thresholds based on what we actually use.</p></li>
<li><p><strong>Work with Horizontal Pod Autoscaler (HPA)</strong>: If
our app can use both vertical and horizontal scaling, we should use HPA
together with VPA for the best results.</p></li>
<li><p><strong>Keep VPA Updated</strong>: We must update our VPA
components. This helps us get new features and fixes.</p></li>
<li><p><strong>Watch for Resource Starvation</strong>: We need to be
careful about other pods when VPA gives out resources. We should keep an
eye on the health of the whole cluster.</p></li>
<li><p><strong>Document and Communicate</strong>: It is important to
write down any changes we make to VPA settings. Also, we should tell our
team so everyone knows how VPA affects resource management.</p></li>
</ol>
<p>By following these best practices, we can make good use of the
Vertical Pod Autoscaler. This helps us optimize resource usage in our
Kubernetes cluster. It ensures our applications run well and
efficiently. For more details on Kubernetes and resource management,
check out <a
href="https://bestonlinetutorial.com/kubernetes/how-do-i-scale-applications-using-kubernetes-deployments.html">how
to scale applications using Kubernetes deployments</a>.</p>
<h2 id="frequently-asked-questions">Frequently Asked Questions</h2>
<h3 id="what-is-vertical-pod-autoscaler-vpa-in-kubernetes">What is
Vertical Pod Autoscaler (VPA) in Kubernetes?</h3>
<p>Vertical Pod Autoscaler (VPA) is a key part of Kubernetes. It helps
change the CPU and memory requests for your running Pods. It does this
by looking at how much resources they use. VPA gives suggestions for the
best resource settings. This helps our apps run well without wasting or
using too little resources.</p>
<h3
id="how-do-i-install-vertical-pod-autoscaler-in-my-kubernetes-cluster">How
do I install Vertical Pod Autoscaler in my Kubernetes cluster?</h3>
<p>To install Vertical Pod Autoscaler (VPA) in our Kubernetes cluster,
we can use some commands. First, we need to apply the VPA custom
resource definitions (CRDs). Then, we deploy the VPA components. We can
use this command:</p>
<div class="sourceCode" id="cb28"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> apply <span class="at">-f</span> https://raw.githubusercontent.com/kubernetes/autoscaler/master/vertical-pod-autoscaler/deploy/vpa-namespace.yaml</span></code></pre></div>
<p>This way, we make sure that VPA is set up right for managing
resources.</p>
<h3
id="how-can-i-configure-vertical-pod-autoscaler-for-my-application">How
can I configure Vertical Pod Autoscaler for my application?</h3>
<p>To set up the Vertical Pod Autoscaler (VPA) for our application, we
need to create a VPA custom resource. This resource will say which
deployment to target and the resource settings. Here is an example YAML
setup:</p>
<div class="sourceCode" id="cb29"><pre
class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">apiVersion</span><span class="kw">:</span><span class="at"> autoscaling.k8s.io/v1</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a><span class="fu">kind</span><span class="kw">:</span><span class="at"> VerticalPodAutoscaler</span></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a><span class="fu">metadata</span><span class="kw">:</span></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">name</span><span class="kw">:</span><span class="at"> my-app-vpa</span></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a><span class="fu">spec</span><span class="kw">:</span></span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">targetRef</span><span class="kw">:</span></span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">apiVersion</span><span class="kw">:</span><span class="at"> apps/v1</span></span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">kind</span><span class="kw">:</span><span class="at"> Deployment</span></span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">name</span><span class="kw">:</span><span class="at"> my-app</span></span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">updatePolicy</span><span class="kw">:</span></span>
<span id="cb29-11"><a href="#cb29-11" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">updateMode</span><span class="kw">:</span><span class="at"> </span><span class="st">&quot;Auto&quot;</span></span></code></pre></div>
<p>This setup helps to change resource requests based on what our app
really needs.</p>
<h3
id="can-vertical-pod-autoscaler-work-with-horizontal-pod-autoscaler">Can
Vertical Pod Autoscaler work with Horizontal Pod Autoscaler?</h3>
<p>Yes, Vertical Pod Autoscaler (VPA) can work with Horizontal Pod
Autoscaler (HPA) in Kubernetes. VPA changes the resource requests for
Pods. HPA changes the number of Pods depending on how much resource they
use. Using both helps us manage resources well and scale apps. This way,
our apps perform their best even with changing loads.</p>
<h3 id="what-are-common-issues-when-using-vertical-pod-autoscaler">What
are common issues when using Vertical Pod Autoscaler?</h3>
<p>Some common issues with Vertical Pod Autoscaler (VPA) are wrong
resource requests. This can lead to not enough resources or too many
resources. There can also be problems with Horizontal Pod Autoscaler
settings. To fix VPA problems, we should check the logs for warning
messages. We also need to make sure our VPA settings are right for what
our app needs in resources.</p>

                        </div>

                    </div>
                    <!--//container-->
                </article>

            </div>
            <!--//main-wrapper-->

            <div id="footer-placeholder"></div>

            <!-- Javascript -->
            <script src="/assets/plugins/popper.min.js" defer></script>
            <script src="/assets/plugins/bootstrap/js/bootstrap.min.js" defer></script>
            <script src="/assets/fontawesome/js/all.min.js" defer></script>
        </body>

        </html>
            
            