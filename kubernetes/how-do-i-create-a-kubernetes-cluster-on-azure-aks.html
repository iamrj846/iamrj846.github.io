
    
            <!DOCTYPE html>
        <html lang="en">

        <head>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-TFCQEJR7TD"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-TFCQEJR7TD');
</script>
            <title>How Do I Create a Kubernetes Cluster on Azure AKS?</title>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Common CSS & Icons -->
<link rel="icon" href="/favicon.ico" type="image/x-icon">
<link rel="stylesheet" href="/assets/plugins/highlight/styles/monokai-sublime.css">
<link id="theme-style" rel="stylesheet" href="/assets/css/theme-8.css">
<link rel="stylesheet" href="/assets/css/post.css">
            <meta name="description" content="Learn how to create a Kubernetes cluster on Azure AKS with our step-by-step guide. Simplify your cloud deployment today!">

            <div id="head-placeholder"></div>
            <script src="/assets/js/blog.js" defer></script>
            <link rel="stylesheet" href="/assets/css/post.css">
        </head>

        <body>

            <div id="header-placeholder"></div>

            <div class="main-wrapper">

                <article class="blog-post px-3 py-5 p-md-5">
                    <div class="container single-col-max-width">
                        <header class="blog-post-header">
                            <h1 class="title mb-2">How Do I Create a Kubernetes Cluster on Azure AKS?</h1>
                        </header>

                        <div class="blog-post-body">
                            <p>Creating a Kubernetes cluster on Azure AKS helps us manage container
apps better in the cloud. Azure AKS makes it easier to deploy and manage
Kubernetes. This way, developers can focus on building apps instead of
worrying about the infrastructure.</p>
<p>In this article, we will show the key steps to create a Kubernetes
cluster on Azure AKS. We will talk about what we need to set up first.
Then we will cover installing the Azure CLI, making an Azure resource
group, running the command to create our Kubernetes cluster, setting up
networking, connecting with kubectl, looking at real-life examples, and
learning how to scale our AKS cluster.</p>
<ul>
<li>How Can I Create a Kubernetes Cluster on Azure AKS?</li>
<li>What Are the Prerequisites for Creating AKS Clusters?</li>
<li>How Do I Install Azure CLI for AKS?</li>
<li>How Do I Create an Azure Resource Group for AKS?</li>
<li>What Is the Command to Create a Kubernetes Cluster on Azure
AKS?</li>
<li>How Can I Configure Networking for My AKS Cluster?</li>
<li>How Do I Connect to My AKS Cluster Using kubectl?</li>
<li>What Are Real-Life Use Cases for Azure AKS?</li>
<li>How Do I Scale My AKS Cluster?</li>
<li>Frequently Asked Questions</li>
</ul>
<p>To learn more about Kubernetes, we can look into related topics. For
example, what is Kubernetes and how does it help with container
management? Or why should we use Kubernetes for our applications?</p>
<h2 id="what-are-the-prerequisites-for-creating-aks-clusters">What Are
the Prerequisites for Creating AKS Clusters?</h2>
<p>To create a Kubernetes cluster on Azure AKS, we need to make sure we
meet some important steps.</p>
<ol type="1">
<li><p><strong>Azure Subscription</strong>: We must have an active Azure
subscription. If we do not have one, we can sign up for a free
account.</p></li>
<li><p><strong>Azure CLI</strong>: We need to install the Azure
Command-Line Interface (CLI) to manage Azure resources. It is important
to have the latest version for best use with AKS features.</p></li>
<li><p><strong>Azure Resource Group</strong>: We should create a
resource group in Azure. This is where our AKS cluster will be. It helps
us to manage and organize our Azure resources.</p></li>
<li><p><strong>kubectl</strong>: We need to install kubectl. This is a
command-line tool to work with Kubernetes clusters. It is very important
for managing the cluster after we create it.</p></li>
<li><p><strong>Permissions</strong>: We must make sure our Azure account
has the right permissions to create resources in the subscription and
resource group. Usually, we need at least the Contributor role.</p></li>
<li><p><strong>Region Availability</strong>: We should check if the
Azure region we are using supports AKS. Some regions may not have AKS
available.</p></li>
<li><p><strong>Networking Configuration</strong>: We need to understand
the networking options for AKS. This includes Azure CNI or Kubenet. This
helps us to set up our cluster’s network correctly.</p></li>
<li><p><strong>Node Requirements</strong>: We must decide on the node
size and count based on what we need. This means choosing VM sizes that
AKS supports.</p></li>
</ol>
<p>If we make sure to meet these steps, we can create our AKS cluster
smoothly. For detailed steps on how to install Azure CLI, check <a
href="https://bestonlinetutorial.com/kubernetes/how-do-i-install-minikube-for-local-kubernetes-development.html">this
guide</a>.</p>
<h2 id="how-do-i-install-azure-cli-for-aks">How Do I Install Azure CLI
for AKS?</h2>
<p>To create and manage Azure Kubernetes Service (AKS) clusters, we need
to install the Azure Command-Line Interface (CLI). Here are the steps to
install Azure CLI on our system.</p>
<h3 id="installation-on-windows">Installation on Windows</h3>
<ol type="1">
<li>First, we download the installer from the official Azure CLI <a
href="https://docs.microsoft.com/en-us/cli/azure/install-azure-cli-windows?tabs=windows">installation
page</a>.</li>
<li>Next, we run the installer and follow the instructions on the
screen.</li>
</ol>
<h3 id="installation-on-macos">Installation on macOS</h3>
<p>We can use Homebrew to install Azure CLI. Just run this command in
our terminal:</p>
<div class="sourceCode" id="cb1"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="ex">brew</span> update <span class="kw">&amp;&amp;</span> <span class="ex">brew</span> install azure-cli</span></code></pre></div>
<h3 id="installation-on-linux">Installation on Linux</h3>
<p>For most Linux systems, we can use these commands:</p>
<div class="sourceCode" id="cb2"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="ex">curl</span> <span class="at">-sL</span> https://aka.ms/InstallAzureCLIDeb <span class="kw">|</span> <span class="fu">sudo</span> bash</span></code></pre></div>
<h3 id="verify-installation">Verify Installation</h3>
<p>After we install, we should check that Azure CLI is installed
correctly. We can do this by running:</p>
<div class="sourceCode" id="cb3"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="ex">az</span> <span class="at">--version</span></span></code></pre></div>
<p>This command shows the version of Azure CLI and its dependencies.</p>
<h3 id="update-azure-cli">Update Azure CLI</h3>
<p>To get the latest features and security updates, we should update
Azure CLI regularly. We can use this command:</p>
<div class="sourceCode" id="cb4"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="ex">az</span> upgrade</span></code></pre></div>
<p>Once we install Azure CLI, we can create and manage our AKS clusters
well. For more details on how to set up a Kubernetes cluster on Azure
AKS, we can check <a
href="https://bestonlinetutorial.com/kubernetes/how-do-i-set-up-a-kubernetes-cluster-on-aws-eks.html">How
Do I Create a Kubernetes Cluster on Azure AKS?</a>.</p>
<h2 id="how-do-i-create-an-azure-resource-group-for-aks">How Do I Create
an Azure Resource Group for AKS?</h2>
<p>To create an Azure Resource Group for your Azure Kubernetes Service
(AKS) cluster, we can use the Azure CLI. A resource group is like a box
that holds related things for an Azure solution. Let’s go through the
steps to make a resource group.</p>
<ol type="1">
<li><p><strong>Log in to Azure</strong> with the Azure CLI:</p>
<div class="sourceCode" id="cb5"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="ex">az</span> login</span></code></pre></div></li>
<li><p><strong>Create the Resource Group</strong> with the
<code>az group create</code> command. Change
<code>&lt;ResourceGroupName&gt;</code> to what you want to name your
group. Change <code>&lt;Location&gt;</code> to your chosen Azure region,
like <code>eastus</code> or <code>westus</code>:</p>
<div class="sourceCode" id="cb6"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="ex">az</span> group create <span class="at">--name</span> <span class="op">&lt;</span>ResourceGroupName<span class="op">&gt;</span> --location <span class="op">&lt;</span>Location<span class="op">&gt;</span></span></code></pre></div></li>
<li><p><strong>Verify the Resource Group Creation</strong> by listing
all resource groups:</p>
<div class="sourceCode" id="cb7"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="ex">az</span> group list <span class="at">--output</span> table</span></code></pre></div></li>
</ol>
<p>Now we have a new resource group to use for our AKS cluster. Don’t
forget to change the placeholders to your real values. If we want to
learn more about resource groups, we can look at the Azure
documentation. We can also check <a
href="https://bestonlinetutorial.com/kubernetes/how-do-i-set-up-a-kubernetes-cluster-on-aws-eks.html">this
article</a> to see how to set up clusters on other cloud providers for
comparison.</p>
<h2
id="what-is-the-command-to-create-a-kubernetes-cluster-on-azure-aks">What
Is the Command to Create a Kubernetes Cluster on Azure AKS?</h2>
<p>To create a Kubernetes cluster on Azure AKS, we can use the Azure
CLI. The command to make an AKS cluster is like this:</p>
<div class="sourceCode" id="cb8"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="ex">az</span> aks create <span class="dt">\</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">--resource-group</span> <span class="op">&lt;</span>ResourceGroupName<span class="op">&gt;</span> <span class="dt">\</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">--name</span> <span class="op">&lt;</span>ClusterName<span class="op">&gt;</span> <span class="dt">\</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">--node-count</span> <span class="op">&lt;</span>NodeCount<span class="op">&gt;</span> <span class="dt">\</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">--enable-addons</span> monitoring <span class="dt">\</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">--generate-ssh-keys</span></span></code></pre></div>
<h3 id="parameters">Parameters:</h3>
<ul>
<li><code>&lt;ResourceGroupName&gt;</code>: This is the name of the
Azure Resource Group where we will create the AKS cluster.</li>
<li><code>&lt;ClusterName&gt;</code>: This is the name we want to give
our AKS cluster.</li>
<li><code>&lt;NodeCount&gt;</code>: This is how many nodes we want in
our cluster (for example, 3).</li>
</ul>
<h3 id="example">Example:</h3>
<p>If we want to create a Kubernetes cluster called
<code>myAKSCluster</code> in a resource group
<code>myResourceGroup</code> with 3 nodes, the command will look like
this:</p>
<div class="sourceCode" id="cb9"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="ex">az</span> aks create <span class="dt">\</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">--resource-group</span> myResourceGroup <span class="dt">\</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">--name</span> myAKSCluster <span class="dt">\</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">--node-count</span> 3 <span class="dt">\</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">--enable-addons</span> monitoring <span class="dt">\</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">--generate-ssh-keys</span></span></code></pre></div>
<p>This command will set up the AKS cluster with monitoring on. It will
also create SSH keys for safe access.</p>
<h2 id="how-can-i-configure-networking-for-my-aks-cluster">How Can I
Configure Networking for My AKS Cluster?</h2>
<p>To set up networking for your Azure Kubernetes Service (AKS) cluster,
we can pick between two types: <strong>Azure CNI</strong> and
<strong>Kubenet</strong>. Azure CNI gives us better networking features.
It lets our pods use IP addresses from the virtual network (VNet).
Kubenet is a simpler choice.</p>
<h3 id="steps-to-configure-networking">Steps to Configure
Networking:</h3>
<ol type="1">
<li><p><strong>Choose Networking Model</strong>:</p>
<ul>
<li><strong>Azure CNI</strong>: Good for advanced features and direct
link with Azure VNet.</li>
<li><strong>Kubenet</strong>: Good for basic needs and easier
setup.</li>
</ul></li>
<li><p><strong>Create an AKS Cluster with Azure CNI</strong>: When we
create our AKS cluster, we can specify the networking model. Here is the
command to use:</p>
<div class="sourceCode" id="cb10"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="ex">az</span> aks create <span class="dt">\</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">--resource-group</span> <span class="op">&lt;</span>ResourceGroupName<span class="op">&gt;</span> <span class="dt">\</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">--name</span> <span class="op">&lt;</span>ClusterName<span class="op">&gt;</span> <span class="dt">\</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">--network-plugin</span> azure <span class="dt">\</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">--vnet-subnet-id</span> <span class="op">&lt;</span>SubnetId<span class="op">&gt;</span></span></code></pre></div></li>
<li><p><strong>Create an AKS Cluster with Kubenet</strong>: If we want
to use Kubenet, we just leave out the <code>--network-plugin</code>
part:</p>
<div class="sourceCode" id="cb11"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="ex">az</span> aks create <span class="dt">\</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">--resource-group</span> <span class="op">&lt;</span>ResourceGroupName<span class="op">&gt;</span> <span class="dt">\</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">--name</span> <span class="op">&lt;</span>ClusterName<span class="op">&gt;</span></span></code></pre></div></li>
<li><p><strong>Configure Ingress Controller</strong>: To manage access
to our services, we should think about adding an ingress controller. We
can use NGINX for this:</p>
<div class="sourceCode" id="cb12"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> apply <span class="at">-f</span> https://raw.githubusercontent.com/kubernetes/ingress-nginx/main/deploy/static/provider/cloud/deploy.yaml</span></code></pre></div></li>
<li><p><strong>Set Up Load Balancer</strong>: For services that need to
be open to the internet, we can create a LoadBalancer service:</p>
<div class="sourceCode" id="cb13"><pre
class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">apiVersion</span><span class="kw">:</span><span class="at"> v1</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="fu">kind</span><span class="kw">:</span><span class="at"> Service</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="fu">metadata</span><span class="kw">:</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">name</span><span class="kw">:</span><span class="at"> my-service</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a><span class="fu">spec</span><span class="kw">:</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> LoadBalancer</span></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">ports</span><span class="kw">:</span></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">port</span><span class="kw">:</span><span class="at"> </span><span class="dv">80</span></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">targetPort</span><span class="kw">:</span><span class="at"> </span><span class="dv">8080</span></span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">selector</span><span class="kw">:</span></span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">app</span><span class="kw">:</span><span class="at"> my-app</span></span></code></pre></div></li>
<li><p><strong>Network Security Groups (NSG)</strong>: Check that our
NSGs allow traffic on the ports we need. We might need to create or
change rules to let traffic through.</p></li>
<li><p><strong>Private AKS Cluster</strong>: For more security, we can
create a private AKS cluster. This will limit access to the Azure
VNet:</p>
<div class="sourceCode" id="cb14"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="ex">az</span> aks create <span class="dt">\</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">--resource-group</span> <span class="op">&lt;</span>ResourceGroupName<span class="op">&gt;</span> <span class="dt">\</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">--name</span> <span class="op">&lt;</span>ClusterName<span class="op">&gt;</span> <span class="dt">\</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">--enable-private-cluster</span></span></code></pre></div></li>
<li><p><strong>DNS Configuration</strong>: If we are using Azure CNI, we
must check that our DNS settings are right. This helps services in our
cluster to resolve properly.</p></li>
<li><p><strong>Monitoring and Logging</strong>: We should turn on Azure
Monitor and Log Analytics. This helps us to check the network traffic
and the performance of our AKS cluster.</p></li>
</ol>
<p>By following these steps, we can set up networking for our AKS
cluster. This will help our applications to communicate safely and well.
For more information on setting up Kubernetes clusters on other cloud
services, we can look at articles like <a
href="https://bestonlinetutorial.com/kubernetes/how-do-i-deploy-a-kubernetes-cluster-on-google-cloud-gke.html">How
Do I Deploy a Kubernetes Cluster on Google Cloud GKE</a> and <a
href="https://bestonlinetutorial.com/kubernetes/how-do-i-set-up-a-kubernetes-cluster-on-aws-eks.html">How
Do I Set Up a Kubernetes Cluster on AWS EKS</a>.</p>
<h2 id="how-do-i-connect-to-my-aks-cluster-using-kubectl">How Do I
Connect to My AKS Cluster Using kubectl?</h2>
<p>To connect to your Azure Kubernetes Service (AKS) cluster with
<code>kubectl</code>, we need to set up our local Kubernetes client.
This will help us talk to our AKS cluster. Let’s follow these steps:</p>
<ol type="1">
<li><p><strong>Install Azure CLI</strong>: First, we need to make sure
that we have the Azure CLI installed. We can look at the instructions in
the section on <a href="#how-do-i-install-azure-cli-for-aks">How Do I
Install Azure CLI for AKS?</a>.</p></li>
<li><p><strong>Login to Azure</strong>: Next, we need to log in to our
Azure account. We can do this by running:</p>
<div class="sourceCode" id="cb15"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="ex">az</span> login</span></code></pre></div></li>
<li><p><strong>Set the subscription</strong>: If we have more than one
Azure subscription, we must choose the one that has our AKS cluster. We
can set it like this:</p>
<div class="sourceCode" id="cb16"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="ex">az</span> account set <span class="at">--subscription</span> <span class="st">&quot;Your-Subscription-Name&quot;</span></span></code></pre></div></li>
<li><p><strong>Get AKS credentials</strong>: Now, we will run this
command to connect <code>kubectl</code> to our AKS cluster:</p>
<div class="sourceCode" id="cb17"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="ex">az</span> aks get-credentials <span class="at">--resource-group</span> YourResourceGroup <span class="at">--name</span> YourAKSClusterName</span></code></pre></div>
<p>Here, we need to change <code>YourResourceGroup</code> to our
resource group name and <code>YourAKSClusterName</code> to our AKS
cluster name.</p></li>
<li><p><strong>Verify Connection</strong>: We should check if we are
connected to our AKS cluster. We can do this by running:</p>
<div class="sourceCode" id="cb18"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> get nodes</span></code></pre></div>
<p>This command will show a list of nodes in our AKS cluster. If we see
the list, it means we are connected.</p></li>
<li><p><strong>Use kubectl</strong>: Now, we can use
<code>kubectl</code> to manage our AKS cluster. For example, if we want
to see all the pods in the default namespace, we run:</p>
<div class="sourceCode" id="cb19"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> get pods</span></code></pre></div></li>
</ol>
<p>By following these steps, we can connect to our AKS cluster using
<code>kubectl</code>. If we want to learn more about using Kubernetes,
we can read this article on <a
href="https://bestonlinetutorial.com/kubernetes/what-are-the-key-components-of-a-kubernetes-cluster.html">What
Are the Key Components of a Kubernetes Cluster?</a>.</p>
<h2 id="what-are-real-life-use-cases-for-azure-aks">What Are Real-Life
Use Cases for Azure AKS?</h2>
<p>Azure Kubernetes Service (AKS) gives us a strong platform to run,
manage, and grow container applications. Here are some real-life
examples of how we use Azure AKS:</p>
<ol type="1">
<li><p><strong>Microservices Architecture</strong>: We can use AKS to
run applications with a microservices setup. This makes it easier to
manage and grow services. Each microservice can work alone. This helps
us to update faster and be more reliable.</p></li>
<li><p><strong>CI/CD Pipelines</strong>: We often use AKS in our
continuous integration and continuous deployment (CI/CD) pipelines. With
tools like Azure DevOps or Jenkins, we can automate building, testing,
and deploying to AKS clusters. This helps us release software quickly
and safely.</p></li>
<li><p><strong>Machine Learning</strong>: Data scientists can put
machine learning models on AKS to handle larger jobs. We can use Azure
Machine Learning to manage training and put models as services. This
helps us scale easily with Kubernetes.</p></li>
<li><p><strong>Web Applications</strong>: Businesses can host web
applications on AKS. This allows us to use features like auto-scaling
and load balancing. AKS can handle traffic spikes and keep applications
available.</p></li>
<li><p><strong>Hybrid Cloud Deployments</strong>: Companies can use AKS
in hybrid cloud setups. This means we can run jobs both on-site and in
the cloud. This gives us flexibility for data rules and
compliance.</p></li>
<li><p><strong>Multi-Cloud Strategies</strong>: Some organizations use
AKS in a multi-cloud plan. We can run applications on Azure and other
cloud platforms. Kubernetes helps us manage applications across
different places.</p></li>
<li><p><strong>Gaming Applications</strong>: Game developers can use AKS
to handle back-end services for online games. Scaling quickly during
busy times gives users a better gaming experience.</p></li>
<li><p><strong>Internet of Things (IoT)</strong>: AKS helps us manage
the huge amounts of data from IoT devices. We can run services on AKS to
process and analyze IoT data right away.</p></li>
<li><p><strong>Big Data Processing</strong>: Companies working with big
data can use AKS to run tools like Apache Spark. Kubernetes helps us
manage resources well, so we can scale our data tasks.</p></li>
</ol>
<p>If you want to know more about Kubernetes and how we use it, check
out <a
href="https://bestonlinetutorial.com/kubernetes/what-are-the-key-components-of-a-kubernetes-cluster.html">this
article on the key components of a Kubernetes cluster</a>.</p>
<h2 id="how-do-we-scale-our-aks-cluster">How Do We Scale Our AKS
Cluster?</h2>
<p>We can scale an Azure Kubernetes Service (AKS) cluster in two ways:
manually and automatically. This helps us meet the demands of our
workloads. Let’s see how we can do this.</p>
<h3 id="manual-scaling">Manual Scaling</h3>
<p>We can manually change the number of nodes in our node pool to scale
our AKS cluster. We use the Azure CLI command below:</p>
<div class="sourceCode" id="cb20"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="ex">az</span> aks scale <span class="at">--resource-group</span> <span class="op">&lt;</span>resource-group-name<span class="op">&gt;</span> --name <span class="op">&lt;</span>aks-cluster-name<span class="op">&gt;</span> --node-count <span class="op">&lt;</span>desired-node-count<span class="op">&gt;</span></span></code></pre></div>
<p>Just replace <code>&lt;resource-group-name&gt;</code>,
<code>&lt;aks-cluster-name&gt;</code>, and
<code>&lt;desired-node-count&gt;</code> with our values.</p>
<h3 id="automatic-scaling">Automatic Scaling</h3>
<p>To set up automatic scaling, we can use the Kubernetes Cluster
Autoscaler. This tool changes the number of nodes in our node pool based
on what resources we need.</p>
<ol type="1">
<li><strong>Enable Cluster Autoscaler</strong> when we create the node
pool:</li>
</ol>
<div class="sourceCode" id="cb21"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="ex">az</span> aks nodepool add <span class="dt">\</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">--resource-group</span> <span class="op">&lt;</span>resource-group-name<span class="op">&gt;</span> <span class="dt">\</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">--cluster-name</span> <span class="op">&lt;</span>aks-cluster-name<span class="op">&gt;</span> <span class="dt">\</span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">--name</span> <span class="op">&lt;</span>nodepool-name<span class="op">&gt;</span> <span class="dt">\</span></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">--node-count</span> <span class="op">&lt;</span>initial-node-count<span class="op">&gt;</span> <span class="dt">\</span></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">--enable-cluster-autoscaler</span> <span class="dt">\</span></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">--min-count</span> <span class="op">&lt;</span>min-node-count<span class="op">&gt;</span> <span class="dt">\</span></span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">--max-count</span> <span class="op">&lt;</span>max-node-count<span class="op">&gt;</span></span></code></pre></div>
<ol start="2" type="1">
<li><strong>Update an existing node pool</strong> to enable the
autoscaler:</li>
</ol>
<div class="sourceCode" id="cb22"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="ex">az</span> aks nodepool update <span class="dt">\</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">--resource-group</span> <span class="op">&lt;</span>resource-group-name<span class="op">&gt;</span> <span class="dt">\</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">--cluster-name</span> <span class="op">&lt;</span>aks-cluster-name<span class="op">&gt;</span> <span class="dt">\</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">--name</span> <span class="op">&lt;</span>nodepool-name<span class="op">&gt;</span> <span class="dt">\</span></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">--enable-cluster-autoscaler</span> <span class="dt">\</span></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">--min-count</span> <span class="op">&lt;</span>min-node-count<span class="op">&gt;</span> <span class="dt">\</span></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">--max-count</span> <span class="op">&lt;</span>max-node-count<span class="op">&gt;</span></span></code></pre></div>
<h3 id="horizontal-pod-autoscaler">Horizontal Pod Autoscaler</h3>
<p>To scale our applications in the cluster, we can use the Horizontal
Pod Autoscaler (HPA). This tool changes the number of pods in a
deployment based on CPU usage or other selected metrics.</p>
<ol type="1">
<li><strong>Create a deployment</strong> (if we have not done this
yet):</li>
</ol>
<div class="sourceCode" id="cb23"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> create deployment <span class="op">&lt;</span>deployment-name<span class="op">&gt;</span> --image=<span class="op">&lt;</span>image-name<span class="op">&gt;</span></span></code></pre></div>
<ol start="2" type="1">
<li><strong>Expose the deployment</strong>:</li>
</ol>
<div class="sourceCode" id="cb24"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> expose deployment <span class="op">&lt;</span>deployment-name<span class="op">&gt;</span> --type=LoadBalancer <span class="at">--port</span><span class="op">=</span>80</span></code></pre></div>
<ol start="3" type="1">
<li><strong>Set up HPA</strong>:</li>
</ol>
<div class="sourceCode" id="cb25"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> autoscale deployment <span class="op">&lt;</span>deployment-name<span class="op">&gt;</span> --cpu-percent=<span class="op">&lt;</span>target-cpu-utilization<span class="op">&gt;</span> --min=<span class="op">&lt;</span>min-pods<span class="op">&gt;</span> --max=<span class="op">&lt;</span>max-pods<span class="op">&gt;</span></span></code></pre></div>
<p>This command will change the number of pods between the minimum and
maximum we set based on CPU usage.</p>
<h3 id="monitoring-cluster-and-pod-performance">Monitoring Cluster and
Pod Performance</h3>
<p>To check how our AKS cluster is doing and see if scaling works, we
can use Azure Monitor and Azure Log Analytics.</p>
<ul>
<li><strong>Enable monitoring</strong>:</li>
</ul>
<div class="sourceCode" id="cb26"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="ex">az</span> aks enable-addons <span class="at">--resource-group</span> <span class="op">&lt;</span>resource-group-name<span class="op">&gt;</span> --name <span class="op">&lt;</span>aks-cluster-name<span class="op">&gt;</span> --addons monitoring <span class="at">--workspace-resource-id</span> <span class="op">&lt;</span>log-analytics-workspace-id<span class="op">&gt;</span></span></code></pre></div>
<p>This helps us see and analyze the performance metrics for our cluster
and applications.</p>
<p>For more information about Kubernetes and what it does, we can check
<a
href="https://bestonlinetutorial.com/kubernetes/what-is-kubernetes-and-how-does-it-simplify-container-management.html">what
Kubernetes is and how it simplifies container management</a>.</p>
<h2 id="frequently-asked-questions">Frequently Asked Questions</h2>
<h3
id="what-is-azure-aks-and-why-should-we-use-it-for-our-applications">1.
What is Azure AKS and why should we use it for our applications?</h3>
<p>Azure AKS (Azure Kubernetes Service) is a service that helps us use
Kubernetes to run our container apps on Azure. It makes it easier to set
up, manage, and grow our applications. With Azure AKS, we can focus on
building our apps while Azure takes care of the hard stuff like updates
and scaling. It also gives us monitoring tools. To learn more about why
we should use Kubernetes, check out <a
href="https://bestonlinetutorial.com/kubernetes/why-should-i-use-kubernetes-for-my-applications.html">Why
Should I Use Kubernetes for My Applications?</a>.</p>
<h3 id="what-are-the-key-parts-of-a-kubernetes-cluster">2. What are the
key parts of a Kubernetes cluster?</h3>
<p>A Kubernetes cluster has several important parts that work together.
There is the Master Node, which controls everything. Then, we have
Worker Nodes, which run our applications. Other key parts include the
API server, etcd (which is a place to store data), and the scheduler.
Knowing these parts helps us manage our <a
href="https://bestonlinetutorial.com/kubernetes/what-are-the-key-components-of-a-kubernetes-cluster.html">Kubernetes
cluster</a> better.</p>
<h3
id="how-does-aks-differ-from-other-kubernetes-services-like-eks-and-gke">3.
How does AKS differ from other Kubernetes services like EKS and
GKE?</h3>
<p>Azure Kubernetes Service (AKS) is different from AWS EKS and Google
GKE in how they manage things and how they work with their cloud
services. All three offer managed Kubernetes, but AKS works better with
Azure tools. This makes it a good choice if we are already using Azure.
For more comparisons, read our article about <a
href="https://bestonlinetutorial.com/kubernetes/how-do-i-set-up-a-kubernetes-cluster-on-aws-eks.html">setting
up Kubernetes on AWS EKS</a>.</p>
<h3 id="how-can-we-connect-to-our-aks-cluster-using-kubectl">4. How can
we connect to our AKS cluster using kubectl?</h3>
<p>To connect to our Azure AKS cluster with kubectl, we first need to
install the Azure CLI and set up our local environment. After we log
into our Azure account, we can use the command
<code>az aks get-credentials --resource-group &lt;ResourceGroupName&gt; --name &lt;ClusterName&gt;</code>.
This command gets the AKS cluster credentials and puts them in our
kubeconfig file. Then we can manage our cluster easily.</p>
<h3 id="what-are-the-best-practices-for-scaling-our-aks-cluster">5. What
are the best practices for scaling our AKS cluster?</h3>
<p>To scale our AKS cluster well, we need to know what our application
needs. We should change the number of nodes as needed. We can use the
Kubernetes Horizontal Pod Autoscaler to automatically adjust pods based
on things like CPU usage. Also, we can use Azure Monitor to see how our
performance and resources are doing. For a complete guide on scaling
clusters, look at our article on <a
href="https://bestonlinetutorial.com/kubernetes/how-do-i-deploy-a-kubernetes-cluster-on-google-cloud-gke.html">how
to scale AKS clusters</a>.</p>
<p>By looking at these frequently asked questions, we can understand
better how to create and manage our Kubernetes cluster on Azure AKS.
This will help us improve our cloud-native application development
experience.</p>

                        </div>

                    </div>
                    <!--//container-->
                </article>

            </div>
            <!--//main-wrapper-->

            <div id="footer-placeholder"></div>

            <!-- Javascript -->
            <script src="/assets/plugins/popper.min.js" defer></script>
            <script src="/assets/plugins/bootstrap/js/bootstrap.min.js" defer></script>
            <script src="/assets/fontawesome/js/all.min.js" defer></script>
        </body>

        </html>
            
            