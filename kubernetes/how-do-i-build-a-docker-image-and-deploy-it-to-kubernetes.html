
    
            <!DOCTYPE html>
        <html lang="en">

        <head>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-TFCQEJR7TD"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-TFCQEJR7TD');
</script>
            <title>How Do I Build a Docker Image and Deploy it to Kubernetes?</title>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Common CSS & Icons -->
<link rel="icon" href="/favicon.ico" type="image/x-icon">
<link rel="stylesheet" href="/assets/plugins/highlight/styles/monokai-sublime.css">
<link id="theme-style" rel="stylesheet" href="/assets/css/theme-8.css">
<link rel="stylesheet" href="/assets/css/post.css">
            <meta name="description" content="Learn how to build a Docker image and deploy it to Kubernetes with our step-by-step guide. Master containerization today!">

            <div id="head-placeholder"></div>
            <script src="/assets/js/blog.js" defer></script>
            <link rel="stylesheet" href="/assets/css/post.css">
        </head>

        <body>

            <div id="header-placeholder"></div>

            <div class="main-wrapper">

                <article class="blog-post px-3 py-5 p-md-5">
                    <div class="container single-col-max-width">
                        <header class="blog-post-header">
                            <h1 class="title mb-2">How Do I Build a Docker Image and Deploy it to Kubernetes?</h1>
                        </header>

                        <div class="blog-post-body">
                            <p>Building a Docker image and putting it on Kubernetes is an important
skill for today’s software work. Docker helps us package our apps with
everything they need. We call this a container. Kubernetes is a strong
tool that helps us manage and run these containers easily.</p>
<p>In this article, we will show you step by step how to build a Docker
image and put it on a Kubernetes cluster. We will talk about important
parts like making a Dockerfile, building the Docker image, sending it to
a container registry, setting up a Kubernetes cluster, and deploying the
Docker image to Kubernetes. We will also look at real-life examples of
using Docker and Kubernetes. Plus, we will see how to manage and scale
deployments well.</p>
<ul>
<li>How Can I Build a Docker Image and Deploy it to Kubernetes?</li>
<li>What is Docker and Why Use It?</li>
<li>How Do I Create a Dockerfile?</li>
<li>How Can I Build a Docker Image from a Dockerfile?</li>
<li>How Do I Push a Docker Image to a Container Registry?</li>
<li>How Do I Set Up a Kubernetes Cluster?</li>
<li>How Can I Deploy a Docker Image to Kubernetes?</li>
<li>What are Real Life Use Cases for Docker and Kubernetes?</li>
<li>How Do I Manage and Scale Deployments in Kubernetes?</li>
<li>Frequently Asked Questions</li>
</ul>
<p>If you want to read more about Kubernetes, you can check articles
like <a
href="https://bestonlinetutorial.com/kubernetes/what-is-kubernetes-and-how-does-it-simplify-container-management.html">What
is Kubernetes and How Does it Simplify Container Management?</a> and <a
href="https://bestonlinetutorial.com/kubernetes/how-do-i-deploy-a-docker-image-to-kubernetes.html">How
Do I Deploy a Docker Image to Kubernetes?</a>.</p>
<h2 id="what-is-docker-and-why-use-it">What is Docker and Why Use
It?</h2>
<p>Docker is a free platform. It helps us automate the deployment,
scaling, and managing of applications inside small, portable containers.
Each container holds an application and all the things it needs to work.
This means it will run the same way on different computers.</p>
<h3 id="benefits-of-using-docker">Benefits of Using Docker:</h3>
<ul>
<li><p><strong>Isolation</strong>: Containers keep applications apart.
This stops conflicts and makes sure each application runs in its own
space.</p></li>
<li><p><strong>Portability</strong>: We can run Docker containers on any
machine with Docker installed. This makes it simple to move applications
between different places like development, testing, and
production.</p></li>
<li><p><strong>Efficiency</strong>: Containers share the host system’s
kernel. This makes them lighter and faster to start than regular virtual
machines.</p></li>
<li><p><strong>Scalability</strong>: Docker makes it easy to scale
applications. We can run many container instances at the same
time.</p></li>
<li><p><strong>Version Control</strong>: Docker images can have
versions. This lets us quickly go back to a previous version if we need
to.</p></li>
<li><p><strong>Integration</strong>: Docker works well with CI/CD
pipelines. This helps with automatic testing and deployment.</p></li>
</ul>
<h3 id="key-components-of-docker">Key Components of Docker:</h3>
<ol type="1">
<li><p><strong>Docker Engine</strong>: This is the main part that runs
and manages Docker containers.</p></li>
<li><p><strong>Docker Hub</strong>: This is a cloud place where we can
store and share Docker images.</p></li>
<li><p><strong>Dockerfile</strong>: This is a script. It has steps on
how to build a Docker image.</p></li>
<li><p><strong>Images</strong>: These are read-only templates for
creating containers. An image has everything needed to run an
application.</p></li>
<li><p><strong>Containers</strong>: These are the running parts of
Docker images. Containers can start, stop, and restart as we
want.</p></li>
</ol>
<p>For more detailed insights on container management with Kubernetes,
check out <a
href="https://bestonlinetutorial.com/kubernetes/what-is-kubernetes-and-how-does-it-simplify-container-management.html">What
is Kubernetes and How Does it Simplify Container Management?</a>.</p>
<h2 id="how-do-i-create-a-dockerfile">How Do I Create a Dockerfile?</h2>
<p>A Dockerfile is a text file. It has steps to build a Docker image.
Each step in a Dockerfile makes a layer in the image. This helps make it
better and more reusable. Below are the main parts and an example of
making a Dockerfile.</p>
<h3 id="basic-syntax">Basic Syntax</h3>
<p>The basic syntax of a Dockerfile has many commands. Each command
talks about a different part of the image. Here are some common
instructions:</p>
<ul>
<li><strong>FROM</strong>: This sets the base image for the next
steps.</li>
<li><strong>RUN</strong>: This runs commands in a new layer and saves
the results.</li>
<li><strong>COPY</strong>: This copies files or folders from the host to
the image.</li>
<li><strong>ADD</strong>: This is like COPY but can also take files from
URLs and unzip files.</li>
<li><strong>CMD</strong>: This gives default settings for a running
container.</li>
<li><strong>ENTRYPOINT</strong>: This makes a container run like a
program.</li>
<li><strong>ENV</strong>: This sets environment variables.</li>
</ul>
<h3 id="example-dockerfile">Example Dockerfile</h3>
<p>Here is a simple example of a Dockerfile for a Node.js
application:</p>
<div class="sourceCode" id="cb1"><pre
class="sourceCode dockerfile"><code class="sourceCode dockerfile"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Use the official Node.js image as the base image</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> node:14</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Set the working directory in the container</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="kw">WORKDIR</span> /usr/src/app</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Copy package.json and package-lock.json</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="kw">COPY</span> package*.json ./</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Install dependencies</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="kw">RUN</span> <span class="ex">npm</span> install</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Copy the rest of the application files</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="kw">COPY</span> . .</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Expose the application port</span></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a><span class="kw">EXPOSE</span> 3000</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Define the command to run the application</span></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a><span class="kw">CMD</span> [<span class="st">&quot;npm&quot;</span>, <span class="st">&quot;start&quot;</span>]</span></code></pre></div>
<h3 id="creating-a-dockerfile">Creating a Dockerfile</h3>
<ol type="1">
<li><strong>Create a new file</strong> called <code>Dockerfile</code>
(no extension) in the main folder of your project.</li>
<li><strong>Add the needed instructions</strong> like in the example
above. Change them to fit your app needs.</li>
<li><strong>Save the file</strong>. Now your Dockerfile is ready to
build a Docker image.</li>
</ol>
<p>This Dockerfile will make an image that installs your Node.js app’s
needs and runs it when the container starts. For more steps on how to
deploy a Docker image to Kubernetes, check <a
href="https://bestonlinetutorial.com/kubernetes/how-do-i-deploy-a-docker-image-to-kubernetes.html">how
to deploy a Docker image to Kubernetes</a>.</p>
<h2 id="how-can-we-build-a-docker-image-from-a-dockerfile">How Can We
Build a Docker Image from a Dockerfile?</h2>
<p>To build a Docker image from a Dockerfile, we follow these steps:</p>
<ol type="1">
<li><p><strong>Create a Dockerfile</strong>: This file has instructions
to build our Docker image.</p>
<p>Here is a simple Dockerfile for a Node.js app:</p>
<div class="sourceCode" id="cb2"><pre
class="sourceCode dockerfile"><code class="sourceCode dockerfile"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Use the official Node.js image from Docker Hub</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> node:14</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Set the working directory in the container</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="kw">WORKDIR</span> /usr/src/app</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Copy package.json and package-lock.json</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="kw">COPY</span> package*.json ./</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Install dependencies</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a><span class="kw">RUN</span> <span class="ex">npm</span> install</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Copy the rest of the application files</span></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a><span class="kw">COPY</span> . .</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Expose the application port</span></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a><span class="kw">EXPOSE</span> 8080</span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Command to run the application</span></span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a><span class="kw">CMD</span> [<span class="st">&quot;node&quot;</span>, <span class="st">&quot;app.js&quot;</span>]</span></code></pre></div></li>
<li><p><strong>Build the Docker image</strong>: We use the
<code>docker build</code> command to create the image from our
Dockerfile. We run this command in the folder that has our
Dockerfile.</p>
<div class="sourceCode" id="cb3"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> build <span class="at">-t</span> my-node-app .</span></code></pre></div>
<p>Here, <code>-t my-node-app</code> gives the image the name
<code>my-node-app</code>, and <code>.</code> shows the build
context.</p></li>
<li><p><strong>Check the image creation</strong>: We list all Docker
images to make sure our new image is created.</p>
<div class="sourceCode" id="cb4"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> images</span></code></pre></div></li>
</ol>
<p>These steps help us build a Docker image from a Dockerfile easily.
After we build it, we can push the image to a container registry or use
it in a Kubernetes cluster. For more help on deploying a Docker image to
Kubernetes, check <a
href="https://bestonlinetutorial.com/kubernetes/how-do-i-deploy-a-docker-image-to-kubernetes.html">this
article</a>.</p>
<h2 id="how-do-i-push-a-docker-image-to-a-container-registry">How Do I
Push a Docker Image to a Container Registry?</h2>
<p>To push a Docker image to a container registry, we can follow these
steps:</p>
<ol type="1">
<li><p><strong>Login to the Container Registry</strong>: First, we need
to log in to the container registry. This is important before we push
the image. For Docker Hub, we can use:</p>
<div class="sourceCode" id="cb5"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> login</span></code></pre></div>
<p>For other registries like AWS ECR or Google GCR, we should use their
special login commands.</p></li>
<li><p><strong>Tag the Docker Image</strong>: Next, we have to tag our
image. This means giving it the right name for the repository. The
format is usually <code>registry-url/repository-name:tag</code>. For
example:</p>
<div class="sourceCode" id="cb6"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> tag my-image:latest myusername/my-image:latest</span></code></pre></div></li>
<li><p><strong>Push the Docker Image</strong>: Now, we can push our
image. We use the <code>docker push</code> command to upload the image
to the registry:</p>
<div class="sourceCode" id="cb7"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> push myusername/my-image:latest</span></code></pre></div></li>
<li><p><strong>Verify the Push</strong>: After we push, we can check if
our image is in the container registry. We can list the repository
images. For Docker Hub, we can use:</p>
<div class="sourceCode" id="cb8"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> search myusername/my-image</span></code></pre></div></li>
</ol>
<p>If we want more detailed instructions about using specific
registries, we can check resources like <a
href="https://bestonlinetutorial.com/kubernetes/how-do-i-deploy-a-docker-image-to-kubernetes.html">How
Do I Deploy a Docker Image to Kubernetes?</a>.</p>
<h2 id="how-do-we-set-up-a-kubernetes-cluster">How Do We Set Up a
Kubernetes Cluster?</h2>
<p>We can set up a Kubernetes cluster in many ways. It depends on our
needs and where we want to run it. Here, we will show steps to set up a
Kubernetes cluster using Minikube for local work and AWS EKS for cloud
use.</p>
<h3 id="setting-up-a-kubernetes-cluster-using-minikube">Setting Up a
Kubernetes Cluster Using Minikube</h3>
<ol type="1">
<li><p><strong>Install Minikube</strong>: First, we need to download and
install Minikube on our computer. We should follow the guide for our
operating system from the <a
href="https://minikube.sigs.k8s.io/docs/start/">Minikube installation
guide</a>.</p></li>
<li><p><strong>Start Minikube</strong>:</p>
<div class="sourceCode" id="cb9"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="ex">minikube</span> start</span></code></pre></div></li>
<li><p><strong>Check Installation</strong>:</p>
<div class="sourceCode" id="cb10"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> get nodes</span></code></pre></div></li>
</ol>
<p>This command will show one node in the <code>Ready</code> state.</p>
<h3 id="setting-up-a-kubernetes-cluster-on-aws-eks">Setting Up a
Kubernetes Cluster on AWS EKS</h3>
<ol type="1">
<li><p><strong>Install AWS CLI</strong>: We must make sure we have the
AWS CLI installed. Also, we need to set it up with our
credentials.</p></li>
<li><p><strong>Install <code>eksctl</code></strong>: We can use
<code>eksctl</code> to make an EKS cluster easily. We can install it by
following the guide on the <a
href="https://github.com/weaveworks/eksctl">eksctl GitHub
page</a>.</p></li>
<li><p><strong>Create an EKS Cluster</strong>:</p>
<div class="sourceCode" id="cb11"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="ex">eksctl</span> create cluster <span class="at">--name</span> my-cluster <span class="at">--region</span> us-west-2 <span class="at">--nodegroup-name</span> my-nodes <span class="at">--node-type</span> t2.micro <span class="at">--nodes</span> 3</span></code></pre></div></li>
<li><p><strong>Update kubeconfig</strong>:</p>
<div class="sourceCode" id="cb12"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="ex">aws</span> eks <span class="at">--region</span> us-west-2 update-kubeconfig <span class="at">--name</span> my-cluster</span></code></pre></div></li>
<li><p><strong>Check Cluster</strong>:</p>
<div class="sourceCode" id="cb13"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> get nodes</span></code></pre></div></li>
</ol>
<h3 id="additional-resources">Additional Resources</h3>
<p>For more details on how to set up Kubernetes clusters, we can check
<a
href="https://bestonlinetutorial.com/kubernetes/how-do-i-set-up-a-kubernetes-cluster-on-aws-eks.html">How
Do I Set Up a Kubernetes Cluster on AWS EKS</a>.</p>
<p>These steps will help us to set up a Kubernetes cluster. We can do it
locally with Minikube or in the cloud with AWS EKS.</p>
<h2 id="how-can-we-deploy-a-docker-image-to-kubernetes">How Can We
Deploy a Docker Image to Kubernetes?</h2>
<p>To deploy a Docker image to Kubernetes, we need to do some steps.</p>
<ol type="1">
<li><p><strong>Prepare the Docker Image</strong>: First, we must make
sure our Docker image is built and pushed to a container registry. This
can be Docker Hub or a private registry. We can use this command to push
our Docker image:</p>
<div class="sourceCode" id="cb14"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> push <span class="op">&lt;</span>your-username<span class="op">&gt;</span>/<span class="op">&lt;</span>your-image-name<span class="op">&gt;</span>:<span class="op">&lt;</span>tag<span class="op">&gt;</span></span></code></pre></div></li>
<li><p><strong>Set Up Kubernetes Deployment</strong>: Next, we create a
YAML file for the Kubernetes deployment. Below is an example setup for a
deployment:</p>
<div class="sourceCode" id="cb15"><pre
class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">apiVersion</span><span class="kw">:</span><span class="at"> apps/v1</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="fu">kind</span><span class="kw">:</span><span class="at"> Deployment</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="fu">metadata</span><span class="kw">:</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">name</span><span class="kw">:</span><span class="at"> my-app</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a><span class="fu">spec</span><span class="kw">:</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">replicas</span><span class="kw">:</span><span class="at"> </span><span class="dv">3</span></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">selector</span><span class="kw">:</span></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">matchLabels</span><span class="kw">:</span></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">app</span><span class="kw">:</span><span class="at"> my-app</span></span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">template</span><span class="kw">:</span></span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">metadata</span><span class="kw">:</span></span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">labels</span><span class="kw">:</span></span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="fu">app</span><span class="kw">:</span><span class="at"> my-app</span></span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">spec</span><span class="kw">:</span></span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">containers</span><span class="kw">:</span></span>
<span id="cb15-16"><a href="#cb15-16" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> my-app</span></span>
<span id="cb15-17"><a href="#cb15-17" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="fu">image</span><span class="kw">:</span><span class="at"> &lt;your-username&gt;/&lt;your-image-name&gt;:&lt;tag&gt;</span></span>
<span id="cb15-18"><a href="#cb15-18" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="fu">ports</span><span class="kw">:</span></span>
<span id="cb15-19"><a href="#cb15-19" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="kw">-</span><span class="at"> </span><span class="fu">containerPort</span><span class="kw">:</span><span class="at"> </span><span class="dv">80</span></span></code></pre></div></li>
<li><p><strong>Apply the Deployment</strong>: Now we use the
<code>kubectl</code> command to apply the deployment configuration:</p>
<div class="sourceCode" id="cb16"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> apply <span class="at">-f</span> deployment.yaml</span></code></pre></div></li>
<li><p><strong>Expose the Deployment</strong>: We need to create a
service to expose our application. Here is an example of a service
setup:</p>
<div class="sourceCode" id="cb17"><pre
class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">apiVersion</span><span class="kw">:</span><span class="at"> v1</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="fu">kind</span><span class="kw">:</span><span class="at"> Service</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="fu">metadata</span><span class="kw">:</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">name</span><span class="kw">:</span><span class="at"> my-app-service</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a><span class="fu">spec</span><span class="kw">:</span></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">selector</span><span class="kw">:</span></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">app</span><span class="kw">:</span><span class="at"> my-app</span></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">ports</span><span class="kw">:</span></span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">protocol</span><span class="kw">:</span><span class="at"> TCP</span></span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">port</span><span class="kw">:</span><span class="at"> </span><span class="dv">80</span></span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">targetPort</span><span class="kw">:</span><span class="at"> </span><span class="dv">80</span></span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> LoadBalancer</span></span></code></pre></div></li>
<li><p><strong>Apply the Service</strong>: We use the
<code>kubectl</code> command again to apply the service
configuration:</p>
<div class="sourceCode" id="cb18"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> apply <span class="at">-f</span> service.yaml</span></code></pre></div></li>
<li><p><strong>Access Your Application</strong>: After we deploy, we can
access the application using the external IP from the LoadBalancer
service. We can get the external IP by running:</p>
<div class="sourceCode" id="cb19"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> get services</span></code></pre></div></li>
</ol>
<p>This way, we can deploy a Docker image to a Kubernetes cluster. For
more info on managing deployments, we can check <a
href="https://bestonlinetutorial.com/kubernetes/how-do-i-deploy-a-simple-web-application-on-kubernetes.html">how
to deploy a Kubernetes cluster</a>.</p>
<h2 id="what-are-real-life-use-cases-for-docker-and-kubernetes">What are
Real Life Use Cases for Docker and Kubernetes?</h2>
<p>We see Docker and Kubernetes used in many real-life situations in
different fields. Their ability to create and manage containers has
changed how we develop, deploy, and manage applications. Here are some
key use cases:</p>
<ol type="1">
<li><strong>Microservices Architecture</strong>:
<ul>
<li><p>Many companies use Docker to package microservices. This helps
them to deploy and scale services separately. Kubernetes helps to manage
these containers, handling service discovery and load balancing. Here is
an example:</p>
<div class="sourceCode" id="cb20"><pre
class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">apiVersion</span><span class="kw">:</span><span class="at"> apps/v1</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="fu">kind</span><span class="kw">:</span><span class="at"> Deployment</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="fu">metadata</span><span class="kw">:</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">name</span><span class="kw">:</span><span class="at"> microservice-app</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a><span class="fu">spec</span><span class="kw">:</span></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">replicas</span><span class="kw">:</span><span class="at"> </span><span class="dv">3</span></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">selector</span><span class="kw">:</span></span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">matchLabels</span><span class="kw">:</span></span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">app</span><span class="kw">:</span><span class="at"> microservice</span></span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">template</span><span class="kw">:</span></span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">metadata</span><span class="kw">:</span></span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">labels</span><span class="kw">:</span></span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="fu">app</span><span class="kw">:</span><span class="at"> microservice</span></span>
<span id="cb20-14"><a href="#cb20-14" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">spec</span><span class="kw">:</span></span>
<span id="cb20-15"><a href="#cb20-15" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">containers</span><span class="kw">:</span></span>
<span id="cb20-16"><a href="#cb20-16" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> service-a</span></span>
<span id="cb20-17"><a href="#cb20-17" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="fu">image</span><span class="kw">:</span><span class="at"> service-a:latest</span></span>
<span id="cb20-18"><a href="#cb20-18" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> service-b</span></span>
<span id="cb20-19"><a href="#cb20-19" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="fu">image</span><span class="kw">:</span><span class="at"> service-b:latest</span></span></code></pre></div></li>
</ul></li>
<li><strong>Continuous Integration and Deployment (CI/CD)</strong>:
<ul>
<li><p>Docker images help make the CI/CD pipeline smoother. They keep
things consistent across different environments. Kubernetes automates
the deployment process. This includes rolling updates without downtime.
For example, we can use Jenkins like this:</p>
<div class="sourceCode" id="cb21"><pre
class="sourceCode groovy"><code class="sourceCode groovy"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>pipeline <span class="op">{</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>  agent any</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>  stages <span class="op">{</span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">stage</span><span class="op">(</span><span class="st">&#39;Build&#39;</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>      steps <span class="op">{</span></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>        sh <span class="st">&#39;docker build -t myapp:latest .&#39;</span></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>      <span class="op">}</span></span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">stage</span><span class="op">(</span><span class="st">&#39;Deploy&#39;</span><span class="op">)</span> <span class="op">{</span></span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a>      steps <span class="op">{</span></span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a>        sh <span class="st">&#39;kubectl apply -f deployment.yaml&#39;</span></span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a>      <span class="op">}</span></span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a>    <span class="op">}</span></span>
<span id="cb21-14"><a href="#cb21-14" aria-hidden="true" tabindex="-1"></a>  <span class="op">}</span></span>
<span id="cb21-15"><a href="#cb21-15" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div></li>
</ul></li>
<li><strong>Multi-Cloud Strategy</strong>:
<ul>
<li>Organizations use Kubernetes to run applications across different
cloud providers. This helps with high availability and disaster
recovery. Kubernetes hides the details of the infrastructure. This makes
it easier to manage resources in different clouds.</li>
</ul></li>
<li><strong>Big Data Applications</strong>:
<ul>
<li><p>We can run data processing tools like Apache Spark in Docker
containers with Kubernetes. This allows for better resource use and
scaling based on demand. Here is an example setup for Spark on
Kubernetes:</p>
<div class="sourceCode" id="cb22"><pre
class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">apiVersion</span><span class="kw">:</span><span class="at"> v1</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="fu">kind</span><span class="kw">:</span><span class="at"> Pod</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a><span class="fu">metadata</span><span class="kw">:</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">name</span><span class="kw">:</span><span class="at"> spark-pod</span></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a><span class="fu">spec</span><span class="kw">:</span></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">containers</span><span class="kw">:</span></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> spark-container</span></span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">image</span><span class="kw">:</span><span class="at"> spark:latest</span></span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">command</span><span class="kw">:</span><span class="at"> </span><span class="kw">[</span><span class="st">&quot;spark-submit&quot;</span><span class="kw">,</span><span class="at"> </span><span class="st">&quot;--master&quot;</span><span class="kw">,</span><span class="at"> </span><span class="st">&quot;k8s://https://kubernetes.default.svc.cluster.local&quot;</span><span class="kw">,</span><span class="at"> </span><span class="st">&quot;--deploy-mode&quot;</span><span class="kw">,</span><span class="at"> </span><span class="st">&quot;cluster&quot;</span><span class="kw">,</span><span class="at"> </span><span class="st">&quot;--class&quot;</span><span class="kw">,</span><span class="at"> </span><span class="st">&quot;org.apache.spark.examples.SparkPi&quot;</span><span class="kw">,</span><span class="at"> </span><span class="st">&quot;local:///opt/spark/examples/jars/spark-examples_2.12-3.1.1.jar&quot;</span><span class="kw">,</span><span class="at"> </span><span class="st">&quot;1000&quot;</span><span class="kw">]</span></span></code></pre></div></li>
</ul></li>
<li><strong>Development and Testing Environments</strong>:
<ul>
<li>Docker helps developers create separate environments that look like
production. Kubernetes can quickly start and stop clusters for testing.
This keeps development cycles efficient.</li>
</ul></li>
<li><strong>Serverless Applications</strong>:
<ul>
<li><p>Companies use Kubernetes to run functions as a service (FaaS)
with tools like Knative. This lets applications scale automatically
based on what is needed. Here is an example of a Knative service:</p>
<div class="sourceCode" id="cb23"><pre
class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">apiVersion</span><span class="kw">:</span><span class="at"> serving.knative.dev/v1</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="fu">kind</span><span class="kw">:</span><span class="at"> Service</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a><span class="fu">metadata</span><span class="kw">:</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">name</span><span class="kw">:</span><span class="at"> my-serverless-function</span></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a><span class="fu">spec</span><span class="kw">:</span></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">template</span><span class="kw">:</span></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">spec</span><span class="kw">:</span></span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">containers</span><span class="kw">:</span></span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="fu">image</span><span class="kw">:</span><span class="at"> my-function:latest</span></span></code></pre></div></li>
</ul></li>
<li><strong>E-commerce Platforms</strong>:
<ul>
<li>E-commerce sites use Docker and Kubernetes to handle different
workloads during busy times like Black Friday. This helps them scale
services based on the traffic they get.</li>
</ul></li>
<li><strong>Gaming Applications</strong>:
<ul>
<li>Game developers use Docker to package game servers. They use
Kubernetes to manage multiplayer game sessions. This helps to keep
performance strong and makes updates easy.</li>
</ul></li>
<li><strong>Healthcare Applications</strong>:
<ul>
<li>Kubernetes is good for running applications that need to follow
strict rules and security, like patient management systems. Docker helps
these applications run the same way in all environments.</li>
</ul></li>
<li><strong>Financial Services</strong>:
<ul>
<li>Banks and financial companies use Docker and Kubernetes for
high-frequency trading. This helps them quickly deploy and manage
trading apps with little delay.</li>
</ul></li>
</ol>
<p>By using Docker and Kubernetes, we can make our application
deployment faster, more flexible, and more reliable. For more details on
how to deploy applications with Kubernetes, visit <a
href="https://bestonlinetutorial.com/kubernetes/how-do-i-deploy-a-docker-image-to-kubernetes.html">how
to deploy a Docker image to Kubernetes</a>.</p>
<h2 id="how-do-we-manage-and-scale-deployments-in-kubernetes">How Do We
Manage and Scale Deployments in Kubernetes?</h2>
<p>Managing and scaling deployments in Kubernetes is very important for
keeping applications available and running well. Kubernetes gives us
many tools to help with this.</p>
<h3 id="managing-deployments">Managing Deployments</h3>
<p>To manage deployments in Kubernetes, we usually use the
<code>kubectl</code> command-line tool. Here are some common commands we
can use:</p>
<ul>
<li><p><strong>View current deployments</strong>:
<code>bash     kubectl get deployments</code></p></li>
<li><p><strong>Get details about a deployment</strong>:
<code>bash     kubectl describe deployment &lt;deployment-name&gt;</code></p></li>
<li><p><strong>Update a deployment</strong>: We can update a deployment
by changing the YAML file or using the <code>kubectl set</code> command:
<code>bash     kubectl set image deployment/&lt;deployment-name&gt; &lt;container-name&gt;=&lt;new-image&gt;</code></p></li>
<li><p><strong>Rollback a deployment</strong>: If an update has
problems, we can rollback to a previous version:
<code>bash     kubectl rollout undo deployment/&lt;deployment-name&gt;</code></p></li>
</ul>
<h3 id="scaling-deployments">Scaling Deployments</h3>
<p>Kubernetes makes it easy for us to scale our applications. We can
scale deployments up or down depending on what we need.</p>
<ul>
<li><p><strong>Scale a deployment</strong>: To scale a deployment, we
can use the <code>kubectl scale</code> command:
<code>bash     kubectl scale deployment/&lt;deployment-name&gt; --replicas=&lt;number&gt;</code></p></li>
<li><p><strong>Auto-scaling</strong>: We can set up Horizontal Pod
Autoscaler (HPA) to automatically change the number of pods based on CPU
usage or other metrics. To create an HPA, we can use:
<code>bash     kubectl autoscale deployment &lt;deployment-name&gt; --min=&lt;min-replicas&gt; --max=&lt;max-replicas&gt; --cpu-percent=&lt;target-cpu-utilization&gt;</code></p></li>
</ul>
<h3 id="monitoring-and-updating-deployments">Monitoring and Updating
Deployments</h3>
<p>We can check our deployments and their scaling with these
commands:</p>
<ul>
<li><p><strong>Check the rollout status of a deployment</strong>:
<code>bash     kubectl rollout status deployment/&lt;deployment-name&gt;</code></p></li>
<li><p><strong>List rollout history</strong>:
<code>bash     kubectl rollout history deployment/&lt;deployment-name&gt;</code></p></li>
<li><p><strong>Pause a rollout</strong> (to make changes without
applying them right away):
<code>bash     kubectl rollout pause deployment/&lt;deployment-name&gt;</code></p></li>
<li><p><strong>Resume a paused rollout</strong>:
<code>bash     kubectl rollout resume deployment/&lt;deployment-name&gt;</code></p></li>
</ul>
<p>By using these commands and features, we can manage and scale our
deployments in Kubernetes well. This helps our applications handle
different loads while staying stable and responsive. For more
information on managing Kubernetes deployments, we can check this
resource on <a
href="https://bestonlinetutorial.com/kubernetes/what-are-kubernetes-deployments-and-how-do-i-use-them.html">Kubernetes
Deployments</a>.</p>
<h2 id="frequently-asked-questions">Frequently Asked Questions</h2>
<h3
id="what-is-a-docker-image-and-how-is-it-built-for-kubernetes-deployment">1.
What is a Docker image, and how is it built for Kubernetes
deployment?</h3>
<p>A Docker image is a small package. It has everything needed to run a
software. This includes code, runtime, libraries, and environment
variables. To build a Docker image for Kubernetes, we start by making a
<code>Dockerfile</code>. This file has steps to create the image. After
we build the image with the <code>docker build</code> command, we can
push it to a container registry. Then we can use it in our Kubernetes
cluster.</p>
<h3 id="how-do-i-create-a-dockerfile-for-my-application">2. How do I
create a Dockerfile for my application?</h3>
<p>We create a Dockerfile by choosing a base image. Then we set the
working directory, copy application files, and define the command to run
our application. Here is a simple example of a Dockerfile for a Node.js
application:</p>
<div class="sourceCode" id="cb24"><pre
class="sourceCode dockerfile"><code class="sourceCode dockerfile"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> node:14</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="kw">WORKDIR</span> /app</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a><span class="kw">COPY</span> package*.json ./</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a><span class="kw">RUN</span> <span class="ex">npm</span> install</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a><span class="kw">COPY</span> . .</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a><span class="kw">CMD</span> [<span class="st">&quot;node&quot;</span>, <span class="st">&quot;app.js&quot;</span>]</span></code></pre></div>
<p>This helps us prepare our application for making a Docker image that
we can deploy to Kubernetes.</p>
<h3
id="what-is-a-container-registry-and-how-do-i-push-my-image-to-it">3.
What is a container registry, and how do I push my image to it?</h3>
<p>A container registry is a place to store and manage container images.
Some popular registries are Docker Hub and Google Container Registry. To
push our Docker image to a registry, we first log in with
<code>docker login</code>. Then we tag our image with the registry URL.
Finally, we use the <code>docker push</code> command. For example:</p>
<div class="sourceCode" id="cb25"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> tag my-app:latest myregistry/my-app:latest</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="ex">docker</span> push myregistry/my-app:latest</span></code></pre></div>
<h3
id="how-can-i-set-up-a-kubernetes-cluster-for-deploying-my-docker-image">4.
How can I set up a Kubernetes cluster for deploying my Docker
image?</h3>
<p>We can set up a Kubernetes cluster in different ways. We can use
cloud services like Google Kubernetes Engine (GKE) or Amazon EKS. We can
also use tools like Minikube on our local machine. For a local setup, we
install Minikube and run <code>minikube start</code>. This creates a
local Kubernetes cluster. Now we can deploy our Docker images on
Kubernetes for testing and development.</p>
<h3
id="what-are-the-best-practices-for-managing-and-scaling-deployments-in-kubernetes">5.
What are the best practices for managing and scaling deployments in
Kubernetes?</h3>
<p>Best practices for managing and scaling deployments in Kubernetes
include using Kubernetes Deployments. This helps us manage application
states and scale. We can also use Horizontal Pod Autoscaler (HPA) for
automatic scaling based on metrics. We should use ConfigMaps and Secrets
for managing settings and sensitive data. Regularly checking our
Kubernetes cluster’s performance and resource use can help us improve
our deployments.</p>
<p>For more reading about Kubernetes clusters and deployments, check out
<a
href="https://bestonlinetutorial.com/kubernetes/how-do-i-set-up-a-kubernetes-cluster-on-aws-eks.html">how
to set up a Kubernetes cluster on AWS EKS</a> and <a
href="https://bestonlinetutorial.com/kubernetes/how-do-i-deploy-a-docker-image-to-kubernetes.html">how
to deploy a Docker image to Kubernetes</a>.</p>

                        </div>

                    </div>
                    <!--//container-->
                </article>

            </div>
            <!--//main-wrapper-->

            <div id="footer-placeholder"></div>

            <!-- Javascript -->
            <script src="/assets/plugins/popper.min.js" defer></script>
            <script src="/assets/plugins/bootstrap/js/bootstrap.min.js" defer></script>
            <script src="/assets/fontawesome/js/all.min.js" defer></script>
        </body>

        </html>
            
            