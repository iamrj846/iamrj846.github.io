
    
            <!DOCTYPE html>
        <html lang="en">

        <head>
            <!-- Google tag (gtag.js) -->
            <script async src="https://www.googletagmanager.com/gtag/js?id=G-TFCQEJR7TD"></script>
            <script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
            gtag('config', 'G-TFCQEJR7TD');
            </script>
            <meta charset="utf-8">
            <meta http-equiv="X-UA-Compatible" content="IE=edge">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <!-- Common CSS & Icons -->
            <link rel="icon" href="/favicon.ico" type="image/x-icon">
            <link rel="stylesheet" href="/assets/plugins/highlight/styles/monokai-sublime.css">
            <link id="theme-style" rel="stylesheet" href="/assets/css/theme-8.css">
            <link rel="stylesheet" href="/assets/css/post.css">
            <title>How Can I Manually Trigger a Kubernetes Scheduled Job?</title>
            <meta name="description" content="Learn how to manually trigger a Kubernetes scheduled job with our step-by-step guide for effective job management and automation.">
            <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
	        <script src="/assets/js/blog.js"></script>
        </head>

        <body>

            <div id="header-placeholder"></div>

            <div class="main-wrapper">

                <article class="blog-post px-3 py-5 p-md-5">
                    <div class="container single-col-max-width">
                        <header class="blog-post-header">
                            <h1 class="title mb-2">How Can I Manually Trigger a Kubernetes Scheduled Job?</h1>
                        </header>

                        <div class="blog-post-body">
                            <p>To manually start a Kubernetes scheduled job, we can use several
ways. These methods let us run jobs outside their normal schedule. The
easiest way is to use the <code>kubectl</code> command-line tool. This
tool helps us create a job from an existing CronJob. This way, we can do
tasks when we need to without waiting for the next scheduled time. By
following simple steps, we can manage and trigger our Kubernetes
scheduled jobs whenever we want.</p>
<p>In this article, we will look at different ways to manually trigger
Kubernetes scheduled jobs. This will help us improve how we work. We
will explore these solutions:</p>
<ul>
<li>Using kubectl to Manually Trigger a Kubernetes Scheduled Job</li>
<li>Creating a Job from a CronJob Manifest to Trigger a Kubernetes
Scheduled Job</li>
<li>Changing the CronJob Spec to Allow Manual Triggering of Kubernetes
Scheduled Job</li>
<li>Using Helm to Manually Trigger a Kubernetes Scheduled Job</li>
<li>Setting Up a Manual Trigger with Kubernetes API to Start a Scheduled
Job</li>
<li>Frequently Asked Questions</li>
</ul>
<p>By learning these methods, we will be ready to manage our Kubernetes
jobs well. This way, our applications can perform their best. If you
want to learn more about Kubernetes, you may find information on <a
href="https://bestonlinetutorial.com/kubernetes/what-is-kubernetes-and-how-does-it-simplify-container-management.html">how
Kubernetes simplifies container management</a> helpful.</p>
<h2
id="using-kubectl-to-manually-trigger-a-kubernetes-scheduled-job">Using
kubectl to Manually Trigger a Kubernetes Scheduled Job</h2>
<p>We can manually start a Kubernetes scheduled job using
<code>kubectl</code>. To do this, we will create a job from an existing
CronJob. Here is how we can do it:</p>
<ol type="1">
<li><p><strong>Get the CronJob Definition</strong>:<br />
First, we need to get the current CronJob definition. We will use it as
a guide.</p>
<div class="sourceCode" id="cb1"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> get cronjob <span class="op">&lt;</span>cronjob-name<span class="op">&gt;</span> -o yaml <span class="op">&gt;</span> cronjob.yaml</span></code></pre></div></li>
<li><p><strong>Edit the CronJob YAML</strong>:<br />
Next, we open the <code>cronjob.yaml</code> file. We will change it to
make a Job instead of a CronJob. We need to change the kind from
<code>CronJob</code> to <code>Job</code>. Also, we will remove the
schedule field.</p>
<p>Here is an example of how to change it:</p>
<div class="sourceCode" id="cb2"><pre
class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">apiVersion</span><span class="kw">:</span><span class="at"> batch/v1</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="fu">kind</span><span class="kw">:</span><span class="at"> Job</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="fu">metadata</span><span class="kw">:</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">name</span><span class="kw">:</span><span class="at"> &lt;job-name&gt;</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="fu">spec</span><span class="kw">:</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">template</span><span class="kw">:</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">spec</span><span class="kw">:</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">containers</span><span class="kw">:</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> &lt;container-name&gt;</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="fu">image</span><span class="kw">:</span><span class="at"> &lt;container-image&gt;</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">restartPolicy</span><span class="kw">:</span><span class="at"> Never</span></span></code></pre></div></li>
<li><p><strong>Create the Job</strong>:<br />
After we edit the file, we can run the following command to create the
Job from our YAML file.</p>
<div class="sourceCode" id="cb3"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> apply <span class="at">-f</span> cronjob.yaml</span></code></pre></div></li>
<li><p><strong>Check Job Status</strong>:<br />
To check if the job started successfully and to see its status, we can
run:</p>
<div class="sourceCode" id="cb4"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> get jobs</span></code></pre></div></li>
</ol>
<p>Using <code>kubectl</code>, we can easily trigger Kubernetes
scheduled jobs manually by making a Job from the CronJob definition.
This way, we can run the job right away without waiting for the next
scheduled time.</p>
<h2
id="creating-a-job-from-a-cronjob-manifest-to-trigger-a-kubernetes-scheduled-job">Creating
a Job from a CronJob Manifest to Trigger a Kubernetes Scheduled Job</h2>
<p>We can manually trigger a Kubernetes Scheduled Job by making a Job
from an existing CronJob manifest. This helps us run the job right away
without waiting for the scheduled time.</p>
<h3 id="steps-to-create-a-job-from-a-cronjob-manifest">Steps to Create a
Job from a CronJob Manifest</h3>
<ol type="1">
<li><p><strong>Get the CronJob Manifest</strong>: We can use this
command to get the YAML definition of our CronJob.</p>
<div class="sourceCode" id="cb5"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> get cronjob <span class="op">&lt;</span>cronjob-name<span class="op">&gt;</span> -n <span class="op">&lt;</span>namespace<span class="op">&gt;</span> -o yaml</span></code></pre></div></li>
<li><p><strong>Change the Manifest</strong>: We need to copy the output
YAML. Then we will remove the <code>schedule</code> and
<code>successfulJobsHistoryLimit</code> attributes because they do not
matter for a Job. We also change the kind from <code>CronJob</code> to
<code>Job</code>. Here is an example of the modified manifest:</p>
<div class="sourceCode" id="cb6"><pre
class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">apiVersion</span><span class="kw">:</span><span class="at"> batch/v1</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="fu">kind</span><span class="kw">:</span><span class="at"> Job</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="fu">metadata</span><span class="kw">:</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">name</span><span class="kw">:</span><span class="at"> &lt;job-name&gt;</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">namespace</span><span class="kw">:</span><span class="at"> &lt;namespace&gt;</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a><span class="fu">spec</span><span class="kw">:</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">template</span><span class="kw">:</span></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">spec</span><span class="kw">:</span></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">containers</span><span class="kw">:</span></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> &lt;container-name&gt;</span></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="fu">image</span><span class="kw">:</span><span class="at"> &lt;image-name&gt;</span></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="fu">args</span><span class="kw">:</span><span class="at"> </span><span class="kw">[</span><span class="at">&lt;args-if-any&gt;</span><span class="kw">]</span></span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">restartPolicy</span><span class="kw">:</span><span class="at"> Never</span></span></code></pre></div></li>
<li><p><strong>Create the Job</strong>: We save the changed YAML to a
file, like <code>job.yaml</code>. Then we create the Job using this
command:</p>
<div class="sourceCode" id="cb7"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> apply <span class="at">-f</span> job.yaml</span></code></pre></div></li>
<li><p><strong>Check Job Creation</strong>: We need to check the status
of the Job to make sure it is created and running as we expect.</p>
<div class="sourceCode" id="cb8"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> get jobs <span class="at">-n</span> <span class="op">&lt;</span>namespace<span class="op">&gt;</span></span></code></pre></div></li>
</ol>
<p>This way helps us manually trigger a Kubernetes Scheduled Job using
the existing CronJob setup. For more details, we can look at the article
on <a
href="https://bestonlinetutorial.com/kubernetes/how-do-i-run-batch-jobs-in-kubernetes-with-jobs-and-cronjobs.html">running
batch jobs in Kubernetes</a>.</p>
<h2
id="modifying-the-cronjob-spec-to-enable-manual-triggering-of-kubernetes-scheduled-job">Modifying
the CronJob Spec to Enable Manual Triggering of Kubernetes Scheduled
Job</h2>
<p>We can modify a Kubernetes <code>CronJob</code> to allow manual
triggering. To do this, we will change the <code>CronJob</code> settings
and use <code>kubectl</code> to create a job from that
<code>CronJob</code>. It is important to make sure that our existing
<code>CronJob</code> has the right settings. We also need to be able to
create a job when we want.</p>
<h3 id="steps-to-modify-the-cronjob-specification">Steps to Modify the
<code>CronJob</code> Specification</h3>
<ol type="1">
<li><p><strong>Edit the <code>CronJob</code> YAML file</strong> to make
sure it has the right fields.</p>
<p>For example, our <code>CronJob</code> manifest might look like
this:</p>
<div class="sourceCode" id="cb9"><pre
class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">apiVersion</span><span class="kw">:</span><span class="at"> batch/v1beta1</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="fu">kind</span><span class="kw">:</span><span class="at"> CronJob</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="fu">metadata</span><span class="kw">:</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">name</span><span class="kw">:</span><span class="at"> my-cronjob</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a><span class="fu">spec</span><span class="kw">:</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">schedule</span><span class="kw">:</span><span class="at"> </span><span class="st">&quot;*/5 * * * *&quot;</span><span class="co">  # Runs every 5 minutes</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">jobTemplate</span><span class="kw">:</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">spec</span><span class="kw">:</span></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">template</span><span class="kw">:</span></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="fu">spec</span><span class="kw">:</span></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a><span class="at">          </span><span class="fu">containers</span><span class="kw">:</span></span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a><span class="at">          </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> my-container</span></span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a><span class="at">            </span><span class="fu">image</span><span class="kw">:</span><span class="at"> my-image:latest</span></span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a><span class="at">          </span><span class="fu">restartPolicy</span><span class="kw">:</span><span class="at"> OnFailure</span></span></code></pre></div></li>
<li><p><strong>Apply the changes</strong> to our
<code>CronJob</code>:</p>
<div class="sourceCode" id="cb10"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> apply <span class="at">-f</span> my-cronjob.yaml</span></code></pre></div></li>
</ol>
<h3 id="triggering-the-job-manually">Triggering the Job Manually</h3>
<p>After we define the <code>CronJob</code>, we can trigger a job
manually with this command:</p>
<div class="sourceCode" id="cb11"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> create job <span class="at">--from</span><span class="op">=</span>cronjob/my-cronjob my-manual-job</span></code></pre></div>
<h3 id="verifying-the-job">Verifying the Job</h3>
<p>We can check if the job is created and running by using:</p>
<div class="sourceCode" id="cb12"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> get jobs</span></code></pre></div>
<h3 id="important-notes">Important Notes</h3>
<ul>
<li>Make sure that the <code>CronJob</code> is applied right and is
running.</li>
<li>We can change the job name (<code>my-manual-job</code> in the
example) to fit our needs.</li>
</ul>
<p>This method helps us use Kubernetes well to manage scheduled jobs. It
also lets us run jobs manually when we need to. For more details about
managing jobs and cron jobs in Kubernetes, we can check the official
documentation on <a
href="https://bestonlinetutorial.com/kubernetes/run-batch-jobs-in-kubernetes-with-jobs-and-cronjobs.html">running
batch jobs</a>.</p>
<h2 id="using-helm-to-manually-trigger-a-kubernetes-scheduled-job">Using
Helm to Manually Trigger a Kubernetes Scheduled Job</h2>
<p>We can manually trigger a Kubernetes Scheduled Job using Helm. We
will use Helm charts to set up a Job from a CronJob definition. This
process needs us to change the Helm chart and run some Helm
commands.</p>
<ol type="1">
<li><p><strong>Modify the Helm Chart</strong>: We need to update the
<code>templates</code> folder in our Helm chart. We will add a
<code>Job</code> template that lets us run the job anytime we want.</p>
<p>First, we create a new file called
<code>templates/manual-job.yaml</code>:</p>
<div class="sourceCode" id="cb13"><pre
class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">apiVersion</span><span class="kw">:</span><span class="at"> batch/v1</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="fu">kind</span><span class="kw">:</span><span class="at"> Job</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="fu">metadata</span><span class="kw">:</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">name</span><span class="kw">:</span><span class="at"> </span><span class="kw">{</span><span class="at">{ include </span><span class="st">&quot;your-chart.fullname&quot;</span><span class="at"> . </span><span class="kw">}</span><span class="at">}-manual</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a><span class="fu">spec</span><span class="kw">:</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">template</span><span class="kw">:</span></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">spec</span><span class="kw">:</span></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">containers</span><span class="kw">:</span></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> </span><span class="kw">{</span><span class="at">{ .Chart.Name </span><span class="kw">}</span><span class="at">}</span></span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="fu">image</span><span class="kw">:</span><span class="at"> </span><span class="kw">{</span><span class="at">{ .Values.image.repository </span><span class="kw">}</span><span class="at">}:{{ .Values.image.tag }}</span></span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="fu">args</span><span class="kw">:</span><span class="at"> </span><span class="kw">{</span><span class="at">{ .Values.job.args | toJson </span><span class="kw">}</span><span class="at">}</span></span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">restartPolicy</span><span class="kw">:</span><span class="at"> Never</span></span></code></pre></div></li>
<li><p><strong>Update <code>values.yaml</code></strong>: We have to make
sure that our <code>values.yaml</code> has the right settings for the
Job. This includes the image repo and arguments.</p>
<div class="sourceCode" id="cb14"><pre
class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">image</span><span class="kw">:</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">repository</span><span class="kw">:</span><span class="at"> your-image-repo</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">tag</span><span class="kw">:</span><span class="at"> latest</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="fu">job</span><span class="kw">:</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">args</span><span class="kw">:</span><span class="at"> </span><span class="kw">[</span><span class="st">&quot;your&quot;</span><span class="kw">,</span><span class="at"> </span><span class="st">&quot;args&quot;</span><span class="kw">,</span><span class="at"> </span><span class="st">&quot;here&quot;</span><span class="kw">]</span></span></code></pre></div></li>
<li><p><strong>Deploy the Helm Chart</strong>: Now we run this command
to deploy our Helm chart and create the Job:</p>
<div class="sourceCode" id="cb15"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="ex">helm</span> install your-release-name path/to/your-chart</span></code></pre></div></li>
<li><p><strong>Trigger the Job</strong>: If we want to run the job after
we create it, we can use this command to make an instance of the
Job:</p>
<div class="sourceCode" id="cb16"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> create job <span class="at">--from</span><span class="op">=</span>cronjob/your-cronjob-name manual-job</span></code></pre></div></li>
</ol>
<p>This way, we can use Helm to manage our Kubernetes resources. It also
lets us run jobs manually when we need to. For more info on using Helm
with Kubernetes, we can check this article on <a
href="https://bestonlinetutorial.com/kubernetes/how-do-i-use-helm-to-deploy-a-complex-application-on-kubernetes.html">how
to use Helm to deploy a complex application on Kubernetes</a>.</p>
<h2
id="setting-up-a-manual-trigger-with-kubernetes-api-to-start-a-scheduled-job">Setting
Up a Manual Trigger with Kubernetes API to Start a Scheduled Job</h2>
<p>We can manually trigger a Kubernetes Scheduled Job using the
Kubernetes API. We can do this by using the <code>kubectl</code> command
or by talking directly to the Kubernetes API. This process means we
create a Job from the definition of the CronJob.</p>
<h3 id="steps-to-trigger-a-kubernetes-scheduled-job-via-api">Steps to
Trigger a Kubernetes Scheduled Job via API:</h3>
<ol type="1">
<li><p><strong>Identify the CronJob</strong>: We need to have the name
and namespace of the CronJob that we want to run.</p></li>
<li><p><strong>Get the CronJob YAML</strong>: First, we will get the
CronJob definition to create a Job from it.</p>
<div class="sourceCode" id="cb17"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> get cronjob <span class="op">&lt;</span>cronjob-name<span class="op">&gt;</span> -n <span class="op">&lt;</span>namespace<span class="op">&gt;</span> -o yaml <span class="op">&gt;</span> cronjob.yaml</span></code></pre></div></li>
<li><p><strong>Modify the YAML</strong>: Now, we will edit the
downloaded <code>cronjob.yaml</code> to make a Job. We need to remove
the <code>schedule</code> field and change the <code>kind</code> from
<code>CronJob</code> to <code>Job</code>. Also, we must remove the
<code>.status</code> and <code>.spec.schedule</code> parts.</p>
<p>Example modification:</p>
<div class="sourceCode" id="cb18"><pre
class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">apiVersion</span><span class="kw">:</span><span class="at"> batch/v1</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="fu">kind</span><span class="kw">:</span><span class="at"> Job</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="fu">metadata</span><span class="kw">:</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">name</span><span class="kw">:</span><span class="at"> &lt;job-name&gt;</span></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">namespace</span><span class="kw">:</span><span class="at"> &lt;namespace&gt;</span></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a><span class="fu">spec</span><span class="kw">:</span></span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">template</span><span class="kw">:</span></span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">spec</span><span class="kw">:</span></span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">containers</span><span class="kw">:</span></span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> &lt;container-name&gt;</span></span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a><span class="at">          </span><span class="fu">image</span><span class="kw">:</span><span class="at"> &lt;image-name&gt;</span></span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">restartPolicy</span><span class="kw">:</span><span class="at"> Never</span></span></code></pre></div></li>
<li><p><strong>Create the Job</strong>: We will use the changed YAML to
create the Job.</p>
<div class="sourceCode" id="cb19"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> apply <span class="at">-f</span> modified-cronjob.yaml</span></code></pre></div></li>
<li><p><strong>Verify Job Creation</strong>: Finally, we check the Job
status to see if it started successfully.</p>
<div class="sourceCode" id="cb20"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> get jobs <span class="at">-n</span> <span class="op">&lt;</span>namespace<span class="op">&gt;</span></span></code></pre></div></li>
</ol>
<p>This way, we can manually trigger a Kubernetes Scheduled Job using
the Kubernetes API. We use the existing CronJob setup. For more details
about Kubernetes resources, we can visit <a
href="https://bestonlinetutorial.com/kubernetes/how-do-i-run-batch-jobs-in-kubernetes-with-jobs-and-cronjobs.html">this
guide on Kubernetes Jobs</a>.</p>
<h2 id="frequently-asked-questions">Frequently Asked Questions</h2>
<h3 id="what-is-a-kubernetes-scheduled-job">1. What is a Kubernetes
Scheduled Job?</h3>
<p>A Kubernetes Scheduled Job is a way to run jobs at certain times or
intervals. We often use it with a CronJob. It helps us automate tasks
like backups or generating reports. If we want to start a Kubernetes
Scheduled Job by hand, we can use the <code>kubectl</code> command or
create a Job from the CronJob setup. This gives us more efficiency in
our operations.</p>
<h3 id="how-do-i-use-kubectl-to-manually-trigger-a-scheduled-job">2. How
do I use <code>kubectl</code> to manually trigger a scheduled job?</h3>
<p>To start a Kubernetes Scheduled Job with <code>kubectl</code>, first
we need to find the CronJob we want to run. After that, we can use this
command:</p>
<div class="sourceCode" id="cb21"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> create job <span class="at">--from</span><span class="op">=</span>cronjob/<span class="op">&lt;</span>cronjob-name<span class="op">&gt;</span> <span class="op">&lt;</span>job-name<span class="op">&gt;</span></span></code></pre></div>
<p>This command makes a Job from the CronJob we picked. It lets us run
the job right away instead of waiting for the next time it is
scheduled.</p>
<h3 id="can-i-modify-a-cronjob-to-enable-manual-triggering">3. Can I
modify a CronJob to enable manual triggering?</h3>
<p>Yes, we can change a CronJob in Kubernetes to allow manual
triggering. We do this by creating a Job from its setup. We can also
change the CronJob details so it meets our needs. This way, we can have
jobs that run on schedule and also ones we trigger by hand when we
need.</p>
<h3 id="how-does-helm-help-in-managing-kubernetes-scheduled-jobs">4. How
does Helm help in managing Kubernetes Scheduled Jobs?</h3>
<p>Helm makes it easier to manage Kubernetes applications, including
Scheduled Jobs. We can create and manage Helm charts for our CronJobs.
This makes updates and rollbacks simple. To start a Kubernetes Scheduled
Job by hand, we can use Helm commands to deploy a Job. This gives us a
smooth way to manage jobs in our Kubernetes cluster.</p>
<h3
id="is-it-possible-to-use-the-kubernetes-api-to-start-a-scheduled-job-manually">5.
Is it possible to use the Kubernetes API to start a scheduled job
manually?</h3>
<p>Yes, we can use the Kubernetes API to create a Job from a CronJob
programmatically. By sending a POST request to the right endpoint, we
can start the scheduled job manually. This helps us link with other
systems or automation tools. This method gives us flexibility if we want
to automate our work.</p>
<p>For more information about Kubernetes and what it can do, look at
this article on <a
href="https://bestonlinetutorial.com/kubernetes/what-is-kubernetes-and-how-does-it-simplify-container-management.html">what
Kubernetes is and how it simplifies container management</a>.</p>

                        </div>

                    </div>
                    <!--//container-->
                </article>

            </div>
            <!--//main-wrapper-->

            <div id="footer-placeholder"></div>

            <!-- Javascript -->
            <script src="/assets/plugins/popper.min.js" defer></script>
            <script src="/assets/plugins/bootstrap/js/bootstrap.min.js" defer></script>
            <script src="/assets/fontawesome/js/all.min.js" defer></script>
        </body>

        </html>
            
            