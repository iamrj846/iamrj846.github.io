
    
            <!DOCTYPE html>
        <html lang="en">

        <head>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-TFCQEJR7TD"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-TFCQEJR7TD');
</script>
            <title>What are Kubernetes Pods and How Do I Work with Them?</title>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebSite",
      "name": "BestOnlineTutorial",
      "url": "https://www.bestonlinetutorial.com/"
    }
    </script>

<!-- Common CSS & Icons -->
<link rel="icon" href="/favicon.ico" type="image/x-icon">
<link rel="stylesheet" href="/assets/plugins/highlight/styles/monokai-sublime.css">
<link id="theme-style" rel="stylesheet" href="/assets/css/theme-8.css">
<link rel="stylesheet" href="/assets/css/post.css">
            <meta name="description" content="Discover what Kubernetes Pods are and learn how to effectively work with them in this comprehensive guide. Start mastering Kubernetes!">

            <div id="head-placeholder"></div>
            <script src="/assets/js/blog.js" defer></script>
            <link rel="stylesheet" href="/assets/css/post.css">
        </head>

        <body>

            <div id="header-placeholder"></div>

            <div class="main-wrapper">

                <article class="blog-post px-3 py-5 p-md-5">
                    <div class="container single-col-max-width">
                        <header class="blog-post-header">
                            <h1 class="title mb-2">What are Kubernetes Pods and How Do I Work with Them?</h1>
                        </header>

                        <div class="blog-post-body">
                            <p>Kubernetes Pods are the smallest units we can deploy in Kubernetes.
They represent one running process in our cluster. A Pod can hold one or
more containers. These containers share the same network space, so they
can talk to each other easily. Pods help us manage the lifecycle of
these containers. They also give them the resources they need like
storage and networking.</p>
<p>In this article, we will look closely at Kubernetes Pods. We will
talk about how a Kubernetes Pod is structured. We will also learn how to
create and manage Pods using kubectl. We will see the benefits of using
multi-container Pods. Additionally, we will discuss how to set up
networking for Pods. We will cover common uses, how to monitor and
troubleshoot, and strategies for scaling. At the end, we will answer
some common questions to help us understand Kubernetes Pods better.</p>
<ul>
<li>What are Kubernetes Pods and How Do I Work with Them in Detail?</li>
<li>What is the Structure of a Kubernetes Pod?</li>
<li>How Do I Create a Kubernetes Pod?</li>
<li>How Do I Manage Kubernetes Pods with kubectl?</li>
<li>What are Multi-Container Pods and Why Use Them?</li>
<li>How Do I Configure Networking for Kubernetes Pods?</li>
<li>What are Common Use Cases for Kubernetes Pods?</li>
<li>How Do I Monitor and Troubleshoot Kubernetes Pods?</li>
<li>How Do I Scale Kubernetes Pods?</li>
<li>Frequently Asked Questions</li>
</ul>
<p>For more reading on Kubernetes and its features, we can check these
articles: <a
href="https://bestonlinetutorial.com/kubernetes/what-is-kubernetes-and-how-does-it-simplify-container-management.html">What
is Kubernetes and How Does it Simplify Container Management?</a>, <a
href="https://bestonlinetutorial.com/kubernetes/why-should-i-use-kubernetes-for-my-applications.html">Why
Should I Use Kubernetes for My Applications?</a>, and <a
href="https://bestonlinetutorial.com/kubernetes/what-are-the-key-components-of-a-kubernetes-cluster.html">What
are the Key Components of a Kubernetes Cluster?</a>.</p>
<h2 id="what-is-the-structure-of-a-kubernetes-pod">What is the Structure
of a Kubernetes Pod?</h2>
<p>A Kubernetes Pod is the smallest unit we can deploy in Kubernetes. It
has one or more containers that share the same network and storage.
Let’s look at the main parts of a Kubernetes Pod.</p>
<ul>
<li><p><strong>Metadata</strong>: This part has information about the
Pod. It includes its name, namespace, labels, and annotations.</p></li>
<li><p><strong>Spec</strong>: This part shows what we want the Pod to
look like. It includes:</p>
<ul>
<li><strong>Containers</strong>: This is a list of containers. Each
container has:
<ul>
<li><code>name</code>: A unique name for the container.</li>
<li><code>image</code>: The image we want to use for the container.</li>
<li><code>ports</code>: The ports we want to open from the
container.</li>
<li><code>env</code>: The environment variables for the container.</li>
<li><code>resources</code>: The requests and limits for resources like
CPU and memory.</li>
</ul></li>
</ul></li>
<li><p><strong>Status</strong>: This part tells us the current state of
the Pod. It can show if it is <code>Running</code>,
<code>Pending</code>, or <code>Failed</code>.</p></li>
</ul>
<p>Here is a simple YAML example for a Kubernetes Pod:</p>
<div class="sourceCode" id="cb1"><pre
class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">apiVersion</span><span class="kw">:</span><span class="at"> v1</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">kind</span><span class="kw">:</span><span class="at"> Pod</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">metadata</span><span class="kw">:</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">name</span><span class="kw">:</span><span class="at"> my-app-pod</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">labels</span><span class="kw">:</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">app</span><span class="kw">:</span><span class="at"> my-app</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="fu">spec</span><span class="kw">:</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">containers</span><span class="kw">:</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> my-app-container</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">image</span><span class="kw">:</span><span class="at"> my-app-image:latest</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">ports</span><span class="kw">:</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">containerPort</span><span class="kw">:</span><span class="at"> </span><span class="dv">80</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">env</span><span class="kw">:</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> ENV_VAR_NAME</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">value</span><span class="kw">:</span><span class="at"> </span><span class="st">&quot;value&quot;</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">resources</span><span class="kw">:</span></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">requests</span><span class="kw">:</span></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="fu">memory</span><span class="kw">:</span><span class="at"> </span><span class="st">&quot;64Mi&quot;</span></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="fu">cpu</span><span class="kw">:</span><span class="at"> </span><span class="st">&quot;250m&quot;</span></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">limits</span><span class="kw">:</span></span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="fu">memory</span><span class="kw">:</span><span class="at"> </span><span class="st">&quot;128Mi&quot;</span></span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="fu">cpu</span><span class="kw">:</span><span class="at"> </span><span class="st">&quot;500m&quot;</span></span></code></pre></div>
<p>In this example: - The <code>metadata</code> part tells us the name
and labels. - The <code>spec</code> part shows one container with its
image, ports, environment variables, and resource details.</p>
<p>Kubernetes Pods can also have more settings. This includes volumes
for storage that lasts and init containers for tasks we need to do
before the main containers start.</p>
<h2 id="how-do-we-create-a-kubernetes-pod">How Do We Create a Kubernetes
Pod?</h2>
<p>Creating a Kubernetes Pod means we define what we want in a YAML
file. Then we use the <code>kubectl</code> command to apply it. Here is
a simple guide to create a Kubernetes Pod.</p>
<ol type="1">
<li><p><strong>Define the Pod in a YAML File</strong>: We start by
making a file called <code>my-pod.yaml</code>. This file should have
this content:</p>
<div class="sourceCode" id="cb2"><pre
class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">apiVersion</span><span class="kw">:</span><span class="at"> v1</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="fu">kind</span><span class="kw">:</span><span class="at"> Pod</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="fu">metadata</span><span class="kw">:</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">name</span><span class="kw">:</span><span class="at"> my-pod</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="fu">spec</span><span class="kw">:</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">containers</span><span class="kw">:</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> my-container</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">image</span><span class="kw">:</span><span class="at"> nginx:latest</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">ports</span><span class="kw">:</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">containerPort</span><span class="kw">:</span><span class="at"> </span><span class="dv">80</span></span></code></pre></div>
<p>This setup creates a Pod named <code>my-pod</code> with an NGINX
container.</p></li>
<li><p><strong>Apply the YAML File</strong>: Next, we use the
<code>kubectl</code> command to create the Pod in our Kubernetes
cluster.</p>
<div class="sourceCode" id="cb3"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> apply <span class="at">-f</span> my-pod.yaml</span></code></pre></div></li>
<li><p><strong>Verify the Pod Creation</strong>: Now we check if the Pod
is created. We can do this by running:</p>
<div class="sourceCode" id="cb4"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> get pods</span></code></pre></div>
<p>We should see <code>my-pod</code> in the list of running
Pods.</p></li>
<li><p><strong>Access the Pod</strong>: To talk with the container in
the Pod, we can use this command:</p>
<div class="sourceCode" id="cb5"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> exec <span class="at">-it</span> my-pod <span class="at">--</span> /bin/bash</span></code></pre></div></li>
<li><p><strong>Delete the Pod</strong>: If we need to remove the Pod, we
can use this command:</p>
<div class="sourceCode" id="cb6"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> delete pod my-pod</span></code></pre></div></li>
</ol>
<p>If we want more details about managing our Kubernetes Pods, we can
check <a
href="https://bestonlinetutorial.com/kubernetes/what-are-the-key-components-of-a-kubernetes-cluster.html">this
article on Kubernetes components</a>.</p>
<h2 id="how-do-we-manage-kubernetes-pods-with-kubectl">How Do We Manage
Kubernetes Pods with kubectl?</h2>
<p>We mainly manage Kubernetes Pods with the command-line tool
<code>kubectl</code>. This tool helps us create, update, delete, and get
info about Pods in our Kubernetes cluster. Below are some commands and
examples to help us manage Kubernetes Pods.</p>
<h3 id="viewing-pods">Viewing Pods</h3>
<p>To see all Pods in the current namespace, we can use:</p>
<div class="sourceCode" id="cb7"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> get pods</span></code></pre></div>
<p>If we want to see Pods in a specific namespace, we can use:</p>
<div class="sourceCode" id="cb8"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> get pods <span class="at">-n</span> <span class="op">&lt;</span>namespace<span class="op">&gt;</span></span></code></pre></div>
<h3 id="creating-pods">Creating Pods</h3>
<p>We can create a Pod using a YAML configuration file. Here is an
example of a Pod definition:</p>
<div class="sourceCode" id="cb9"><pre
class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">apiVersion</span><span class="kw">:</span><span class="at"> v1</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="fu">kind</span><span class="kw">:</span><span class="at"> Pod</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="fu">metadata</span><span class="kw">:</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">name</span><span class="kw">:</span><span class="at"> my-pod</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a><span class="fu">spec</span><span class="kw">:</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">containers</span><span class="kw">:</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> my-container</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">image</span><span class="kw">:</span><span class="at"> nginx</span></span></code></pre></div>
<p>To create the Pod, we run this command:</p>
<div class="sourceCode" id="cb10"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> apply <span class="at">-f</span> pod.yaml</span></code></pre></div>
<h3 id="deleting-pods">Deleting Pods</h3>
<p>To delete a specific Pod, we can use:</p>
<div class="sourceCode" id="cb11"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> delete pod <span class="op">&lt;</span>pod-name<span class="op">&gt;</span></span></code></pre></div>
<p>To delete all Pods in the current namespace, we run:</p>
<div class="sourceCode" id="cb12"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> delete pods <span class="at">--all</span></span></code></pre></div>
<h3 id="updating-pods">Updating Pods</h3>
<p>To update a Pod, we can edit the configuration directly:</p>
<div class="sourceCode" id="cb13"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> edit pod <span class="op">&lt;</span>pod-name<span class="op">&gt;</span></span></code></pre></div>
<p>Or we can update using a new YAML file:</p>
<div class="sourceCode" id="cb14"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> apply <span class="at">-f</span> updated-pod.yaml</span></code></pre></div>
<h3 id="describing-pods">Describing Pods</h3>
<p>To get more details about a specific Pod, we use:</p>
<div class="sourceCode" id="cb15"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> describe pod <span class="op">&lt;</span>pod-name<span class="op">&gt;</span></span></code></pre></div>
<h3 id="viewing-pod-logs">Viewing Pod Logs</h3>
<p>To see logs of a specific Pod, we can use:</p>
<div class="sourceCode" id="cb16"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> logs <span class="op">&lt;</span>pod-name<span class="op">&gt;</span></span></code></pre></div>
<p>If the Pod has multiple</p>
<h2 id="what-are-multi-container-pods-and-why-use-them">What are
Multi-Container Pods and Why Use Them?</h2>
<p>Multi-container Pods in Kubernetes are Pods that hold more than one
container. These containers share the same network space. They can talk
to each other using <code>localhost</code>. This design helps
applications work closely together. The containers act like one
unit.</p>
<h3 id="why-use-multi-container-pods">Why Use Multi-Container Pods?</h3>
<ol type="1">
<li><p><strong>Tight Coupling</strong>: This is good for apps that need
close teamwork. For example, a main app and a sidecar that helps with
logging or monitoring.</p></li>
<li><p><strong>Resource Sharing</strong>: Containers in the same Pod
share storage and network resources. This makes it easy to share data
and lowers extra costs.</p></li>
<li><p><strong>Simplified Management</strong>: We manage Multi-container
Pods as one unit. This makes it easier to deploy, scale, and monitor
them.</p></li>
<li><p><strong>Microservices Architecture</strong>: This supports the
microservices style. It lets us bundle different functions together.
This improves how we organize our apps.</p></li>
</ol>
<h3 id="example-use-cases">Example Use Cases</h3>
<ul>
<li><strong>Sidecar Pattern</strong>: A logging agent collects logs from
a web server in the same Pod.</li>
<li><strong>Ambassador Pattern</strong>: A proxy helps the main app talk
to outside services.</li>
<li><strong>Init Containers</strong>: These containers run before the
main app starts. They make sure everything is ready.</li>
</ul>
<h3 id="yaml-configuration-example">YAML Configuration Example</h3>
<p>Here is a simple YAML configuration to create a Multi-Container
Pod:</p>
<div class="sourceCode" id="cb17"><pre
class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">apiVersion</span><span class="kw">:</span><span class="at"> v1</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="fu">kind</span><span class="kw">:</span><span class="at"> Pod</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="fu">metadata</span><span class="kw">:</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">name</span><span class="kw">:</span><span class="at"> multi-container-pod</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a><span class="fu">spec</span><span class="kw">:</span></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">containers</span><span class="kw">:</span></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> main-app</span></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">image</span><span class="kw">:</span><span class="at"> myapp:latest</span></span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">ports</span><span class="kw">:</span></span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="kw">-</span><span class="at"> </span><span class="fu">containerPort</span><span class="kw">:</span><span class="at"> </span><span class="dv">8080</span></span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> logging-agent</span></span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">image</span><span class="kw">:</span><span class="at"> logging-agent:latest</span></span></code></pre></div>
<p>In this example, the <code>multi-container-pod</code> has two
containers. One is the main application and the other is a logging
agent. Both containers can talk using <code>localhost</code>. They share
the same life cycle managed by Kubernetes.</p>
<p>Multi-container Pods are a strong feature in Kubernetes. They help
apps by letting many parts work together smoothly. For more info about
Kubernetes and its features, we can go to <a
href="https://bestonlinetutorial.com/kubernetes/what-is-kubernetes-and-how-does-it-simplify-container-management.html">What
is Kubernetes and How Does it Simplify Container Management?</a>.</p>
<h2 id="how-do-we-configure-networking-for-kubernetes-pods">How Do We
Configure Networking for Kubernetes Pods?</h2>
<p>Kubernetes Pods have a special networking system. This system lets
containers in the same Pod talk to each other using
<code>localhost</code>. Each Pod gets its own IP address. Containers in
different Pods talk to each other using these IP addresses.</p>
<h3 id="key-networking-ideas">Key Networking Ideas</h3>
<ul>
<li><p><strong>Container-to-Container Communication</strong>: Containers
in the same Pod can use <code>localhost</code> to communicate. For
example, if we have a web server and a database in the same Pod, they
connect using <code>http://localhost:port</code>.</p></li>
<li><p><strong>Pod-to-Pod Communication</strong>: Pods can talk to each
other using their IP addresses.</p></li>
<li><p><strong>Services</strong>: To let a Pod or a group of Pods be
accessible from outside, we can create a Kubernetes Service. This
Service can be <code>ClusterIP</code>, <code>NodePort</code>, or
<code>LoadBalancer</code>.</p></li>
</ul>
<h3 id="configuring-a-kubernetes-pod-with-networking">Configuring a
Kubernetes Pod with Networking</h3>
<ol type="1">
<li><strong>Creating a Pod with Networking Configuration</strong>:</li>
</ol>
<p>Here is a simple example of a YAML file for a Pod with two containers
that can communicate using <code>localhost</code>:</p>
<div class="sourceCode" id="cb18"><pre
class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">apiVersion</span><span class="kw">:</span><span class="at"> v1</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="fu">kind</span><span class="kw">:</span><span class="at"> Pod</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="fu">metadata</span><span class="kw">:</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">name</span><span class="kw">:</span><span class="at"> example-pod</span></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a><span class="fu">spec</span><span class="kw">:</span></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">containers</span><span class="kw">:</span></span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> web</span></span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">image</span><span class="kw">:</span><span class="at"> nginx</span></span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> db</span></span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">image</span><span class="kw">:</span><span class="at"> mysql</span></span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">env</span><span class="kw">:</span></span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> MYSQL_ROOT_PASSWORD</span></span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">value</span><span class="kw">:</span><span class="at"> rootpassword</span></span></code></pre></div>
<ol start="2" type="1">
<li><strong>Creating a Service for Pod Access</strong>:</li>
</ol>
<p>To make the Pod accessible, we create a Service:</p>
<div class="sourceCode" id="cb19"><pre
class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">apiVersion</span><span class="kw">:</span><span class="at"> v1</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="fu">kind</span><span class="kw">:</span><span class="at"> Service</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a><span class="fu">metadata</span><span class="kw">:</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">name</span><span class="kw">:</span><span class="at"> example-service</span></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a><span class="fu">spec</span><span class="kw">:</span></span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">selector</span><span class="kw">:</span></span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">app</span><span class="kw">:</span><span class="at"> example-pod</span></span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">ports</span><span class="kw">:</span></span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">protocol</span><span class="kw">:</span><span class="at"> TCP</span></span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">port</span><span class="kw">:</span><span class="at"> </span><span class="dv">80</span></span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">targetPort</span><span class="kw">:</span><span class="at"> </span><span class="dv">80</span></span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> NodePort</span></span></code></pre></div>
<ol start="3" type="1">
<li><strong>Network Policies</strong>:</li>
</ol>
<p>We can set network policies to manage the traffic between Pods. Here
is an example of a NetworkPolicy that allows traffic only from certain
Pods:</p>
<div class="sourceCode" id="cb20"><pre
class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">apiVersion</span><span class="kw">:</span><span class="at"> networking.k8s.io/v1</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="fu">kind</span><span class="kw">:</span><span class="at"> NetworkPolicy</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="fu">metadata</span><span class="kw">:</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">name</span><span class="kw">:</span><span class="at"> allow-specific</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a><span class="fu">spec</span><span class="kw">:</span></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">podSelector</span><span class="kw">:</span></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">matchLabels</span><span class="kw">:</span></span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">role</span><span class="kw">:</span><span class="at"> db</span></span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">ingress</span><span class="kw">:</span></span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">from</span><span class="kw">:</span></span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">podSelector</span><span class="kw">:</span></span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="fu">matchLabels</span><span class="kw">:</span></span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a><span class="at">          </span><span class="fu">role</span><span class="kw">:</span><span class="at"> web</span></span></code></pre></div>
<h3 id="testing-pod-networking">Testing Pod Networking</h3>
<p>We can use this command to check if our Pods can communicate:</p>
<div class="sourceCode" id="cb21"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> exec <span class="at">-it</span> <span class="op">&lt;</span>pod-name<span class="op">&gt;</span> -- curl http://<span class="op">&lt;</span>other-pod-ip<span class="op">&gt;</span>:<span class="op">&lt;</span>port<span class="op">&gt;</span></span></code></pre></div>
<h3 id="more-things-to-think-about">More Things to Think About</h3>
<ul>
<li><p><strong>CNI Plugins</strong>: Kubernetes needs Container Network
Interface (CNI) plugins for networking. We should make sure we have a
good CNI plugin installed like Calico, Flannel, or Weave.</p></li>
<li><p><strong>DNS</strong>: Kubernetes offers DNS for finding services.
We can access a Service by its name in the cluster, for example,
<code>http://example-service</code>.</p></li>
</ul>
<p>For more detailed information on how to set up a Kubernetes cluster,
we can check <a
href="https://bestonlinetutorial.com/kubernetes/how-do-i-set-up-a-kubernetes-cluster-on-aws-eks.html">how
to set up a Kubernetes cluster on AWS EKS</a>.</p>
<h2 id="what-are-common-use-cases-for-kubernetes-pods">What are Common
Use Cases for Kubernetes Pods?</h2>
<p>Kubernetes Pods are the smallest units we can deploy in Kubernetes.
They help run one or more containers. Pods have many uses in
microservices and cloud-native applications. Here are some common use
cases for Kubernetes Pods:</p>
<ol type="1">
<li><p><strong>Single-Container Applications</strong>: We often use Pods
to deploy single applications. For example, we can run a web server or a
database as one container inside a Pod.</p>
<div class="sourceCode" id="cb22"><pre
class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">apiVersion</span><span class="kw">:</span><span class="at"> v1</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="fu">kind</span><span class="kw">:</span><span class="at"> Pod</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a><span class="fu">metadata</span><span class="kw">:</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">name</span><span class="kw">:</span><span class="at"> my-app</span></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a><span class="fu">spec</span><span class="kw">:</span></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">containers</span><span class="kw">:</span></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> my-app-container</span></span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">image</span><span class="kw">:</span><span class="at"> nginx:latest</span></span></code></pre></div></li>
<li><p><strong>Multi-Container Applications</strong>: Pods can hold many
containers that work together. For instance, a main application
container can run with a sidecar container for logging or
monitoring.</p>
<div class="sourceCode" id="cb23"><pre
class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">apiVersion</span><span class="kw">:</span><span class="at"> v1</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="fu">kind</span><span class="kw">:</span><span class="at"> Pod</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a><span class="fu">metadata</span><span class="kw">:</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">name</span><span class="kw">:</span><span class="at"> multi-container-app</span></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a><span class="fu">spec</span><span class="kw">:</span></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">containers</span><span class="kw">:</span></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> app-container</span></span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">image</span><span class="kw">:</span><span class="at"> my-app-image</span></span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> sidecar-container</span></span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">image</span><span class="kw">:</span><span class="at"> my-logging-image</span></span></code></pre></div></li>
<li><p><strong>Batch Processing</strong>: Pods can run batch jobs that
process data at the same time. We can use Jobs or CronJobs to manage
scheduled tasks or one-time jobs.</p>
<div class="sourceCode" id="cb24"><pre
class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">apiVersion</span><span class="kw">:</span><span class="at"> batch/v1</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="fu">kind</span><span class="kw">:</span><span class="at"> Job</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a><span class="fu">metadata</span><span class="kw">:</span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">name</span><span class="kw">:</span><span class="at"> batch-job</span></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a><span class="fu">spec</span><span class="kw">:</span></span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">template</span><span class="kw">:</span></span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">spec</span><span class="kw">:</span></span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">containers</span><span class="kw">:</span></span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> job-container</span></span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="fu">image</span><span class="kw">:</span><span class="at"> my-batch-image</span></span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">restartPolicy</span><span class="kw">:</span><span class="at"> Never</span></span></code></pre></div></li>
<li><p><strong>Service Discovery</strong>: Pods can get a DNS name
automatically. This allows them to talk to each other. It is very
important for service discovery in microservices.</p></li>
<li><p><strong>Load Balancing</strong>: If we use many copies of Pods,
Kubernetes can spread traffic across them. This helps with availability
and performance.</p></li>
<li><p><strong>Configuration and Secrets Management</strong>: Pods can
use ConfigMaps and Secrets. This helps manage application settings and
sensitive information without putting them directly in the container
image.</p>
<div class="sourceCode" id="cb25"><pre
class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">apiVersion</span><span class="kw">:</span><span class="at"> v1</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="fu">kind</span><span class="kw">:</span><span class="at"> Pod</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a><span class="fu">metadata</span><span class="kw">:</span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">name</span><span class="kw">:</span><span class="at"> configmap-example</span></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a><span class="fu">spec</span><span class="kw">:</span></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">containers</span><span class="kw">:</span></span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> app-container</span></span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">image</span><span class="kw">:</span><span class="at"> my-app-image</span></span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">env</span><span class="kw">:</span></span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> MY_CONFIG</span></span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">valueFrom</span><span class="kw">:</span></span>
<span id="cb25-12"><a href="#cb25-12" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="fu">configMapKeyRef</span><span class="kw">:</span></span>
<span id="cb25-13"><a href="#cb25-13" aria-hidden="true" tabindex="-1"></a><span class="at">          </span><span class="fu">name</span><span class="kw">:</span><span class="at"> my-configmap</span></span>
<span id="cb25-14"><a href="#cb25-14" aria-hidden="true" tabindex="-1"></a><span class="at">          </span><span class="fu">key</span><span class="kw">:</span><span class="at"> config-key</span></span></code></pre></div></li>
<li><p><strong>Microservices Architecture</strong>: Pods help us deploy
microservices. Each service runs in its own Pod. This lets us scale and
manage them separately.</p></li>
<li><p><strong>Testing and Staging Environments</strong>: Pods can
create separate spaces for testing new features or staging applications
before we put them into production.</p></li>
<li><p><strong>Resource Allocation</strong>: Kubernetes Pods let us set
resource requests and limits for CPU and memory. This ensures we use
cluster resources well.</p></li>
<li><p><strong>Stateful Applications</strong>: With StatefulSets, Pods
can handle stateful applications that need stable identities and storage
that lasts.</p></li>
</ol>
<p>For more information about Kubernetes and its uses, you can check <a
href="https://bestonlinetutorial.com/kubernetes/why-should-i-use-kubernetes-for-my-applications.html">this
article on why you should use Kubernetes for your applications</a>.</p>
<h2 id="how-do-we-monitor-and-troubleshoot-kubernetes-pods">How Do We
Monitor and Troubleshoot Kubernetes Pods?</h2>
<p>Monitoring and troubleshooting Kubernetes Pods is very important. It
helps us keep our applications healthy and working well. Here are some
simple ways and tools we can use.</p>
<h3 id="monitoring-pods">Monitoring Pods</h3>
<ol type="1">
<li><p><strong>Using <code>kubectl</code> Commands</strong>:</p>
<ul>
<li><p>To check the status of Pods, we can use:</p>
<div class="sourceCode" id="cb26"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> get pods</span></code></pre></div></li>
<li><p>If we want to see more details about a specific Pod, we can
run:</p>
<div class="sourceCode" id="cb27"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> describe pod <span class="op">&lt;</span>pod-name<span class="op">&gt;</span></span></code></pre></div></li>
<li><p>To get logs from a Pod, we can type:</p>
<div class="sourceCode" id="cb28"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> logs <span class="op">&lt;</span>pod-name<span class="op">&gt;</span></span></code></pre></div></li>
<li><p>For Pods with multiple containers, we need to specify the
container:</p>
<div class="sourceCode" id="cb29"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> logs <span class="op">&lt;</span>pod-name<span class="op">&gt;</span> -c <span class="op">&lt;</span>container-name<span class="op">&gt;</span></span></code></pre></div></li>
</ul></li>
<li><p><strong>Metrics Server</strong>: We should install Metrics
Server. It helps us gather resource usage data:</p>
<div class="sourceCode" id="cb30"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> apply <span class="at">-f</span> https://github.com/kubernetes-sigs/metrics-server/releases/latest/download/components.yaml</span></code></pre></div>
<p>To check the metrics, we run:</p>
<div class="sourceCode" id="cb31"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> top pods</span></code></pre></div></li>
<li><p><strong>Prometheus and Grafana</strong>: We can use Prometheus
for monitoring and Grafana for showing data visually. We can deploy them
using Helm:</p>
<div class="sourceCode" id="cb32"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="ex">helm</span> install prometheus stable/prometheus</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a><span class="ex">helm</span> install grafana stable/grafana</span></code></pre></div></li>
</ol>
<h3 id="troubleshooting-pods">Troubleshooting Pods</h3>
<ol type="1">
<li><p><strong>Inspecting Pod Events</strong>: To see events related to
Pods, we can use this command:</p>
<div class="sourceCode" id="cb33"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> get events <span class="at">--sort-by</span><span class="op">=</span>.metadata.creationTimestamp</span></code></pre></div></li>
<li><p><strong>Check Pod Status</strong>: If a Pod is not running right,
we should check its status:</p>
<div class="sourceCode" id="cb34"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> get pod <span class="op">&lt;</span>pod-name<span class="op">&gt;</span> -o jsonpath=<span class="st">&#39;{.status.phase}&#39;</span></span></code></pre></div></li>
<li><p><strong>Accessing Pod Shell</strong>: For debugging, we can
access a Pod’s shell:</p>
<div class="sourceCode" id="cb35"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> exec <span class="at">-it</span> <span class="op">&lt;</span>pod-name<span class="op">&gt;</span> -- /bin/sh</span></code></pre></div></li>
<li><p><strong>Identifying CrashLoopBackOff</strong>: If a Pod is in a
CrashLoopBackOff state, we should check the logs for errors:</p>
<div class="sourceCode" id="cb36"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> logs <span class="op">&lt;</span>pod-name<span class="op">&gt;</span></span></code></pre></div></li>
<li><p><strong>Using Events for Troubleshooting</strong>: Events can
help us understand what went wrong. We can use:</p>
<div class="sourceCode" id="cb37"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> describe pod <span class="op">&lt;</span>pod-name<span class="op">&gt;</span> <span class="kw">|</span> <span class="fu">grep</span> Events <span class="at">-A</span> 10</span></code></pre></div></li>
<li><p><strong>Network Issues</strong>: If we think there are networking
problems, we need to check the network policies. We can use tools like
<code>kubectl exec</code> with <code>curl</code> or <code>ping</code> to
check the connection.</p></li>
</ol>
<p>For more understanding of Kubernetes and its parts, we can check
guides like <a
href="https://bestonlinetutorial.com/kubernetes/what-are-the-key-components-of-a-kubernetes-cluster.html">What
are the Key Components of a Kubernetes Cluster</a>.</p>
<p>These methods help us monitor and troubleshoot Kubernetes Pods well.
This way, our applications can run smoothly.</p>
<h2 id="how-do-i-scale-kubernetes-pods">How Do I Scale Kubernetes
Pods?</h2>
<p>We can scale Kubernetes Pods in many ways. It depends on what we
need. Here are some common methods.</p>
<h3 id="manual-scaling">Manual Scaling</h3>
<p>We can manually scale our deployments with the
<code>kubectl scale</code> command. This command lets us set the number
of replicas for our Pods.</p>
<div class="sourceCode" id="cb38"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> scale deployment <span class="op">&lt;</span>deployment-name<span class="op">&gt;</span> --replicas=<span class="op">&lt;</span>desired-replica-count<span class="op">&gt;</span></span></code></pre></div>
<p>For example, if we want to scale a deployment called
<code>my-app</code> to 5 replicas, we write:</p>
<div class="sourceCode" id="cb39"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> scale deployment my-app <span class="at">--replicas</span><span class="op">=</span>5</span></code></pre></div>
<h3 id="horizontal-pod-autoscaler-hpa">Horizontal Pod Autoscaler
(HPA)</h3>
<p>The Horizontal Pod Autoscaler automatically scales the number of Pods
in a deployment. It uses CPU usage or other metrics to decide.</p>
<ol type="1">
<li>First, we need to make sure that metrics-server is installed in our
cluster.</li>
<li>Then, we create an HPA resource. Here is an example for a deployment
named <code>my-app</code> to keep CPU usage at 50%:</li>
</ol>
<div class="sourceCode" id="cb40"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> autoscale deployment my-app <span class="at">--cpu-percent</span><span class="op">=</span>50 <span class="at">--min</span><span class="op">=</span>2 <span class="at">--max</span><span class="op">=</span>10</span></code></pre></div>
<h3 id="vertical-pod-autoscaler-vpa">Vertical Pod Autoscaler (VPA)</h3>
<p>The Vertical Pod Autoscaler changes the resource requests and limits
for our Pods based on usage. We use it mainly to adjust CPU and
memory.</p>
<ol type="1">
<li>We need to install the VPA components in our cluster.</li>
<li>Next, we create a VPA resource:</li>
</ol>
<div class="sourceCode" id="cb41"><pre
class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="fu">apiVersion</span><span class="kw">:</span><span class="at"> autoscaling.k8s.io/v1</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a><span class="fu">kind</span><span class="kw">:</span><span class="at"> VerticalPodAutoscaler</span></span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a><span class="fu">metadata</span><span class="kw">:</span></span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">name</span><span class="kw">:</span><span class="at"> my-app-vpa</span></span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a><span class="fu">spec</span><span class="kw">:</span></span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">targetRef</span><span class="kw">:</span></span>
<span id="cb41-7"><a href="#cb41-7" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">apiVersion</span><span class="kw">:</span><span class="at"> apps/v1</span></span>
<span id="cb41-8"><a href="#cb41-8" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">kind</span><span class="kw">:</span><span class="at"> Deployment</span></span>
<span id="cb41-9"><a href="#cb41-9" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">name</span><span class="kw">:</span><span class="at"> my-app</span></span>
<span id="cb41-10"><a href="#cb41-10" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">updatePolicy</span><span class="kw">:</span></span>
<span id="cb41-11"><a href="#cb41-11" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">updateMode</span><span class="kw">:</span><span class="at"> Auto</span></span></code></pre></div>
<h3 id="cluster-autoscaler">Cluster Autoscaler</h3>
<p>If our cluster runs in the cloud, we can use the Cluster Autoscaler.
It changes the number of nodes in our cluster when Pods cannot schedule
due to not enough resources.</p>
<h3 id="example-of-scaling-with-hpa">Example of Scaling with HPA</h3>
<p>After we set up an HPA, we can check its status to see how it scales
our Pods:</p>
<div class="sourceCode" id="cb42"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> get hpa</span></code></pre></div>
<p>This command shows the current and desired number of replicas based
on the metrics we set.</p>
<p>For more details on Kubernetes scaling options, we can read about <a
href="https://bestonlinetutorial.com/kubernetes/why-should-i-use-kubernetes-for-my-applications.html">why
you should use Kubernetes for your applications</a>. This gives us a
better understanding of the benefits of scaling.</p>
<h2 id="frequently-asked-questions">Frequently Asked Questions</h2>
<h3 id="what-is-a-kubernetes-pod">What is a Kubernetes Pod?</h3>
<p>A Kubernetes Pod is the smallest unit we can deploy in Kubernetes. It
can hold one or more containers. Pods share storage and networking. They
also have a way to run the containers. We need to understand Kubernetes
Pods to manage containers well. They help us deploy, scale, and manage
apps in a cloud-native environment.</p>
<h3 id="how-do-i-delete-a-kubernetes-pod">How do I delete a Kubernetes
Pod?</h3>
<p>To delete a Kubernetes Pod, we can use the <code>kubectl</code>
command-line tool. Just run this command to delete a specific Pod:</p>
<div class="sourceCode" id="cb43"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> delete pod <span class="op">&lt;</span>pod-name<span class="op">&gt;</span></span></code></pre></div>
<p>We need to replace <code>&lt;pod-name&gt;</code> with the name of our
Pod. This command will take the Pod out of the cluster. It frees up
resources and lets us redeploy apps when needed.</p>
<h3
id="what-are-the-differences-between-pods-and-containers-in-kubernetes">What
are the differences between Pods and Containers in Kubernetes?</h3>
<p>Kubernetes Pods are a way to hold one or more containers. A container
is a lightweight package that has everything it needs to run software.
Pods give a shared context for their containers. This makes it easier
for them to talk to each other and share resources than if they were
standalone containers.</p>
<h3 id="how-do-i-check-the-status-of-my-kubernetes-pods">How do I check
the status of my Kubernetes Pods?</h3>
<p>To check the status of Kubernetes Pods, we can use the
<code>kubectl get pods</code> command. This command shows all Pods in
the current namespace and their status.</p>
<div class="sourceCode" id="cb44"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> get pods</span></code></pre></div>
<p>This will show us the running state of each Pod. It helps us monitor
our app’s health and fix any problems.</p>
<h3 id="can-i-run-multiple-containers-in-a-single-kubernetes-pod">Can I
run multiple containers in a single Kubernetes Pod?</h3>
<p>Yes, we can run multiple containers in one Kubernetes Pod. This is
useful for apps that need related processes to share resources and
communicate well. Multi-container Pods can improve performance and make
deployment easier. This is a strong feature of Kubernetes.</p>
<p>For more insights on Kubernetes and its parts, we can check out
articles on <a
href="https://bestonlinetutorial.com/kubernetes/what-is-kubernetes-and-how-does-it-simplify-container-management.html">What
is Kubernetes and How Does it Simplify Container Management?</a> and <a
href="https://bestonlinetutorial.com/kubernetes/why-should-i-use-kubernetes-for-my-applications.html">Why
Should I Use Kubernetes for My Applications?</a>.</p>

                        </div>

                    </div>
                    <!--//container-->
                </article>

            </div>
            <!--//main-wrapper-->

            <div id="footer-placeholder"></div>

            <!-- Javascript -->
            <script src="/assets/plugins/popper.min.js" defer></script>
            <script src="/assets/plugins/bootstrap/js/bootstrap.min.js" defer></script>
            <script src="/assets/fontawesome/js/all.min.js" defer></script>
        </body>

        </html>
            
            