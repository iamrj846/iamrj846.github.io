
    
            <!DOCTYPE html>
        <html lang="en">

        <head>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-TFCQEJR7TD"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-TFCQEJR7TD');
</script>
            <title>How Do I Use Kubernetes Namespaces for Resource Isolation?</title>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Common CSS & Icons -->
<link rel="icon" href="/favicon.ico" type="image/x-icon">
<link rel="stylesheet" href="/assets/plugins/highlight/styles/monokai-sublime.css">
<link id="theme-style" rel="stylesheet" href="/assets/css/theme-8.css">
<link rel="stylesheet" href="/assets/css/post.css">
            <meta name="description" content="Learn how to effectively use Kubernetes namespaces for resource isolation, improving your cluster management and security.">

            <div id="head-placeholder"></div>
            <script src="/assets/js/blog.js" defer></script>
            <link rel="stylesheet" href="/assets/css/post.css">
        </head>

        <body>

            <div id="header-placeholder"></div>

            <div class="main-wrapper">

                <article class="blog-post px-3 py-5 p-md-5">
                    <div class="container single-col-max-width">
                        <header class="blog-post-header">
                            <h1 class="title mb-2">How Do I Use Kubernetes Namespaces for Resource Isolation?</h1>
                        </header>

                        <div class="blog-post-body">
                            <p>Kubernetes namespaces are a useful feature. They help us separate
resources inside a Kubernetes cluster. By using different namespaces, we
can keep different environments, applications, or teams apart. This way,
resources stay independent and do not interfere with each other.</p>
<p>In this article, we will look at how we can use Kubernetes namespaces
to manage resources well. We will explain what Kubernetes namespaces are
and why we use them. We will also cover the benefits of namespaces for
resource separation. We will show how to create and manage namespaces.
Furthermore, we will discuss how to deploy applications in different
namespaces. We will talk about managing resource limits and setting up
network rules. We will also share some real-life examples. Finally, we
will give tips for using Kubernetes namespaces well and answer common
questions about them.</p>
<ul>
<li>How Can I Use Kubernetes Namespaces for Effective Resource
Isolation?</li>
<li>What Are Kubernetes Namespaces?</li>
<li>Why Use Namespaces for Resource Isolation?</li>
<li>How to Create a Kubernetes Namespace?</li>
<li>How to Deploy Applications in Different Namespaces?</li>
<li>How to Manage Resource Quotas in Namespaces?</li>
<li>What Are Network Policies in Kubernetes Namespaces?</li>
<li>Real Life Use Cases for Kubernetes Namespaces and Resource
Isolation</li>
<li>Best Practices for Using Kubernetes Namespaces</li>
<li>Frequently Asked Questions</li>
</ul>
<p>For more information about Kubernetes and its parts, check out <a
href="https://bestonlinetutorial.com/kubernetes/what-is-kubernetes-and-how-does-it-simplify-container-management.html">what
is Kubernetes and how does it simplify container management</a> and <a
href="https://bestonlinetutorial.com/kubernetes/why-should-i-use-kubernetes-for-my-applications.html">why
should I use Kubernetes for my applications</a>.</p>
<h2 id="what-are-kubernetes-namespaces">What Are Kubernetes
Namespaces?</h2>
<p>Kubernetes namespaces help us split cluster resources among different
users or applications. They let us separate and manage resources. This
way, different projects or teams can work in the same cluster without
bothering each other. Each namespace acts like a little cluster inside
the big Kubernetes cluster. It helps with resource separation and
control over who can access what.</p>
<h3 id="key-features-of-kubernetes-namespaces">Key Features of
Kubernetes Namespaces:</h3>
<ul>
<li><strong>Isolation</strong>: We keep resources like pods, services,
and deployments separate in different namespaces.</li>
<li><strong>Scoping</strong>: Namespaces give a way to name resources.
For example, we can have a service called <code>frontend</code> in both
<code>dev</code> and <code>prod</code> namespaces without any
problems.</li>
<li><strong>Resource Quotas</strong>: We can set limits on CPU and
memory for each namespace.</li>
<li><strong>Access Control</strong>: We can use Role-Based Access
Control (RBAC) to limit who can access certain namespaces.</li>
</ul>
<h3 id="default-namespaces">Default Namespaces:</h3>
<p>Kubernetes has some default namespaces:</p>
<ul>
<li><code>default</code>: This is the namespace for objects that do not
have any namespace.</li>
<li><code>kube-system</code>: This has system components and
services.</li>
<li><code>kube-public</code>: This namespace can be read by everyone,
even users who are not logged in.</li>
<li><code>kube-node-lease</code>: This is for node lease objects that
keep heartbeat data in Kubernetes.</li>
</ul>
<h3 id="managing-namespaces">Managing Namespaces:</h3>
<p>We can create and manage namespaces with the <code>kubectl</code>
command-line tool.</p>
<p><strong>Creating a Namespace:</strong></p>
<div class="sourceCode" id="cb1"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> create namespace my-namespace</span></code></pre></div>
<p><strong>Listing Namespaces:</strong></p>
<div class="sourceCode" id="cb2"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> get namespaces</span></code></pre></div>
<p><strong>Deleting a Namespace:</strong></p>
<div class="sourceCode" id="cb3"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> delete namespace my-namespace</span></code></pre></div>
<p>Using Kubernetes namespaces well helps us organize resources. It also
makes things safer and allows better management in a place where many
users share the same environment. For more about how Kubernetes makes
container management easier, check out <a
href="https://bestonlinetutorial.com/kubernetes/what-is-kubernetes-and-how-does-it-simplify-container-management.html">this
article</a>.</p>
<h2 id="why-use-namespaces-for-resource-isolation">Why Use Namespaces
for Resource Isolation?</h2>
<p>Kubernetes namespaces are important for keeping resources separate in
a Kubernetes cluster. They let different teams or applications run
together in the same cluster. At the same time, they make sure resources
are used independently. Here are some simple reasons to use namespaces
for resource isolation:</p>
<ol type="1">
<li><p><strong>Resource Management</strong>: Namespaces help us set
resource limits and quotas. This way, one application cannot use up all
shared resources. We can limit CPU and memory for each namespace.</p>
<p>Here is an example of a resource quota setup:</p>
<div class="sourceCode" id="cb4"><pre
class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">apiVersion</span><span class="kw">:</span><span class="at"> v1</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="fu">kind</span><span class="kw">:</span><span class="at"> ResourceQuota</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="fu">metadata</span><span class="kw">:</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">name</span><span class="kw">:</span><span class="at"> my-resource-quota</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">namespace</span><span class="kw">:</span><span class="at"> my-namespace</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="fu">spec</span><span class="kw">:</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">hard</span><span class="kw">:</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">requests.cpu</span><span class="kw">:</span><span class="at"> </span><span class="st">&quot;2&quot;</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">requests.memory</span><span class="kw">:</span><span class="at"> </span><span class="st">&quot;4Gi&quot;</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">limits.cpu</span><span class="kw">:</span><span class="at"> </span><span class="st">&quot;4&quot;</span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">limits.memory</span><span class="kw">:</span><span class="at"> </span><span class="st">&quot;8Gi&quot;</span></span></code></pre></div></li>
<li><p><strong>Access Control</strong>: Namespaces help us with
role-based access control (RBAC). We can give permissions to users or
service accounts at the namespace level. This improves security and
control.</p>
<p>Here is an example of a role binding:</p>
<div class="sourceCode" id="cb5"><pre
class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">apiVersion</span><span class="kw">:</span><span class="at"> rbac.authorization.k8s.io/v1</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="fu">kind</span><span class="kw">:</span><span class="at"> RoleBinding</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="fu">metadata</span><span class="kw">:</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">name</span><span class="kw">:</span><span class="at"> my-role-binding</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">namespace</span><span class="kw">:</span><span class="at"> my-namespace</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="fu">subjects</span><span class="kw">:</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">kind</span><span class="kw">:</span><span class="at"> User</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">name</span><span class="kw">:</span><span class="at"> my-user</span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">apiGroup</span><span class="kw">:</span><span class="at"> rbac.authorization.k8s.io</span></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a><span class="fu">roleRef</span><span class="kw">:</span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">kind</span><span class="kw">:</span><span class="at"> Role</span></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">name</span><span class="kw">:</span><span class="at"> my-role</span></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">apiGroup</span><span class="kw">:</span><span class="at"> rbac.authorization.k8s.io</span></span></code></pre></div></li>
<li><p><strong>Service Discovery and Networking</strong>: Namespaces
help us organize services. They make it easier to find services and
avoid name conflicts. This is useful in different environments like
development, testing, and production.</p></li>
<li><p><strong>Isolation of Resources</strong>: By grouping related
resources like pods and services in their own namespace, we can keep
workloads separate. This is especially good in multi-tenant
environments.</p></li>
<li><p><strong>Testing and Development Environments</strong>: We can use
namespaces to create separate spaces for testing and development. This
way, we do not disturb production resources.</p></li>
<li><p><strong>Network Policies</strong>: Namespaces let us set up
network policies. These rules control how pods talk to each other within
and between namespaces. This makes things safer.</p></li>
</ol>
<p>Using Kubernetes namespaces well can really help us with resource
isolation, management, and security in our Kubernetes setups. For more
about how Kubernetes works, check out <a
href="https://bestonlinetutorial.com/kubernetes/what-are-the-key-components-of-a-kubernetes-cluster.html">this
article on Kubernetes components</a>.</p>
<h2 id="how-to-create-a-kubernetes-namespace">How to Create a Kubernetes
Namespace?</h2>
<p>Creating a Kubernetes namespace is simple. We can use the
<code>kubectl</code> command-line tool. Namespaces help us divide
resources in our cluster. This makes it easier to manage and separate
applications.</p>
<h3 id="step-by-step-instructions-to-create-a-namespace">Step-by-Step
Instructions to Create a Namespace</h3>
<ol type="1">
<li><p><strong>Using kubectl Command</strong>: We can create a namespace
with this command:</p>
<div class="sourceCode" id="cb6"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> create namespace <span class="op">&lt;</span>namespace-name<span class="op">&gt;</span></span></code></pre></div>
<p>Change <code>&lt;namespace-name&gt;</code> to the name you want for
your namespace.</p></li>
<li><p><strong>Example</strong>: If we want to create a namespace called
“development”, we run:</p>
<div class="sourceCode" id="cb7"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> create namespace development</span></code></pre></div></li>
<li><p><strong>Verify Creation</strong>: To check if the namespace is
created, we can list all namespaces:</p>
<div class="sourceCode" id="cb8"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> get namespaces</span></code></pre></div></li>
<li><p><strong>Namespace YAML Configuration</strong>: We can also create
a namespace using a YAML file. Here is an example of a namespace
definition:</p>
<div class="sourceCode" id="cb9"><pre
class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">apiVersion</span><span class="kw">:</span><span class="at"> v1</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="fu">kind</span><span class="kw">:</span><span class="at"> Namespace</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="fu">metadata</span><span class="kw">:</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">name</span><span class="kw">:</span><span class="at"> development</span></span></code></pre></div>
<p>We need to save this in a file called <code>namespace.yaml</code>.
Then we create the namespace with:</p>
<div class="sourceCode" id="cb10"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> apply <span class="at">-f</span> namespace.yaml</span></code></pre></div></li>
<li><p><strong>Accessing Resources in a Namespace</strong>: To work in a
specific namespace, we use the <code>--namespace</code> flag:</p>
<div class="sourceCode" id="cb11"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> get pods <span class="at">--namespace</span><span class="op">=</span>development</span></code></pre></div></li>
<li><p><strong>Setting a Default Namespace</strong>: We can also set a
default namespace for our kubectl context:</p>
<div class="sourceCode" id="cb12"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> config set-context <span class="at">--current</span> <span class="at">--namespace</span><span class="op">=</span>development</span></code></pre></div></li>
</ol>
<p>This setting will help us by reducing the need to say the namespace
every time.</p>
<h2 id="how-to-deploy-applications-in-different-namespaces">How to
Deploy Applications in Different Namespaces?</h2>
<p>To deploy applications in different Kubernetes namespaces, we need to
create the namespaces first. We can use the <code>kubectl</code> command
for that. After creating the namespaces, we can specify which namespace
to use during the deployment.</p>
<ol type="1">
<li><p><strong>Create a Namespace</strong>: We can create a namespace
using this command:</p>
<div class="sourceCode" id="cb13"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> create namespace <span class="op">&lt;</span>namespace-name<span class="op">&gt;</span></span></code></pre></div>
<p>For example, to create a namespace called <code>dev</code>, we
run:</p>
<div class="sourceCode" id="cb14"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> create namespace dev</span></code></pre></div></li>
<li><p><strong>Deploy an Application in a Specific Namespace</strong>:
When we deploy an application, we can tell it which namespace to use by
adding the <code>-n</code> flag. Here is an example with a simple
deployment:</p>
<div class="sourceCode" id="cb15"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> create deployment <span class="op">&lt;</span>deployment-name<span class="op">&gt;</span> --image=<span class="op">&lt;</span>image-name<span class="op">&gt;</span> -n <span class="op">&lt;</span>namespace-name<span class="op">&gt;</span></span></code></pre></div>
<p>For example, to deploy an Nginx application in the <code>dev</code>
namespace, we run:</p>
<div class="sourceCode" id="cb16"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> create deployment nginx <span class="at">--image</span><span class="op">=</span>nginx <span class="at">-n</span> dev</span></code></pre></div></li>
<li><p><strong>Check the Deployment</strong>: We can check if the
application is running in the right namespace by using:</p>
<div class="sourceCode" id="cb17"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> get deployments <span class="at">-n</span> <span class="op">&lt;</span>namespace-name<span class="op">&gt;</span></span></code></pre></div>
<p>For the <code>dev</code> namespace, we run:</p>
<div class="sourceCode" id="cb18"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> get deployments <span class="at">-n</span> dev</span></code></pre></div></li>
<li><p><strong>Accessing the Application</strong>: To make the
deployment accessible, we need to create a service in the same
namespace:</p>
<div class="sourceCode" id="cb19"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> expose deployment <span class="op">&lt;</span>deployment-name<span class="op">&gt;</span> --type=LoadBalancer <span class="at">--port</span><span class="op">=</span>80 <span class="at">-n</span> <span class="op">&lt;</span>namespace-name<span class="op">&gt;</span></span></code></pre></div>
<p>For the Nginx deployment, we run:</p>
<div class="sourceCode" id="cb20"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> expose deployment nginx <span class="at">--type</span><span class="op">=</span>LoadBalancer <span class="at">--port</span><span class="op">=</span>80 <span class="at">-n</span> dev</span></code></pre></div></li>
<li><p><strong>Optional - Using YAML files</strong>: We can also write
our deployments in YAML files. In the YAML file, we need to specify the
namespace in the <code>metadata</code> part. Here is an example of a
deployment YAML:</p>
<div class="sourceCode" id="cb21"><pre
class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">apiVersion</span><span class="kw">:</span><span class="at"> apps/v1</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="fu">kind</span><span class="kw">:</span><span class="at"> Deployment</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a><span class="fu">metadata</span><span class="kw">:</span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">name</span><span class="kw">:</span><span class="at"> nginx</span></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">namespace</span><span class="kw">:</span><span class="at"> dev</span></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a><span class="fu">spec</span><span class="kw">:</span></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">replicas</span><span class="kw">:</span><span class="at"> </span><span class="dv">1</span></span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">selector</span><span class="kw">:</span></span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">matchLabels</span><span class="kw">:</span></span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">app</span><span class="kw">:</span><span class="at"> nginx</span></span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">template</span><span class="kw">:</span></span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">metadata</span><span class="kw">:</span></span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">labels</span><span class="kw">:</span></span>
<span id="cb21-14"><a href="#cb21-14" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="fu">app</span><span class="kw">:</span><span class="at"> nginx</span></span>
<span id="cb21-15"><a href="#cb21-15" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">spec</span><span class="kw">:</span></span>
<span id="cb21-16"><a href="#cb21-16" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">containers</span><span class="kw">:</span></span>
<span id="cb21-17"><a href="#cb21-17" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> nginx</span></span>
<span id="cb21-18"><a href="#cb21-18" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="fu">image</span><span class="kw">:</span><span class="at"> nginx</span></span></code></pre></div>
<p>We can deploy this YAML file with:</p>
<div class="sourceCode" id="cb22"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> apply <span class="at">-f</span> <span class="op">&lt;</span>filename<span class="op">&gt;</span>.yaml</span></code></pre></div></li>
</ol>
<p>By following these steps, we can deploy applications in different
Kubernetes namespaces. This helps us to manage resources better. For
more on how to manage resources in Kubernetes namespaces, check out <a
href="https://bestonlinetutorial.com/kubernetes/how-do-i-manage-the-lifecycle-of-a-kubernetes-pod.html">this
article</a>.</p>
<h2 id="how-to-manage-resource-quotas-in-namespaces">How to Manage
Resource Quotas in Namespaces?</h2>
<p>Managing resource quotas in Kubernetes namespaces is very important.
It helps us make sure that resources are shared fairly. It also helps us
avoid issues when different applications need the same resources.
Resource quotas let us limit how much CPU, memory, and other resources a
namespace can use.</p>
<h3 id="creating-a-resource-quota">Creating a Resource Quota</h3>
<p>To create a resource quota, we need to write it in a YAML file. Then
we apply this file to the namespace we want. Here is an example:</p>
<div class="sourceCode" id="cb23"><pre
class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">apiVersion</span><span class="kw">:</span><span class="at"> v1</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="fu">kind</span><span class="kw">:</span><span class="at"> ResourceQuota</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a><span class="fu">metadata</span><span class="kw">:</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">name</span><span class="kw">:</span><span class="at"> example-quota</span></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">namespace</span><span class="kw">:</span><span class="at"> your-namespace</span></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a><span class="fu">spec</span><span class="kw">:</span></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">hard</span><span class="kw">:</span></span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">requests.cpu</span><span class="kw">:</span><span class="at"> </span><span class="st">&quot;2&quot;</span></span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">requests.memory</span><span class="kw">:</span><span class="at"> </span><span class="st">&quot;4Gi&quot;</span></span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">limits.cpu</span><span class="kw">:</span><span class="at"> </span><span class="st">&quot;4&quot;</span></span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">limits.memory</span><span class="kw">:</span><span class="at"> </span><span class="st">&quot;8Gi&quot;</span></span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">persistentvolumeclaims</span><span class="kw">:</span><span class="at"> </span><span class="st">&quot;5&quot;</span></span></code></pre></div>
<p>We can apply the resource quota with this command:</p>
<div class="sourceCode" id="cb24"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> apply <span class="at">-f</span> resource-quota.yaml</span></code></pre></div>
<h3 id="checking-resource-quotas">Checking Resource Quotas</h3>
<p>To check the resource quotas we already have in a namespace, we
use:</p>
<div class="sourceCode" id="cb25"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> get resourcequota <span class="at">-n</span> your-namespace</span></code></pre></div>
<h3 id="updating-resource-quotas">Updating Resource Quotas</h3>
<p>If we want to update a resource quota, we can change the YAML file
and apply it again:</p>
<div class="sourceCode" id="cb26"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> apply <span class="at">-f</span> resource-quota.yaml</span></code></pre></div>
<h3 id="deleting-resource-quotas">Deleting Resource Quotas</h3>
<p>To delete a resource quota from a namespace, we run:</p>
<div class="sourceCode" id="cb27"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> delete resourcequota example-quota <span class="at">-n</span> your-namespace</span></code></pre></div>
<h3 id="monitoring-resource-usage">Monitoring Resource Usage</h3>
<p>We can monitor how much resources are used in a namespace by
using:</p>
<div class="sourceCode" id="cb28"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> describe resourcequota example-quota <span class="at">-n</span> your-namespace</span></code></pre></div>
<p>This command gives us details about how much resources are used
compared to the limits we set.</p>
<p>Using resource quotas well helps us manage how resources are used in
Kubernetes namespaces. It makes sure that applications do not use more
resources than they are given. For more information about managing
resources in Kubernetes, please check <a
href="https://bestonlinetutorial.com/kubernetes/what-are-kubernetes-pods-and-how-do-i-work-with-them.html">this
article on resource management</a>.</p>
<h2 id="what-are-network-policies-in-kubernetes-namespaces">What Are
Network Policies in Kubernetes Namespaces?</h2>
<p>Network Policies in Kubernetes are very important. They help us
control how pods talk to each other inside a namespace and also between
different namespaces. We can set rules that say how pods can communicate
with each other and with other network points. This improves security
and keeps resources separate.</p>
<h3 id="key-features-of-network-policies">Key Features of Network
Policies:</h3>
<ul>
<li><strong>Isolation</strong>: We can limit pod communication to only
those allowed by the rules we set.</li>
<li><strong>Selector-Based</strong>: We use label selectors to choose
which pods the rules apply to.</li>
<li><strong>Ingress and Egress Rules</strong>: We can set rules for
incoming and outgoing traffic separately.</li>
</ul>
<h3 id="example-of-a-network-policy">Example of a Network Policy:</h3>
<p>Here is a simple example of a Network Policy. This policy allows
traffic only from pods with the label <code>role=frontend</code> to a
pod with the label <code>role=backend</code> in the same namespace.</p>
<div class="sourceCode" id="cb29"><pre
class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">apiVersion</span><span class="kw">:</span><span class="at"> networking.k8s.io/v1</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a><span class="fu">kind</span><span class="kw">:</span><span class="at"> NetworkPolicy</span></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a><span class="fu">metadata</span><span class="kw">:</span></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">name</span><span class="kw">:</span><span class="at"> allow-frontend-to-backend</span></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">namespace</span><span class="kw">:</span><span class="at"> your-namespace</span></span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a><span class="fu">spec</span><span class="kw">:</span></span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">podSelector</span><span class="kw">:</span></span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">matchLabels</span><span class="kw">:</span></span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">role</span><span class="kw">:</span><span class="at"> backend</span></span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">ingress</span><span class="kw">:</span></span>
<span id="cb29-11"><a href="#cb29-11" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">from</span><span class="kw">:</span></span>
<span id="cb29-12"><a href="#cb29-12" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">podSelector</span><span class="kw">:</span></span>
<span id="cb29-13"><a href="#cb29-13" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="fu">matchLabels</span><span class="kw">:</span></span>
<span id="cb29-14"><a href="#cb29-14" aria-hidden="true" tabindex="-1"></a><span class="at">          </span><span class="fu">role</span><span class="kw">:</span><span class="at"> frontend</span></span></code></pre></div>
<h3 id="application-of-network-policies">Application of Network
Policies:</h3>
<ol type="1">
<li><strong>Namespace Isolation</strong>: We can create policies that
let only certain namespaces talk to each other. This helps keep
resources separate.</li>
<li><strong>Microservices Security</strong>: We can use policies to
create security limits between different microservices in our
setup.</li>
</ol>
<h3 id="managing-network-policies">Managing Network Policies:</h3>
<p>To add or remove a Network Policy, we can use the
<code>kubectl</code> command:</p>
<div class="sourceCode" id="cb30"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> apply <span class="at">-f</span> network-policy.yaml</span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> delete networkpolicy allow-frontend-to-backend <span class="at">-n</span> your-namespace</span></code></pre></div>
<p>By using Network Policies, we can make sure our applications are
safe. We also keep resources separate in Kubernetes namespaces. If we
want to learn more about Kubernetes, we can visit <a
href="https://bestonlinetutorial.com/kubernetes/what-are-kubernetes-pods-and-how-do-i-work-with-them.html">What
Are Kubernetes Pods and How Do I Work With Them?</a>.</p>
<h2
id="real-life-use-cases-for-kubernetes-namespaces-and-resource-isolation">Real
Life Use Cases for Kubernetes Namespaces and Resource Isolation</h2>
<p>Kubernetes namespaces help us to organize and manage resources in a
cluster. They allow us to isolate resources in different environments.
Here are some real-life examples:</p>
<ol type="1">
<li><p><strong>Multi-Tenant Environments</strong>: In places where many
teams or customers share the same Kubernetes cluster, namespaces can
help to keep resources separate. Each team can get its own namespace
like <code>team-a</code> or <code>team-b</code>. This way, their
applications and resources do not mix.</p>
<div class="sourceCode" id="cb31"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> create namespace team-a</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> create namespace team-b</span></code></pre></div></li>
<li><p><strong>Development, Testing, and Production</strong>: We can use
namespaces to separate different environments in one cluster. For
example, we can have <code>dev</code>, <code>test</code>, and
<code>prod</code> namespaces. This allows developers to work on their
apps without messing up the production environment.</p>
<div class="sourceCode" id="cb32"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> create namespace dev</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> create namespace test</span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> create namespace prod</span></code></pre></div></li>
<li><p><strong>Resource Quotas and Limits</strong>: Namespaces can help
us set resource quotas. This way, we can control how much CPU and memory
each team can use. For example, we can set a resource quota for the
<code>dev</code> namespace to stop developers from using too many
resources.</p>
<div class="sourceCode" id="cb33"><pre
class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">apiVersion</span><span class="kw">:</span><span class="at"> v1</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a><span class="fu">kind</span><span class="kw">:</span><span class="at"> ResourceQuota</span></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a><span class="fu">metadata</span><span class="kw">:</span></span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">name</span><span class="kw">:</span><span class="at"> dev-quota</span></span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">namespace</span><span class="kw">:</span><span class="at"> dev</span></span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a><span class="fu">spec</span><span class="kw">:</span></span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">hard</span><span class="kw">:</span></span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">requests.cpu</span><span class="kw">:</span><span class="at"> </span><span class="st">&quot;4&quot;</span></span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">requests.memory</span><span class="kw">:</span><span class="at"> </span><span class="st">&quot;8Gi&quot;</span></span>
<span id="cb33-10"><a href="#cb33-10" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">limits.cpu</span><span class="kw">:</span><span class="at"> </span><span class="st">&quot;10&quot;</span></span>
<span id="cb33-11"><a href="#cb33-11" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">limits.memory</span><span class="kw">:</span><span class="at"> </span><span class="st">&quot;20Gi&quot;</span></span></code></pre></div></li>
<li><p><strong>Access Control and Security</strong>: We can use
namespaces with Kubernetes Role-Based Access Control (RBAC) to limit
what users can do. For example, we can make roles that let developers
manage resources only in their own namespaces.</p>
<div class="sourceCode" id="cb34"><pre
class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="fu">apiVersion</span><span class="kw">:</span><span class="at"> rbac.authorization.k8s.io/v1</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a><span class="fu">kind</span><span class="kw">:</span><span class="at"> Role</span></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a><span class="fu">metadata</span><span class="kw">:</span></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">namespace</span><span class="kw">:</span><span class="at"> team-a</span></span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">name</span><span class="kw">:</span><span class="at"> team-a-role</span></span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a><span class="fu">rules</span><span class="kw">:</span></span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">apiGroups</span><span class="kw">:</span><span class="at"> </span><span class="kw">[</span><span class="st">&quot;*&quot;</span><span class="kw">]</span></span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">resources</span><span class="kw">:</span><span class="at"> </span><span class="kw">[</span><span class="st">&quot;pods&quot;</span><span class="kw">,</span><span class="at"> </span><span class="st">&quot;services&quot;</span><span class="kw">]</span></span>
<span id="cb34-9"><a href="#cb34-9" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">verbs</span><span class="kw">:</span><span class="at"> </span><span class="kw">[</span><span class="st">&quot;get&quot;</span><span class="kw">,</span><span class="at"> </span><span class="st">&quot;list&quot;</span><span class="kw">,</span><span class="at"> </span><span class="st">&quot;create&quot;</span><span class="kw">,</span><span class="at"> </span><span class="st">&quot;delete&quot;</span><span class="kw">]</span></span></code></pre></div></li>
<li><p><strong>Service Isolation</strong>: We can run different
applications in separate namespaces. This gives us service isolation.
For example, if an app in the <code>dev</code> namespace needs to call a
service in the <code>prod</code> namespace, we can set network policies
to control access.</p>
<div class="sourceCode" id="cb35"><pre
class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="fu">apiVersion</span><span class="kw">:</span><span class="at"> networking.k8s.io/v1</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a><span class="fu">kind</span><span class="kw">:</span><span class="at"> NetworkPolicy</span></span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a><span class="fu">metadata</span><span class="kw">:</span></span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">name</span><span class="kw">:</span><span class="at"> allow-dev-to-prod</span></span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">namespace</span><span class="kw">:</span><span class="at"> prod</span></span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a><span class="fu">spec</span><span class="kw">:</span></span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">podSelector</span><span class="kw">:</span></span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">matchLabels</span><span class="kw">:</span></span>
<span id="cb35-9"><a href="#cb35-9" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">app</span><span class="kw">:</span><span class="at"> my-prod-app</span></span>
<span id="cb35-10"><a href="#cb35-10" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">ingress</span><span class="kw">:</span></span>
<span id="cb35-11"><a href="#cb35-11" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">from</span><span class="kw">:</span></span>
<span id="cb35-12"><a href="#cb35-12" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">namespaceSelector</span><span class="kw">:</span></span>
<span id="cb35-13"><a href="#cb35-13" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="fu">matchLabels</span><span class="kw">:</span></span>
<span id="cb35-14"><a href="#cb35-14" aria-hidden="true" tabindex="-1"></a><span class="at">          </span><span class="fu">name</span><span class="kw">:</span><span class="at"> dev</span></span></code></pre></div></li>
<li><p><strong>CI/CD Pipelines</strong>: In CI/CD, we can use namespaces
to deploy apps in isolation during testing. This way, changes do not
affect other deployments until they are ready.</p></li>
<li><p><strong>Monitoring and Logging</strong>: Namespaces help us
organize monitoring and logging data. Tools like Prometheus or Fluentd
can collect metrics and logs by namespaces. This makes it easier to
manage and analyze the data.</p></li>
<li><p><strong>Experimentation</strong>: Developers can create temporary
namespaces for testing new ideas. This keeps our main environments
clean. Once we finish, we can easily delete these namespaces.</p>
<div class="sourceCode" id="cb36"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> create namespace experiment</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> delete namespace experiment</span></code></pre></div></li>
</ol>
<p>Using Kubernetes namespaces for resource isolation helps us keep
everything organized and secure. It also allows for better management of
resources in our Kubernetes cluster. This helps us use resources well
and run operations smoothly across different applications and teams.</p>
<p>For more about Kubernetes and how it helps with application
management, check out <a
href="https://bestonlinetutorial.com/kubernetes/why-should-i-use-kubernetes-for-my-applications.html">Why
Should I Use Kubernetes for My Applications?</a>.</p>
<h2 id="best-practices-for-using-kubernetes-namespaces">Best Practices
for Using Kubernetes Namespaces</h2>
<p>When we use Kubernetes namespaces for isolating resources, following
best practices helps us to organize, secure, and manage our cluster
resources better. Below are some key tips:</p>
<ol type="1">
<li><p><strong>Use Meaningful Names</strong>: Give clear names to
namespaces based on their use or the applications they support. For
example, use <code>development</code>, <code>testing</code>, and
<code>production</code> to show different environments clearly.</p></li>
<li><p><strong>Limit Namespace Scope</strong>: Do not create too many
namespaces without need. Keeping the number of namespaces low makes
resource management easier.</p></li>
<li><p><strong>Resource Quotas</strong>: Set resource quotas in
namespaces. This stops us from using too many cluster resources. We can
do this by setting limits on CPU and memory use.</p>
<p>Example configuration for a resource quota:</p>
<div class="sourceCode" id="cb37"><pre
class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="fu">apiVersion</span><span class="kw">:</span><span class="at"> v1</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a><span class="fu">kind</span><span class="kw">:</span><span class="at"> ResourceQuota</span></span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a><span class="fu">metadata</span><span class="kw">:</span></span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">name</span><span class="kw">:</span><span class="at"> cpu-memory-quota</span></span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">namespace</span><span class="kw">:</span><span class="at"> development</span></span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a><span class="fu">spec</span><span class="kw">:</span></span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">hard</span><span class="kw">:</span></span>
<span id="cb37-8"><a href="#cb37-8" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">requests.cpu</span><span class="kw">:</span><span class="at"> </span><span class="st">&quot;2&quot;</span></span>
<span id="cb37-9"><a href="#cb37-9" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">requests.memory</span><span class="kw">:</span><span class="at"> </span><span class="st">&quot;4Gi&quot;</span></span>
<span id="cb37-10"><a href="#cb37-10" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">limits.cpu</span><span class="kw">:</span><span class="at"> </span><span class="st">&quot;4&quot;</span></span>
<span id="cb37-11"><a href="#cb37-11" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">limits.memory</span><span class="kw">:</span><span class="at"> </span><span class="st">&quot;8Gi&quot;</span></span></code></pre></div></li>
<li><p><strong>Network Policies</strong>: We should use network policies
to control traffic between pods in different namespaces. This adds
security by limiting access based on namespace and pod labels.</p>
<p>Example of a network policy:</p>
<div class="sourceCode" id="cb38"><pre
class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="fu">apiVersion</span><span class="kw">:</span><span class="at"> networking.k8s.io/v1</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a><span class="fu">kind</span><span class="kw">:</span><span class="at"> NetworkPolicy</span></span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a><span class="fu">metadata</span><span class="kw">:</span></span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">name</span><span class="kw">:</span><span class="at"> allow-specific-namespaces</span></span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">namespace</span><span class="kw">:</span><span class="at"> production</span></span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a><span class="fu">spec</span><span class="kw">:</span></span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">podSelector</span><span class="kw">:</span></span>
<span id="cb38-8"><a href="#cb38-8" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">matchLabels</span><span class="kw">:</span></span>
<span id="cb38-9"><a href="#cb38-9" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">role</span><span class="kw">:</span><span class="at"> frontend</span></span>
<span id="cb38-10"><a href="#cb38-10" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">ingress</span><span class="kw">:</span></span>
<span id="cb38-11"><a href="#cb38-11" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">from</span><span class="kw">:</span></span>
<span id="cb38-12"><a href="#cb38-12" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="kw">-</span><span class="at"> </span><span class="fu">namespaceSelector</span><span class="kw">:</span></span>
<span id="cb38-13"><a href="#cb38-13" aria-hidden="true" tabindex="-1"></a><span class="at">            </span><span class="fu">matchLabels</span><span class="kw">:</span></span>
<span id="cb38-14"><a href="#cb38-14" aria-hidden="true" tabindex="-1"></a><span class="at">              </span><span class="fu">env</span><span class="kw">:</span><span class="at"> development</span></span></code></pre></div></li>
<li><p><strong>Role-Based Access Control (RBAC)</strong>: We can use
RBAC to manage permissions for users and service accounts in different
namespaces. This makes sure that users can access only what they
need.</p>
<p>Example RBAC configuration:</p>
<div class="sourceCode" id="cb39"><pre
class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="fu">apiVersion</span><span class="kw">:</span><span class="at"> rbac.authorization.k8s.io/v1</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a><span class="fu">kind</span><span class="kw">:</span><span class="at"> Role</span></span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a><span class="fu">metadata</span><span class="kw">:</span></span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">namespace</span><span class="kw">:</span><span class="at"> testing</span></span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">name</span><span class="kw">:</span><span class="at"> pod-reader</span></span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a><span class="fu">rules</span><span class="kw">:</span></span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a><span class="kw">-</span><span class="at"> </span><span class="fu">apiGroups</span><span class="kw">:</span><span class="at"> </span><span class="kw">[</span><span class="st">&quot;&quot;</span><span class="kw">]</span></span>
<span id="cb39-8"><a href="#cb39-8" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">resources</span><span class="kw">:</span><span class="at"> </span><span class="kw">[</span><span class="st">&quot;pods&quot;</span><span class="kw">]</span></span>
<span id="cb39-9"><a href="#cb39-9" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">verbs</span><span class="kw">:</span><span class="at"> </span><span class="kw">[</span><span class="st">&quot;get&quot;</span><span class="kw">,</span><span class="at"> </span><span class="st">&quot;list&quot;</span><span class="kw">,</span><span class="at"> </span><span class="st">&quot;watch&quot;</span><span class="kw">]</span></span></code></pre></div></li>
<li><p><strong>Labeling and Annotations</strong>: We should use labels
and annotations well to sort and manage resources in namespaces. This
helps us keep things organized and makes it easier to find
resources.</p>
<p>Example of adding labels:</p>
<div class="sourceCode" id="cb40"><pre
class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="fu">apiVersion</span><span class="kw">:</span><span class="at"> v1</span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a><span class="fu">kind</span><span class="kw">:</span><span class="at"> Namespace</span></span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a><span class="fu">metadata</span><span class="kw">:</span></span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">name</span><span class="kw">:</span><span class="at"> production</span></span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">labels</span><span class="kw">:</span></span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">environment</span><span class="kw">:</span><span class="at"> production</span></span>
<span id="cb40-7"><a href="#cb40-7" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">team</span><span class="kw">:</span><span class="at"> frontend</span></span></code></pre></div></li>
<li><p><strong>Regular Cleanup</strong>: We need to check and clean up
unused namespaces and resources often. This keeps our cluster
environment tidy and efficient.</p></li>
<li><p><strong>Monitoring and Logging</strong>: We should set up
monitoring and logging tools to track resource use and behavior in
namespaces. This helps us to optimize resource use and fix
problems.</p></li>
</ol>
<p>By following these best practices for using Kubernetes namespaces, we
can better isolate resources and improve the management of our
Kubernetes environment. For more information on Kubernetes and its
parts, we can read <a
href="https://bestonlinetutorial.com/kubernetes/what-are-the-key-components-of-a-kubernetes-cluster.html">What
Are the Key Components of a Kubernetes Cluster?</a>.</p>
<h2 id="frequently-asked-questions">Frequently Asked Questions</h2>
<h3
id="what-are-kubernetes-namespaces-and-how-do-they-help-with-resource-isolation">1.
What are Kubernetes namespaces and how do they help with resource
isolation?</h3>
<p>Kubernetes namespaces are a helpful feature. They let us separate
cluster resources into virtual clusters. By using namespaces, we can
manage resource isolation in a Kubernetes environment. This means we can
give resources like CPU and memory to specific applications or teams. It
helps make sure one app does not slow down another. If you want to know
more, you can read about <a
href="https://bestonlinetutorial.com/kubernetes/what-are-kubernetes-pods-and-how-do-i-work-with-them.html">Kubernetes
namespaces</a>.</p>
<h3 id="how-do-i-create-a-kubernetes-namespace">2. How do I create a
Kubernetes namespace?</h3>
<p>Creating a Kubernetes namespace is easy. We can use the
<code>kubectl</code> command-line tool. Just run this command:</p>
<div class="sourceCode" id="cb41"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> create namespace <span class="op">&lt;</span>namespace-name<span class="op">&gt;</span></span></code></pre></div>
<p>This command makes a new namespace. In this namespace, we can deploy
apps and manage resources separately. For more help on managing
Kubernetes resources, look at the article on <a
href="https://bestonlinetutorial.com/kubernetes/what-are-kubernetes-deployments-and-how-do-i-use-them.html">Kubernetes
deployments</a>.</p>
<h3 id="can-i-set-resource-quotas-within-kubernetes-namespaces">3. Can I
set resource quotas within Kubernetes namespaces?</h3>
<p>Yes, we can set resource quotas for each namespace in Kubernetes.
Resource quotas limit the total amount of resources like CPU and memory
that pods can use in a namespace. We can define these quotas in a YAML
file and apply them using <code>kubectl</code>. For more details on
managing resources well, check this guide on <a
href="https://bestonlinetutorial.com/kubernetes/how-do-i-scale-applications-using-kubernetes-deployments.html">Kubernetes
resource management</a>.</p>
<h3
id="what-are-network-policies-and-how-do-they-work-in-kubernetes-namespaces">4.
What are network policies, and how do they work in Kubernetes
namespaces?</h3>
<p>Network policies in Kubernetes tell how pods talk to each other and
to outside services within a namespace. They are important for security
and make sure only allowed traffic is let in. By using network policies,
we can isolate applications and control access based on labels. For more
information about services in Kubernetes, visit the article on <a
href="https://bestonlinetutorial.com/kubernetes/what-are-kubernetes-services-and-how-do-they-expose-applications.html">Kubernetes
services</a>.</p>
<h3
id="how-do-i-deploy-applications-in-different-kubernetes-namespaces">5.
How do I deploy applications in different Kubernetes namespaces?</h3>
<p>To deploy applications in different Kubernetes namespaces, we need to
say the namespace in our deployment YAML file or use the <code>-n</code>
flag with the <code>kubectl</code> command. For example, we can run:</p>
<div class="sourceCode" id="cb42"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="ex">kubectl</span> apply <span class="at">-f</span> deployment.yaml <span class="at">-n</span> <span class="op">&lt;</span>namespace-name<span class="op">&gt;</span></span></code></pre></div>
<p>This command makes sure our application is deployed in the right
namespace. This helps with effective resource isolation. For more on
managing applications in Kubernetes, check out <a
href="https://bestonlinetutorial.com/kubernetes/how-do-i-manage-the-lifecycle-of-a-kubernetes-pod.html">how
to manage the lifecycle of a Kubernetes pod</a>.</p>

                        </div>

                    </div>
                    <!--//container-->
                </article>

            </div>
            <!--//main-wrapper-->

            <div id="footer-placeholder"></div>

            <!-- Javascript -->
            <script src="/assets/plugins/popper.min.js" defer></script>
            <script src="/assets/plugins/bootstrap/js/bootstrap.min.js" defer></script>
            <script src="/assets/fontawesome/js/all.min.js" defer></script>
        </body>

        </html>
            
            