
    
            <!DOCTYPE html>
        <html lang="en">

        <head>
            <!-- Google tag (gtag.js) -->
            <script async src="https://www.googletagmanager.com/gtag/js?id=G-TFCQEJR7TD"></script>
            <script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
            gtag('config', 'G-TFCQEJR7TD');
            </script>
            <meta charset="utf-8">
            <meta http-equiv="X-UA-Compatible" content="IE=edge">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            
            <meta property="og:title" content="How can you read client IP addresses from HTTP requests behind Kubernetes services?" />
            <meta property="og:description" content="Discover how to read client IP addresses from HTTP requests in Kubernetes services. Enhance your app's networking insights today!" />
            <meta property="og:url" content="https://www.bestonlinetutorial.com/kubernetes/how-can-you-read-client-ip-addresses-from-http-requests-behind-kubernetes-services.html" />
            <link rel="canonical" href="https://www.bestonlinetutorial.com/kubernetes/how-can-you-read-client-ip-addresses-from-http-requests-behind-kubernetes-services.html">
            <meta property="og:type" content="article" />
            <meta property="og:site_name" content=“BestOnlineTutorial” />
            <meta name="twitter:title" content="How can you read client IP addresses from HTTP requests behind Kubernetes services?" />
            <meta name="twitter:description" content="Discover how to read client IP addresses from HTTP requests in Kubernetes services. Enhance your app's networking insights today!" />
            <meta name="pinterest-rich-pin" content="true" />

            <script type="application/ld+json">
                {
                "@context": "https://schema.org",
                "@type": "WebSite",
                "name": "BestOnlineTutorial",
                "url": "https://www.bestonlinetutorial.com/"
                }
            </script>
            <!-- Common CSS & Icons -->
            <link rel="icon" href="/favicon.ico" type="image/x-icon">
            <link rel="stylesheet" href="/assets/plugins/highlight/styles/monokai-sublime.css">
            <link id="theme-style" rel="stylesheet" href="/assets/css/theme-8.css">
            <link rel="stylesheet" href="/assets/css/post.css">
            <title>How can you read client IP addresses from HTTP requests behind Kubernetes services?</title>
            <meta name="description" content="Discover how to read client IP addresses from HTTP requests in Kubernetes services. Enhance your app's networking insights today!">
            <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
	        <script src="/assets/js/blog.js"></script>
        </head>

        <body>

            <div id="header-placeholder"></div>

            <div class="main-wrapper">

                <article class="blog-post px-3 py-5 p-md-5">
                    <div class="container single-col-max-width">
                        <header class="blog-post-header">
                            <h1 class="title mb-2">How can you read client IP addresses from HTTP requests behind Kubernetes services?</h1>
                        </header>

                        <div class="blog-post-body">
                            <p><strong>How to Read Client IP Addresses from HTTP Requests in
Kubernetes</strong></p>
<p>To read client IP addresses from HTTP requests behind Kubernetes
services, we need to set up our Kubernetes networking right. We can use
the right headers like <code>X-Forwarded-For</code>. We also have to
make sure our Ingress controllers forward these headers correctly. This
way, we can get the original client IP addresses easily. It helps our
applications know where requests come from. This is important for
logging, security, and analytics.</p>
<p>In this article, we will look at different ways to get client IP
addresses in Kubernetes. We will check out the Kubernetes networking
model. We will talk about the <code>X-Forwarded-For</code> header. We
will also see how to set up Ingress controllers for correct detection.
We will discuss using service mesh technologies and adding custom
middleware to keep client IP addresses safe. Here’s what we can
learn:</p>
<ul>
<li>Understanding the Kubernetes Networking Model for Client IPs</li>
<li>Using the X-Forwarded-For Header to Get Client IPs</li>
<li>Setting Up Ingress Controllers for Correct Client IP Detection</li>
<li>Using Service Mesh for Client IP Address Safety</li>
<li>Adding Custom Middleware to Get Client IPs</li>
<li>Questions We Often Get</li>
</ul>
<h2
id="understanding-the-kubernetes-networking-model-for-client-ips">Understanding
the Kubernetes Networking Model for Client IPs</h2>
<p>In Kubernetes, we need to handle client IP addresses. This is
important for applications that want to track or log the original IP of
incoming requests. The Kubernetes networking model helps us connect
pods, services, and outside clients easily.</p>
<p>When a client sends a request to a service, the real client IP might
not stay the same. This is because of how Kubernetes services work.
There are a few situations we should think about:</p>
<ul>
<li><p><strong>ClusterIP Services</strong>: These are services inside
the cluster that show a group of pods. The client IP does not stay.
Instead, we use the service IP.</p></li>
<li><p><strong>NodePort Services</strong>: These services connect to a
port on each node. This way, outside traffic can reach the service. The
client IP can be sent along if we set the right configurations.</p></li>
<li><p><strong>LoadBalancer Services</strong>: These services are
usually managed by cloud providers. They can keep the client IP by using
certain annotations and settings.</p></li>
</ul>
<p>To keep the original client IP address, we need to set some
configurations. This is especially true when using ingress controllers
or service meshes. We must understand these details to log and process
client IPs correctly in our Kubernetes setup.</p>
<p>For more details on Kubernetes networking, check out <a
href="https://bestonlinetutorial.com/kubernetes/how-does-kubernetes-networking-work.html">how
does Kubernetes networking work</a>.</p>
<h2 id="using-the-x-forwarded-for-header-to-retrieve-client-ips">Using
the X-Forwarded-For Header to Retrieve Client IPs</h2>
<p>When we work with HTTP requests in Kubernetes, the client IP address
can get hidden. This happens because Kubernetes services and ingress
controllers manage traffic in a certain way. To get the real client IP,
we can use the <code>X-Forwarded-For</code> header. This header is a
common HTTP header that shows the starting IP address of a client that
connects through an HTTP proxy or load balancer.</p>
<ol type="1">
<li><p><strong>Understanding X-Forwarded-For</strong>:</p>
<ul>
<li><p>The <code>X-Forwarded-For</code> header usually has a list of IP
addresses separated by commas. The first IP address is the original
client IP.</p></li>
<li><p>Example of the header:</p>
<pre><code>X-Forwarded-For: client1, proxy1, proxy2</code></pre></li>
<li><p>Here, <code>client1</code> is the client’s IP address.</p></li>
</ul></li>
<li><p><strong>Configuring Your Application</strong>: We need to make
sure our application can read and use the <code>X-Forwarded-For</code>
header. In many web frameworks, we can easily get this header.</p>
<p><strong>Example in Node.js using Express</strong>:</p>
<div class="sourceCode" id="cb2"><pre
class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>app<span class="op">.</span><span class="fu">get</span>(<span class="st">&#39;/&#39;</span><span class="op">,</span> (req<span class="op">,</span> res) <span class="kw">=&gt;</span> {</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> clientIp <span class="op">=</span> req<span class="op">.</span><span class="at">headers</span>[<span class="st">&#39;x-forwarded-for&#39;</span>] <span class="op">||</span> req<span class="op">.</span><span class="at">connection</span><span class="op">.</span><span class="at">remoteAddress</span><span class="op">;</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>    res<span class="op">.</span><span class="fu">send</span>(<span class="vs">`Client IP: </span><span class="sc">${</span>clientIp<span class="sc">}</span><span class="vs">`</span>)<span class="op">;</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>})<span class="op">;</span></span></code></pre></div></li>
<li><p><strong>Ingress Controller Configuration</strong>: If we use an
ingress controller like NGINX, we must make it keep the
<code>X-Forwarded-For</code> header. We can do this with some
annotations in our Ingress resource:</p>
<div class="sourceCode" id="cb3"><pre
class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">apiVersion</span><span class="kw">:</span><span class="at"> networking.k8s.io/v1</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">kind</span><span class="kw">:</span><span class="at"> Ingress</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="fu">metadata</span><span class="kw">:</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">name</span><span class="kw">:</span><span class="at"> example-ingress</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">annotations</span><span class="kw">:</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">nginx.ingress.kubernetes.io/use-forwarded-headers</span><span class="kw">:</span><span class="at"> </span><span class="st">&quot;true&quot;</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="fu">spec</span><span class="kw">:</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">rules</span><span class="kw">:</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">host</span><span class="kw">:</span><span class="at"> example.com</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">http</span><span class="kw">:</span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="fu">paths</span><span class="kw">:</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a><span class="at">          </span><span class="kw">-</span><span class="at"> </span><span class="fu">path</span><span class="kw">:</span><span class="at"> /</span></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a><span class="at">            </span><span class="fu">pathType</span><span class="kw">:</span><span class="at"> Prefix</span></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a><span class="at">            </span><span class="fu">backend</span><span class="kw">:</span></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a><span class="at">              </span><span class="fu">service</span><span class="kw">:</span></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a><span class="at">                </span><span class="fu">name</span><span class="kw">:</span><span class="at"> example-service</span></span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a><span class="at">                </span><span class="fu">port</span><span class="kw">:</span></span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a><span class="at">                  </span><span class="fu">number</span><span class="kw">:</span><span class="at"> </span><span class="dv">80</span></span></code></pre></div></li>
<li><p><strong>Testing the Configuration</strong>: After we deploy our
application and Ingress setup, we can test if the client IP is logged
correctly. We do this by sending requests through the ingress and
checking our application’s logs.</p></li>
<li><p><strong>Considerations</strong>:</p>
<ul>
<li>Make sure your reverse proxy (like NGINX or HAProxy) is set up to
forward headers.</li>
<li>Be careful about trust. We should check the
<code>X-Forwarded-For</code> header if our app is open to the public
internet to prevent IP spoofing.</li>
<li>Think about adding security steps, like limiting the rate based on
IP addresses.</li>
</ul></li>
</ol>
<p>By using the <code>X-Forwarded-For</code> header in our application
and setting up our ingress controller right, we can get the original
client IP addresses behind Kubernetes services. For more details on
setting up ingress in Kubernetes, check out the article on <a
href="https://bestonlinetutorial.com/kubernetes/how-do-i-configure-ingress-for-external-access-to-my-applications.html">how
to configure ingress for external access to applications</a>.</p>
<h2
id="configuring-ingress-controllers-for-accurate-client-ip-detection">Configuring
Ingress Controllers for Accurate Client IP Detection</h2>
<p>To read client IP addresses in Kubernetes correctly, we need to
configure Ingress controllers properly. We must set up the Ingress
controllers to keep the original client IP. This is better than using
the IP address of the proxied server. Here are some important
configurations and examples.</p>
<ol type="1">
<li><p><strong>Nginx Ingress Controller Configuration</strong></p>
<p>To keep the client IP, we must add the following annotations in our
Ingress resource:</p>
<div class="sourceCode" id="cb4"><pre
class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">apiVersion</span><span class="kw">:</span><span class="at"> networking.k8s.io/v1</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="fu">kind</span><span class="kw">:</span><span class="at"> Ingress</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="fu">metadata</span><span class="kw">:</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">name</span><span class="kw">:</span><span class="at"> example-ingress</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">annotations</span><span class="kw">:</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">nginx.ingress.kubernetes.io/use-http2</span><span class="kw">:</span><span class="at"> </span><span class="st">&quot;true&quot;</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">nginx.ingress.kubernetes.io/enable-access-log</span><span class="kw">:</span><span class="at"> </span><span class="st">&quot;true&quot;</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a><span class="fu">    nginx.ingress.kubernetes.io/proxy-set-headers</span><span class="kw">: </span><span class="ch">|</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>      X-Forwarded-For: $proxy_add_x_forwarded_for</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a><span class="fu">spec</span><span class="kw">:</span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">rules</span><span class="kw">:</span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">host</span><span class="kw">:</span><span class="at"> example.com</span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">http</span><span class="kw">:</span></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">paths</span><span class="kw">:</span></span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="fu">path</span><span class="kw">:</span><span class="at"> /</span></span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="fu">pathType</span><span class="kw">:</span><span class="at"> Prefix</span></span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="fu">backend</span><span class="kw">:</span></span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a><span class="at">          </span><span class="fu">service</span><span class="kw">:</span></span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a><span class="at">            </span><span class="fu">name</span><span class="kw">:</span><span class="at"> example-service</span></span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a><span class="at">            </span><span class="fu">port</span><span class="kw">:</span></span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a><span class="at">              </span><span class="fu">number</span><span class="kw">:</span><span class="at"> </span><span class="dv">80</span></span></code></pre></div></li>
<li><p><strong>Setting Up Proxy Protocol</strong></p>
<p>If we are using a LoadBalancer service or a cloud provider, we should
enable the proxy protocol. This lets the Ingress controller read the
client IP:</p>
<div class="sourceCode" id="cb5"><pre
class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">apiVersion</span><span class="kw">:</span><span class="at"> v1</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="fu">kind</span><span class="kw">:</span><span class="at"> Service</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="fu">metadata</span><span class="kw">:</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">name</span><span class="kw">:</span><span class="at"> nginx-ingress-controller</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">annotations</span><span class="kw">:</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">service.beta.kubernetes.io/aws-load-balancer-proxy-protocol</span><span class="kw">:</span><span class="at"> </span><span class="st">&quot;*&quot;</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="fu">spec</span><span class="kw">:</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> LoadBalancer</span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">ports</span><span class="kw">:</span></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> http</span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">port</span><span class="kw">:</span><span class="at"> </span><span class="dv">80</span></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">targetPort</span><span class="kw">:</span><span class="at"> </span><span class="dv">80</span></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">selector</span><span class="kw">:</span></span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">app</span><span class="kw">:</span><span class="at"> nginx-ingress</span></span></code></pre></div></li>
<li><p><strong>Traefik Ingress Controller Configuration</strong></p>
<p>For Traefik, we need to have this middleware set up to capture the
client IP:</p>
<div class="sourceCode" id="cb6"><pre
class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">apiVersion</span><span class="kw">:</span><span class="at"> traefik.containo.us/v1alpha1</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="fu">kind</span><span class="kw">:</span><span class="at"> Middleware</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="fu">metadata</span><span class="kw">:</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">name</span><span class="kw">:</span><span class="at"> client-ip</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="fu">spec</span><span class="kw">:</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">headers</span><span class="kw">:</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">customRequestHeaders</span><span class="kw">:</span></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">X-Forwarded-For</span><span class="kw">:</span><span class="at"> </span><span class="st">&quot;{remoteAddr}&quot;</span></span></code></pre></div></li>
<li><p><strong>Envoy Proxy Configuration</strong></p>
<p>If we use Envoy, we should set the <code>use_remote_address</code>
option to true in our listener configuration:</p>
<div class="sourceCode" id="cb7"><pre
class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">static_resources</span><span class="kw">:</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">listeners</span><span class="kw">:</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> listener_0</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">address</span><span class="kw">:</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">socket_address</span><span class="kw">:</span><span class="at"> </span><span class="kw">{</span><span class="at"> </span><span class="fu">address</span><span class="kw">:</span><span class="at"> </span><span class="fl">0.0.0.0</span><span class="kw">,</span><span class="at"> </span><span class="fu">port_value</span><span class="kw">:</span><span class="at"> </span><span class="dv">80</span><span class="at"> </span><span class="kw">}</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">filter_chains</span><span class="kw">:</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">filters</span><span class="kw">:</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> </span><span class="st">&quot;envoy.filters.network.http_connection_manager&quot;</span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a><span class="at">        </span><span class="fu">config</span><span class="kw">:</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a><span class="at">          </span><span class="fu">codec_type</span><span class="kw">:</span><span class="at"> AUTO</span></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a><span class="at">          </span><span class="fu">stat_prefix</span><span class="kw">:</span><span class="at"> ingress_http</span></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a><span class="at">          </span><span class="fu">route_config</span><span class="kw">:</span></span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a><span class="at">            </span><span class="fu">name</span><span class="kw">:</span><span class="at"> local_route</span></span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a><span class="at">          </span><span class="fu">http_filters</span><span class="kw">:</span></span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a><span class="at">            </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> envoy.filters.http.router</span></span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a><span class="at">          </span><span class="fu">use_remote_address</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span></code></pre></div></li>
</ol>
<p>By setting up our Ingress controllers right, we can keep the original
client IP addresses. This helps us see them in our application logs and
headers. For more detailed configurations, we can check the
documentation on <a
href="https://bestonlinetutorial.com/kubernetes/how-do-i-configure-ingress-for-external-access-to-my-applications.html">how
to configure ingress for external access to applications</a>.</p>
<h2
id="leveraging-service-mesh-for-client-ip-address-preservation">Leveraging
Service Mesh for Client IP Address Preservation</h2>
<p>We can use service meshes like Istio or Linkerd to manage how
microservices talk to each other in a Kubernetes environment. They also
help keep the client IP addresses in HTTP requests. This is important
for applications that need to know the correct client identity for
logging, analytics, or security.</p>
<h3 id="configuration-for-client-ip-preservation">Configuration for
Client IP Preservation</h3>
<p>To use a service mesh for keeping the client IP, we need to set
things up right both in the mesh and in our application.</p>
<h4 id="istio-configuration">Istio Configuration</h4>
<ol type="1">
<li><p><strong>Install Istio</strong>: First, we need to make sure Istio
is installed and set up in our Kubernetes cluster.</p></li>
<li><p><strong>Enable Proxy Protocol</strong>: Next, we should configure
the ingress gateway to use the proxy protocol. This will let the
original client IP pass through. We can change the Istio Gateway
resource like this:</p>
<div class="sourceCode" id="cb8"><pre
class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">apiVersion</span><span class="kw">:</span><span class="at"> networking.istio.io/v1beta1</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="fu">kind</span><span class="kw">:</span><span class="at"> Gateway</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="fu">metadata</span><span class="kw">:</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">name</span><span class="kw">:</span><span class="at"> my-gateway</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a><span class="fu">spec</span><span class="kw">:</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">selector</span><span class="kw">:</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">istio</span><span class="kw">:</span><span class="at"> ingressgateway</span><span class="co"> # use Istio’s built-in gateway</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">servers</span><span class="kw">:</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">port</span><span class="kw">:</span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">number</span><span class="kw">:</span><span class="at"> </span><span class="dv">80</span></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">name</span><span class="kw">:</span><span class="at"> http</span></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">protocol</span><span class="kw">:</span><span class="at"> HTTP</span></span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">hosts</span><span class="kw">:</span></span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="st">&quot;*&quot;</span></span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a><span class="co">    # Enable the proxy protocol</span></span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">proxyProtocol</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span></code></pre></div></li>
<li><p><strong>Use X-Forwarded-For Header</strong>: Our applications
behind the service mesh should check the <code>X-Forwarded-For</code>
header to find the real client IP. Here is an example in a Node.js
app:</p>
<div class="sourceCode" id="cb9"><pre
class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> express <span class="op">=</span> <span class="pp">require</span>(<span class="st">&#39;express&#39;</span>)<span class="op">;</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> app <span class="op">=</span> <span class="fu">express</span>()<span class="op">;</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>app<span class="op">.</span><span class="fu">get</span>(<span class="st">&#39;/&#39;</span><span class="op">,</span> (req<span class="op">,</span> res) <span class="kw">=&gt;</span> {</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> clientIp <span class="op">=</span> req<span class="op">.</span><span class="at">headers</span>[<span class="st">&#39;x-forwarded-for&#39;</span>] <span class="op">||</span> req<span class="op">.</span><span class="at">connection</span><span class="op">.</span><span class="at">remoteAddress</span><span class="op">;</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>    res<span class="op">.</span><span class="fu">send</span>(<span class="vs">`Client IP: </span><span class="sc">${</span>clientIp<span class="sc">}</span><span class="vs">`</span>)<span class="op">;</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>})<span class="op">;</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>app<span class="op">.</span><span class="fu">listen</span>(<span class="dv">3000</span><span class="op">,</span> () <span class="kw">=&gt;</span> {</span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>    <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="st">&#39;Server is running on port 3000&#39;</span>)<span class="op">;</span></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>})<span class="op">;</span></span></code></pre></div></li>
</ol>
<h3 id="linkerd-configuration">Linkerd Configuration</h3>
<ol type="1">
<li><p><strong>Install Linkerd</strong>: We also need to install Linkerd
in our Kubernetes cluster.</p></li>
<li><p><strong>Ingress Configuration</strong>: After that, we set up
Linkerd to work with our ingress controller. We can make Linkerd use the
<code>X-Forwarded-For</code> header.</p>
<div class="sourceCode" id="cb10"><pre
class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">apiVersion</span><span class="kw">:</span><span class="at"> networking.istio.io/v1beta1</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="fu">kind</span><span class="kw">:</span><span class="at"> Gateway</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="fu">metadata</span><span class="kw">:</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">name</span><span class="kw">:</span><span class="at"> my-gateway</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a><span class="fu">spec</span><span class="kw">:</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">selector</span><span class="kw">:</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">linkerd.io/inject</span><span class="kw">:</span><span class="at"> enabled</span></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">servers</span><span class="kw">:</span></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">port</span><span class="kw">:</span></span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">number</span><span class="kw">:</span><span class="at"> </span><span class="dv">80</span></span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">name</span><span class="kw">:</span><span class="at"> http</span></span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">protocol</span><span class="kw">:</span><span class="at"> HTTP</span></span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">hosts</span><span class="kw">:</span></span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="st">&quot;*&quot;</span></span></code></pre></div></li>
<li><p><strong>Accessing Client IP</strong>: Just like in Istio, our
applications must read the <code>X-Forwarded-For</code> header. In a
Python Flask app, it looks like this:</p>
<div class="sourceCode" id="cb11"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> flask <span class="im">import</span> Flask, request</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>app <span class="op">=</span> Flask(<span class="va">__name__</span>)</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="at">@app.route</span>(<span class="st">&#39;/&#39;</span>)</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> index():</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>    client_ip <span class="op">=</span> request.headers.get(<span class="st">&#39;X-Forwarded-For&#39;</span>, request.remote_addr)</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="ss">f&#39;Client IP: </span><span class="sc">{</span>client_ip<span class="sc">}</span><span class="ss">&#39;</span></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="va">__name__</span> <span class="op">==</span> <span class="st">&#39;__main__&#39;</span>:</span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>    app.run(host<span class="op">=</span><span class="st">&#39;0.0.0.0&#39;</span>, port<span class="op">=</span><span class="dv">3000</span>)</span></code></pre></div></li>
</ol>
<p>By setting up a service mesh like Istio or Linkerd correctly, we can
make sure our applications get the original client IP address. This
helps with more accurate logging and analytics. It also improves
security by linking requests to their original IP addresses. For more
information on Kubernetes and service meshes, you can check out <a
href="https://bestonlinetutorial.com/kubernetes/what-is-a-service-mesh-and-how-does-it-relate-to-kubernetes.html">this
article</a>.</p>
<h2
id="implementing-custom-middleware-to-extract-client-ips">Implementing
Custom Middleware to Extract Client IPs</h2>
<p>We can read client IP addresses from HTTP requests in Kubernetes
services. To do this, we can use custom middleware in our application.
Middleware helps us intercept requests and get the original client IP
address. Here is a simple example of how we can do this in a Node.js
Express application.</p>
<h3 id="example-code">Example Code</h3>
<ol type="1">
<li><p><strong>Create Middleware Function</strong>: This middleware
checks the <code>X-Forwarded-For</code> header. It then gets the client
IP.</p>
<div class="sourceCode" id="cb12"><pre
class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> express <span class="op">=</span> <span class="pp">require</span>(<span class="st">&#39;express&#39;</span>)<span class="op">;</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> app <span class="op">=</span> <span class="fu">express</span>()<span class="op">;</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> extractClientIP <span class="op">=</span> (req<span class="op">,</span> res<span class="op">,</span> next) <span class="kw">=&gt;</span> {</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> xForwardedFor <span class="op">=</span> req<span class="op">.</span><span class="at">headers</span>[<span class="st">&#39;x-forwarded-for&#39;</span>]<span class="op">;</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> clientIP <span class="op">=</span> xForwardedFor <span class="op">?</span> xForwardedFor<span class="op">.</span><span class="fu">split</span>(<span class="st">&#39;,&#39;</span>)[<span class="dv">0</span>] <span class="op">:</span> req<span class="op">.</span><span class="at">connection</span><span class="op">.</span><span class="at">remoteAddress</span><span class="op">;</span></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>    req<span class="op">.</span><span class="at">clientIP</span> <span class="op">=</span> clientIP<span class="op">;</span></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">next</span>()<span class="op">;</span></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>}<span class="op">;</span></span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>app<span class="op">.</span><span class="fu">use</span>(extractClientIP)<span class="op">;</span></span></code></pre></div></li>
<li><p><strong>Use Middleware in Routes</strong>: After we set up the
middleware, we can use it in our routes. This lets us access the client
IP.</p>
<div class="sourceCode" id="cb13"><pre
class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>app<span class="op">.</span><span class="fu">get</span>(<span class="st">&#39;/api/data&#39;</span><span class="op">,</span> (req<span class="op">,</span> res) <span class="kw">=&gt;</span> {</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>    res<span class="op">.</span><span class="fu">send</span>(<span class="vs">`Client IP: </span><span class="sc">${</span>req<span class="op">.</span><span class="at">clientIP</span><span class="sc">}</span><span class="vs">`</span>)<span class="op">;</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>})<span class="op">;</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> PORT <span class="op">=</span> <span class="bu">process</span><span class="op">.</span><span class="at">env</span><span class="op">.</span><span class="at">PORT</span> <span class="op">||</span> <span class="dv">3000</span><span class="op">;</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>app<span class="op">.</span><span class="fu">listen</span>(PORT<span class="op">,</span> () <span class="kw">=&gt;</span> {</span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>    <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="vs">`Server running on port </span><span class="sc">${</span>PORT<span class="sc">}</span><span class="vs">`</span>)<span class="op">;</span></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>})<span class="op">;</span></span></code></pre></div></li>
</ol>
<h3 id="deployment-considerations">Deployment Considerations</h3>
<ul>
<li>We need to make sure that our Kubernetes service or ingress
controller is set up right to forward the <code>X-Forwarded-For</code>
header.</li>
<li>We can use an environment variable to set the port. This helps our
application work well in different environments.</li>
</ul>
<p>This custom middleware method helps us capture client IP addresses
easily. It gives us important information for logging, analytics, or
security checks. For more details on how to set up ingress and services,
check out <a
href="https://bestonlinetutorial.com/kubernetes/how-do-i-configure-ingress-for-external-access-to-my-applications.html">how
to configure ingress for external access to my applications</a>.</p>
<h2 id="frequently-asked-questions">Frequently Asked Questions</h2>
<h3
id="how-can-we-retrieve-the-original-client-ip-address-behind-a-kubernetes-service">1.
How can we retrieve the original client IP address behind a Kubernetes
service?</h3>
<p>We can get the original client IP address from HTTP requests behind
Kubernetes services by using the <code>X-Forwarded-For</code> HTTP
header. This header gets added automatically by proxies and load
balancers like Kubernetes ingress controllers. It shows the real IP of
the client making the request. We need to make sure our ingress
controller is set up to keep this header so we can get the client IP
correctly.</p>
<h3
id="what-is-the-purpose-of-the-x-forwarded-for-header-in-kubernetes">2.
What is the purpose of the X-Forwarded-For header in Kubernetes?</h3>
<p>The <code>X-Forwarded-For</code> header is very important in
Kubernetes networking. It helps applications to receive the real IP
address of the client who makes the request. This header is added by
proxies and ingress controllers. It gives a way to know where the
traffic comes from. This is important for logging, analytics, and
security in cloud-native applications.</p>
<h3
id="how-do-we-configure-an-ingress-controller-to-preserve-client-ips">3.
How do we configure an ingress controller to preserve client IPs?</h3>
<p>To make sure our ingress controller keeps client IPs, we need to set
it up right. For example, with NGINX Ingress Controller, we can set
<code>use-proxy-protocol</code> to <code>true</code> in our
configuration. This way, the ingress controller can read the
<code>X-Forwarded-For</code> header and send the original client IP to
our backend services correctly.</p>
<h3
id="can-a-service-mesh-help-with-client-ip-address-preservation-in-kubernetes">4.
Can a service mesh help with client IP address preservation in
Kubernetes?</h3>
<p>Yes, a service mesh like Istio can help keep client IP addresses in
Kubernetes. By setting up the service mesh to pass on the
<code>X-Forwarded-For</code> header, it makes sure the original client
IP stays the same during service communication. This is very helpful for
microservices architectures that need to see where requests come
from.</p>
<h3
id="is-it-possible-to-implement-custom-middleware-to-extract-client-ips-in-a-kubernetes-application">5.
Is it possible to implement custom middleware to extract client IPs in a
Kubernetes application?</h3>
<p>Yes, we can create custom middleware in our application to get client
IP addresses from incoming requests. By looking at the
<code>X-Forwarded-For</code> header, our middleware can log or process
the original client IP correctly. This is useful for applications that
need detailed logging or user tracking behind Kubernetes services.</p>
<p>For more details, we can check our articles on <a
href="https://bestonlinetutorial.com/kubernetes/how-does-kubernetes-networking-work.html">Kubernetes
Networking</a> and <a
href="https://bestonlinetutorial.com/kubernetes/how-do-i-configure-ingress-for-external-access-to-my-applications.html">Ingress
Configuration</a> to understand better how to manage client IP
addresses.</p>

                        </div>

                    </div>
                    <!--//container-->
                </article>

            </div>
            <!--//main-wrapper-->

            <div id="footer-placeholder"></div>

            <!-- Javascript -->
            <script src="/assets/plugins/popper.min.js" defer></script>
            <script src="/assets/plugins/bootstrap/js/bootstrap.min.js" defer></script>
            <script src="/assets/fontawesome/js/all.min.js" defer></script>
        </body>

        </html>
            
            